<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-23Y1V450SR');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Furnace Heat Duty Calculator - Design Calculators - Mechanical</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax for LaTeX rendering -->
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="icon" href="/favicon.ico" type="image/x-icon">

    <script>
        // MathJax configuration to support inline and display LaTeX
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    <style>
        /* CSS Variables for theming (light and dark mode) */
        :root {
            --primary-color: #2196F3;
            --secondary-color: #1976D2;
            --accent-color: #FFC100; /* Adjusted for better visibility */
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --header-bg: #2C3E50;
            --footer-bg: #34495E;
            --border-color: #cccccc;
            --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            --hover-color: #e2e6ea;
            --primary-color-rgb: 33, 150, 243;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        /* Dark mode overrides */
        body.dark-mode {
            --primary-color: #5DADE2;
            --secondary-color: #2874A6;
            --bg-color: #252D3A;
            --card-bg: #2F3C4C;
            --text-color: #E0E6EB;
            --header-bg: #252D3A;
            --footer-bg: #252D3A;
            --border-color: #4C5C70;
            --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            --hover-color: #3A475C;
            --primary-color-rgb: 93, 173, 226;
            --success-color: #4CAF50;
            --error-color: #F44336;
        }
        /* Base body styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at center, var(--bg-color) 0%, rgba(244, 247, 246, 0.8) 100%);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s, background-image 0.3s;
        }
        /* Container for content width limitation and centering */
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px;
        }
        /* Header styling */
        header {
            background-color: var(--header-bg);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: var(--card-shadow);
            position: relative;
        }
        header h1 {
            margin: 0;
            font-size: 2.8em;
            color: var(--primary-color);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        header .subtitle {
            margin: 8px 0 0;
            font-size: 1.1em;
            color: #bdc3c7;
        }
        /* Main content area styling */
        main {
            padding: 30px 0;
        }
        /* Tool container styling */
        .tool-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            margin-bottom: 25px;
            transition: transform 0.3s ease-in-out;
        }
        .tool-container:hover {
            transform: translateY(-5px);
        }
        .tool-container h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 12px;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 2em;
        }
        .tool-description {
            margin-bottom: 25px;
            color: var(--text-color);
            font-size: 1.05em;
        }
        .tool-description ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
            margin-top: 15px;
        }
        .tool-description ul li {
            margin-bottom: 8px;
        }
        .tool-description strong {
            color: var(--primary-color);
        }
        /* Back button styling */
        .back-button {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            margin-bottom: 25px;
            transition: background-color 0.3s, transform 0.2s ease-in-out;
            font-weight: bold;
        }
        .back-button:hover {
            background-color: var(--secondary-color);
            transform: scale(1.03);
        }
        /* Theme toggle switch styling */
        .theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            display: flex;
            align-items: center;
        }
        .theme-toggle .light-icon,
        .theme-toggle .dark-icon {
            color: white;
            margin: 0 8px;
            font-size: 1.3em;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 65px;
            height: 38px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 30px;
            width: 30px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        input:focus + .slider {
            box-shadow: 0 0 1px var(--primary-color);
        }
        input:checked + .slider:before {
            transform: translateX(27px);
        }
        .slider.round {
            border-radius: 38px;
        }
        .slider.round:before {
            border-radius: 50%;
        }
        /* Footer styling */
        footer {
            background-color: var(--footer-bg);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.2);
            margin-top: 40px;
        }
        footer .disclaimer h3,
        footer .social-share h3 {
            color: var(--primary-color);
            margin-bottom: 12px;
            font-size: 1.3em;
        }
        footer .disclaimer p {
            font-size: 0.95em;
            color: #bdc3c7;
        }
        .social-buttons {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .social-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            font-size: 1.4em;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 15px rgba(0,0,0,0.3);
        }
        /* Specific social button colors */
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .social-btn.reddit { background-color: #FF4500; }
        .social-btn.email { background-color: #7f8c8d; }
        /* Calculator form styling */
        .calculator-form {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            margin-top: 25px;
            box-shadow: var(--card-shadow);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1.05em;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--bg-color);
            color: var(--text-color);
            box-sizing: border-box;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.08);
        }
        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.3);
            outline: none;
        }
        /* Radio button group styling */
        .radio-group {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .radio-group label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: normal;
            margin-bottom: 0;
        }
        .radio-group input[type="radio"] {
            width: auto;
            margin-right: 8px;
            accent-color: var(--primary-color);
        }

        /* Responsive form row layout */
        .form-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap; /* Allows items to wrap on smaller screens */
        }
        .form-row .form-group {
            flex: 1 1 calc(50% - 10px); /* Two columns, with gap */
            min-width: 280px; /* Minimum width before wrapping */
        }
        /* Media query for single column on small screens */
        @media (max-width: 600px) {
            .form-row .form-group {
                flex: 1 1 100%; /* Single column */
            }
        }
        /* Calculate button styling */
        .calculate-btn {
            background-image: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 18px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 17px;
            font-weight: bold;
            margin-top: 20px;
            transition: background-image 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 100%; /* Full width button */
        }
        .calculate-btn:hover {
            background-image: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        /* Result container styling */
        .result-container {
            margin-top: 40px;
            padding: 30px;
            border-radius: 12px;
            background-color: var(--card-bg);
            box-shadow: var(--card-shadow);
            display: block; /* Always block, but opacity controls visibility */
            opacity: 0;
            transition: opacity 0.6s ease-out;
            pointer-events: none; /* Prevents interaction when hidden */
        }
        .result-container.show {
            opacity: 1;
            pointer-events: auto; /* Allows interaction when shown */
        }
        /* Result table styling */
        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .result-table th, .result-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        .result-table th {
            background-color: var(--hover-color);
            font-weight: bold;
            font-size: 1.1em;
        }
        .result-table tr:last-child td {
            border-bottom: none;
        }
        /* Standard reference text styling */
        .standard-reference {
            margin-top: 25px;
            font-style: italic;
            font-size: 0.95rem;
            line-height: 1.5;
            padding: 10px;
            background-color: var(--bg-color);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        /* Tooltip styling */
        .info-icon {
            color: var(--primary-color);
            margin-left: 8px;
            cursor: help;
            font-size: 1em;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 220px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the element */
            left: 50%;
            margin-left: -110px; /* Center the tooltip */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85em;
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%; /* Arrow at the bottom */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        /* Custom message box for alerts */
        #custom-message-box {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 18px 30px;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            font-weight: bold;
            color: white;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, background-color 0.3s;
            font-size: 1.1em;
        }
        #custom-message-box.info {
            background-color: var(--success-color);
        }
        #custom-message-box.error {
            background-color: var(--error-color);
        }
        #custom-message-box.warning {
            background-color: var(--accent-color);
            color: #333;
        }

        /* Calculation details section styling */
        #calculation-details {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            font-size: 0.98em;
            overflow-x: auto; /* Allow horizontal scrolling for formulas if needed */
        }
        #calculation-details h4 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        #calculation-details p.formula {
            font-family: 'Times New Roman', serif;
            font-style: italic;
            font-size: 1.2em;
            text-align: center;
            padding: 12px 0;
            background-color: var(--hover-color);
            border-radius: 6px;
            margin: 15px 0;
            border: 1px dashed var(--border-color);
            white-space: nowrap; /* Prevent formula from wrapping */
        }
        #calculation-details p.calculation-step {
            font-family: 'Courier New', monospace;
            background-color: var(--hover-color);
            padding: 8px 12px;
            border-radius: 5px;
            margin-bottom: 8px;
            font-size: 0.95em;
            white-space: nowrap; /* Prevent calculation steps from wrapping */
        }
        #calculation-details ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
        }
        #calculation-details ul li {
            margin-bottom: 5px;
        }
        /* Specific styling for required inputs to highlight visually */
        input:required:invalid {
            border-color: var(--error-color);
        }
        input:required:valid {
            border-color: var(--success-color);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Design Calculators - Mechanical</h1>
            <p class="subtitle">Smart Tools for Modern Mechanical Engineers</p>
            <div class="theme-toggle">
                <span class="light-icon"><i class="fas fa-sun"></i></span>
                <label class="switch">
                    <input type="checkbox" id="theme-switch">
                    <span class="slider round"></span>
                </label>
                <span class="dark-icon"><i class="fas fa-moon"></i></span>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Back to Tools link (placeholder, replace with actual index.html if available) -->
        <a href="indexMech.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Tools
        </a>

        <div class="tool-container">
            <h2>Furnace Heat Duty & Efficiency Calculator (Industrial Grade)</h2>
            <div class="tool-description">
                <p>This calculator determines the <strong>Heat Duty</strong> (heat absorbed by the process fluid) and <strong>Thermal Efficiency (%)</strong> of an industrial furnace. It considers the heat input from fuel combustion and accounts for radiant heat losses. This tool is designed for practical assessment and optimization of industrial fired heaters and furnaces.</p>
                <p><strong>Key Inputs:</strong></p>
                <ul>
                    <li><strong>Unit System:</strong> Select Metric (kg, kJ, °C) or Imperial (lb, BTU, °F) for consistency.</li>
                    <li><strong>Fuel Mass Flow Rate (M<sub>fuel</sub>):</strong> The mass flow rate of fuel supplied to the furnace.</li>
                    <li><strong>Fuel Higher Heating Value (HHV):</strong> The energy content per unit mass of the fuel. Use measured HHV from reliable fuel analysis (e.g., ASTM standards).
                        <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Typical HHV ranges (approx.): Natural Gas ~48-55 MJ/kg (20,700-23,700 BTU/lb), Fuel Oil ~40-44 MJ/kg (17,200-18,900 BTU/lb), Coal ~15-30 MJ/kg (6,450-12,900 BTU/lb).</span></span>
                    </li>
                    <li><strong>Process Fluid Mass Flow Rate (M<sub>fluid</sub>):</strong> The mass flow rate of the fluid being heated inside the furnace coils.</li>
                    <li><strong>Process Fluid Data Input Type:</strong> Choose whether to specify the energy change using enthalpies or temperatures and specific heat.
                        <ul>
                            <li><strong>Enthalpies (h<sub>in</sub>, h<sub>out</sub>):</strong> Use for fluids undergoing phase change (e.g., steam generation, vaporization) or when precise enthalpy values are available from thermodynamic tables (e.g., steam tables, process simulation software).</li>
                            <li><strong>Temperatures (T<sub>in</sub>, T<sub>out</sub>) & Specific Heat (C<sub>p</sub>):</strong> Use for sensible heating of fluids (no phase change) where specific heat is relatively constant over the temperature range.</li>
                        </ul>
                    </li>
                    <li><strong>Radiant Heat Loss (%):</strong> The estimated percentage of the total heat input lost to the surroundings through radiation from the furnace casing. This value can typically range from 0.5% to 5% or more depending on insulation, age, and design.</li>
                </ul>
                <p><strong>Calculated Outputs:</strong></p>
                <ul>
                    <li><strong>Total Heat Input (Q<sub>input</sub>):</strong> The total thermal energy released by the combustion of the fuel, presented in both selected units and **MW**.</li>
                    <li><strong>Heat Absorbed by Process Fluid (Q<sub>output</sub> / Heat Duty):</strong> The actual heat transferred to the process fluid, presented in both selected units and **MW**. This is the primary useful output of the furnace.</li>
                    <li><strong>Radiant Heat Loss (Q<sub>rad</sub>):</strong> The estimated energy lost from the furnace through radiation, presented in both selected units and **MW**.</li>
                    <li><strong>Furnace Thermal Efficiency (\(\eta\)):</strong> The percentage of the fuel's energy that is successfully absorbed by the process fluid.</li>
                </ul>
                <p><strong>Important Note:</strong> This calculator provides a direct method energy balance. For comprehensive analysis, especially for troubleshooting or detailed design, a complete heat loss (indirect) method, considering all forms of losses (flue gas, convection, radiation, unburnt fuel, etc.), is recommended following international standards like API 560 (Fired Heaters for General Refinery Service) or ISO 13705.</p>
            </div>

            <div class="calculator-form">
                <form id="furnace-calculator-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="unit-system">Unit System: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select Metric (kg, kJ, °C) or Imperial (lb, BTU, °F).</span></span></label>
                            <select id="unit-system" required>
                                <option value="metric">Metric (kg/hr, kJ/kg, °C)</option>
                                <option value="imperial">Imperial (lb/hr, BTU/lb, °F)</option>
                            </select>
                        </div>
                    </div>

                    <h3>Fuel Input Parameters</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fuel-input-rate">Fuel Mass Flow Rate (\(M_{fuel}\)) <span class="fuel-rate-unit">(kg/hr)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Mass flow rate of fuel supplied to the furnace. Ensure accurate measurement from flow meters.</span></span></label>
                            <input type="number" id="fuel-input-rate" step="any" value="500" required min="0.01">
                        </div>
                        <div class="form-group">
                            <label for="fuel-hhv">Fuel HHV <span class="hhv-unit">(kJ/kg)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Higher Heating Value (Gross Calorific Value) of the fuel. Use measured HHV from reliable fuel analysis (e.g., ASTM standards). Typical ranges: Natural Gas ~48-55 MJ/kg (20,700-23,700 BTU/lb), Fuel Oil ~40-44 MJ/kg (17,200-18,900 BTU/lb), Coal ~15-30 MJ/kg (6,450-12,900 BTU/lb).</span></span></label>
                            <input type="number" id="fuel-hhv" step="any" value="45000" required min="0.01">
                        </div>
                    </div>

                    <h3>Process Fluid Parameters</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fluid-mass-flow">Process Fluid Mass Flow Rate (\(M_{fluid}\)) <span class="fluid-rate-unit">(kg/hr)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Mass flow rate of the fluid being heated inside the furnace coils. Obtain from process data sheets and flow meters.</span></span></label>
                            <input type="number" id="fluid-mass-flow" step="any" value="10000" required min="0.01">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Process Fluid Data Input Type:</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="fluid-input-type" value="enthalpy" checked>
                                Enthalpies
                            </label>
                            <label>
                                <input type="radio" name="fluid-input-type" value="temperature-cp">
                                Temperatures & Specific Heat (\(C_p\))
                            </label>
                        </div>
                    </div>

                    <div id="enthalpy-inputs" class="form-row">
                        <div class="form-group">
                            <label for="enthalpy-in">Inlet Enthalpy (h<sub>in</sub>) <span class="enthalpy-unit">(kJ/kg)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Specific enthalpy of process fluid at inlet. Obtain from thermodynamic tables or process simulation software.</span></span></label>
                            <input type="number" id="enthalpy-in" step="any" value="200" required min="0">
                        </div>
                        <div class="form-group">
                            <label for="enthalpy-out">Outlet Enthalpy (h<sub>out</sub>) <span class="enthalpy-unit">(kJ/kg)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Specific enthalpy of process fluid at outlet. Obtain from thermodynamic tables or process simulation software.</span></span></label>
                            <input type="number" id="enthalpy-out" step="any" value="1500" required min="0.01">
                        </div>
                    </div>

                    <div id="temperature-cp-inputs" class="form-row" style="display: none;">
                        <div class="form-group">
                            <label for="temperature-in">Inlet Temperature (T<sub>in</sub>) <span class="temp-unit">(°C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Inlet temperature of process fluid. Ensure accurate measurement.</span></span></label>
                            <input type="number" id="temperature-in" step="any" value="30" required>
                        </div>
                        <div class="form-group">
                            <label for="temperature-out">Outlet Temperature (T<sub>out</sub>) <span class="temp-unit">(°C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Outlet temperature of process fluid. Ensure accurate measurement.</span></span></label>
                            <input type="number" id="temperature-out" step="any" value="300" required>
                        </div>
                        <div class="form-group">
                            <label for="specific-heat">Specific Heat Capacity (C<sub>p</sub>) <span class="cp-unit">(kJ/kg·°C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Average specific heat capacity of the process fluid over the temperature range. For gases, consider temperature dependency.</span></span></label>
                            <input type="number" id="specific-heat" step="any" value="2.0" required min="0.01">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="radiant-loss-pct">Radiant Heat Loss (% of Heat Input): <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Estimated percentage of total heat input lost from furnace casing to ambient by radiation. Typical values range from 0.5% (well-insulated) to 5%+ (older/damaged insulation).</span></span></label>
                            <input type="number" id="radiant-loss-pct" step="0.1" value="2.5" required min="0" max="100">
                        </div>
                    </div>
                    
                    <button type="button" id="calculate-furnace-btn" class="calculate-btn">Calculate Furnace Heat Duty</button>
                </form>
            </div>

            <div id="result-container" class="result-container">
                <h3>Calculation Results</h3>
                <div id="calculation-details"></div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody id="result-table-body"></tbody>
                </table>
                <div class="standard-reference" id="standard-reference"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="disclaimer">
                <h3>Disclaimer</h3>
                <p>This Furnace Heat Duty & Efficiency Calculator performs an energy balance using the direct (input-output) method. It is designed as a practical tool for industrial engineers and operators for preliminary assessment of furnace performance.</p>
                <p><strong>Key Considerations and Limitations for Industrial Use:</strong></p>
                <ul>
                    <li><strong>Data Accuracy is Paramount:</strong> Results are critically dependent on the accuracy of all input data, especially fuel HHV and process fluid enthalpies/temperatures and specific heat. Always use calibrated instrumentation and validated thermodynamic data (e.g., from steam tables, property estimation software).</li>
                    <li><strong>Steady-State Assumption:</strong> This calculation assumes stable, steady-state operating conditions. Furnace performance can vary significantly during transient operations (start-up, shutdown, load changes). Dynamic modeling is required for such scenarios.</li>
                    <li><strong>Radiant Loss Simplification:</strong> Radiant heat loss is provided as a percentage of heat input, which is a common industrial estimation. Detailed radiation calculations involve complex heat transfer principles and furnace geometry (e.g., view factors, emissivity, actual surface temperatures), which are beyond the scope of this simplified tool.</li>
                    <li><strong>Other Losses Not Explicitly Accounted:</strong> This direct method lumps all other losses (e.g., flue gas sensible heat loss, latent heat loss due to water vapor in flue gas, convection losses, unburnt fuel losses, operational inefficiencies) into the overall efficiency. For detailed loss analysis and optimization, an indirect heat loss method (e.g., per API 560 or other relevant standards) is essential.</li>
                    <li><strong>Fuel Composition & Combustion Chemistry:</strong> This tool uses HHV as the energy input. It does not perform detailed combustion calculations based on fuel elemental analysis, flue gas composition, or excess air levels.</li>
                    <li><strong>Material & Mechanical Design:</strong> This calculator provides thermal performance metrics; it does not address the mechanical design, metallurgy, stress analysis, or safety aspects of furnace components (e.g., tubes, refractories, burners).</li>
                    <li><strong>Compliance & Standards:</strong> While based on sound principles, this tool does not replace adherence to specific industry codes, recommended practices, or performance test standards for fired heaters (e.g., API 560, ISO 13705 / ASME PTC 4) which involve rigorous procedures for testing, data validation, and reporting.</li>
                </ul>
                <p>For critical industrial processes, detailed troubleshooting, design verification, or regulatory compliance, it is <strong>imperative</strong> to conduct comprehensive plant data acquisition, perform detailed heat and mass balances, and consult with experienced process, thermal, and mechanical engineers specializing in fired heater technology.</p>
            </div>
            <div class="credit">
                <p>Created by A Sharma</p>
            </div>
            <div class="social-share">
                <h3>Share This Site</h3>
                <div class="social-buttons">
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in&title=Design Calculators - Mechanical" target="_blank" class="social-btn linkedin">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in" target="_blank" class="social-btn facebook">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="https://twitter.com/intent/tweet?text=Check out this amazing Design Calculators - Mechanical!&url=https://designcalculators.co.in" target="_blank" class="social-btn twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://api.whatsapp.com/send?text=Check out this amazing Design Calculators - Mechanical! https://designcalculators.co.in" target="_blank" class="social-btn whatsapp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="https://www.reddit.com/submit?url=https://designcalculators.co.in&title=Design Calculators - Mechanical" target="_blank" class="social-btn reddit">
                        <i class="fab fa-reddit"></i>
                    </a>
                    <a href="mailto:?subject=Check out Design Calculators - Mechanical!&body=I found this amazing Furnace Heat Duty & Efficiency Calculator and other mechanical tools: https://designcalculators.co.in" class="social-btn email">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get references to DOM elements
            const calculateBtn = document.getElementById('calculate-furnace-btn');
            const resultContainer = document.getElementById('result-container');
            const resultTableBody = document.getElementById('result-table-body');
            const standardReference = document.getElementById('standard-reference');
            const calculationDetailsDiv = document.getElementById('calculation-details');

            // Input fields
            const unitSystemSelect = document.getElementById('unit-system');
            const fuelInputRateInput = document.getElementById('fuel-input-rate');
            const fuelHHVInput = document.getElementById('fuel-hhv');
            const fluidMassFlowInput = document.getElementById('fluid-mass-flow');

            // Process fluid input type selectors
            const fluidInputTypeRadios = document.querySelectorAll('input[name="fluid-input-type"]');
            const enthalpyInputsDiv = document.getElementById('enthalpy-inputs');
            const temperatureCpInputsDiv = document.getElementById('temperature-cp-inputs');

            // Enthalpy-specific inputs
            const enthalpyInInput = document.getElementById('enthalpy-in');
            const enthalpyOutInput = document.getElementById('enthalpy-out');

            // Temperature/Cp specific inputs
            const temperatureInInput = document.getElementById('temperature-in');
            const temperatureOutInput = document.getElementById('temperature-out');
            const specificHeatInput = document.getElementById('specific-heat');
            
            const radiantLossPctInput = document.getElementById('radiant-loss-pct');

            // Labels that change text
            const fuelRateUnitLabel = document.querySelector('.fuel-rate-unit');
            const hhvUnitLabel = document.querySelector('.hhv-unit');
            const fluidRateUnitLabel = document.querySelector('.fluid-rate-unit');
            const enthalpyUnitLabels = document.querySelectorAll('.enthalpy-unit');
            const tempUnitLabels = document.querySelectorAll('.temp-unit');
            const cpUnitLabel = document.querySelector('.cp-unit');

            /**
             * Displays a custom message box at the top of the screen.
             * @param {string} message - The message to display.
             * @param {string} type - The type of message ('info', 'error', 'warning').
             */
            function displayMessage(message, type = "info") {
                let messageBox = document.getElementById('custom-message-box');
                if (!messageBox) {
                    messageBox = document.createElement('div');
                    messageBox.id = 'custom-message-box';
                    document.body.appendChild(messageBox);
                }
                messageBox.textContent = message;
                messageBox.className = ''; // Clear previous classes
                messageBox.classList.add(type); // Add type class for styling
                messageBox.style.opacity = 1;

                // Hide message after 5 seconds
                setTimeout(() => {
                    messageBox.style.opacity = 0;
                }, 5000);
            }

            /**
             * Converts an energy value from kJ/hr or BTU/hr to MW.
             * 1 MW = 3600 kJ/hr
             * 1 MW = 3,412,142 BTU/hr
             * @param {number} value - The energy value in kJ/hr or BTU/hr.
             * @param {string} unitSystem - 'metric' or 'imperial'.
             * @returns {number} The energy value in MW.
             */
            function convertToMW(value, unitSystem) {
                if (unitSystem === 'metric') {
                    return value / 3600; // kJ/hr to MW
                } else {
                    return value / 3412142; // BTU/hr to MW
                }
            }

            /**
             * Updates unit labels and input defaults based on selected unit system.
             */
            function updateUnitLabelsAndDefaults() {
                const unitSystem = unitSystemSelect.value;
                const isMetric = unitSystem === 'metric';

                // Update common units
                fuelRateUnitLabel.textContent = isMetric ? '(kg/hr)' : '(lb/hr)';
                fluidRateUnitLabel.textContent = isMetric ? '(kg/hr)' : '(lb/hr)';
                hhvUnitLabel.textContent = isMetric ? '(kJ/kg)' : '(BTU/lb)';
                enthalpyUnitLabels.forEach(label => label.textContent = isMetric ? '(kJ/kg)' : '(BTU/lb)');
                tempUnitLabels.forEach(label => label.textContent = isMetric ? '(°C)' : '(°F)');
                cpUnitLabel.textContent = isMetric ? '(kJ/kg·°C)' : '(BTU/lb·°F)';

                // Set default values based on unit system
                if (isMetric) {
                    fuelInputRateInput.value = "500";
                    fuelHHVInput.value = "45000";
                    fluidMassFlowInput.value = "10000";
                    enthalpyInInput.value = "200";
                    enthalpyOutInput.value = "1500";
                    temperatureInInput.value = "30";
                    temperatureOutInput.value = "300";
                    specificHeatInput.value = "2.0";
                } else { // Imperial
                    fuelInputRateInput.value = "1100"; // approx 500 kg/hr
                    fuelHHVInput.value = "19350"; // approx 45000 kJ/kg
                    fluidMassFlowInput.value = "22000"; // approx 10000 kg/hr
                    enthalpyInInput.value = "86"; // approx 200 kJ/kg
                    enthalpyOutInput.value = "645"; // approx 1500 kJ/kg
                    temperatureInInput.value = "86"; // approx 30°C
                    temperatureOutInput.value = "572"; // approx 300°C
                    specificHeatInput.value = "0.48"; // approx 2.0 kJ/kgC
                }
                radiantLossPctInput.value = "2.5";
                toggleFluidInputType(); // Adjust input fields based on default type
            }

            /**
             * Toggles visibility and required status of process fluid input fields.
             */
            function toggleFluidInputType() {
                const selectedType = document.querySelector('input[name="fluid-input-type"]:checked').value;

                if (selectedType === 'enthalpy') {
                    enthalpyInputsDiv.style.display = 'flex';
                    temperatureCpInputsDiv.style.display = 'none';

                    enthalpyInInput.setAttribute('required', 'true');
                    enthalpyOutInput.setAttribute('required', 'true');
                    temperatureInInput.removeAttribute('required');
                    temperatureOutInput.removeAttribute('required');
                    specificHeatInput.removeAttribute('required');
                } else {
                    enthalpyInputsDiv.style.display = 'none';
                    temperatureCpInputsDiv.style.display = 'flex';
                    
                    enthalpyInInput.removeAttribute('required');
                    enthalpyOutInput.removeAttribute('required');
                    temperatureInInput.setAttribute('required', 'true');
                    temperatureOutInput.setAttribute('required', 'true');
                    specificHeatInput.setAttribute('required', 'true');
                }
            }

            // Event listeners
            unitSystemSelect.addEventListener('change', updateUnitLabelsAndDefaults);
            fluidInputTypeRadios.forEach(radio => {
                radio.addEventListener('change', toggleFluidInputType);
            });

            // Initial UI setup on load
            updateUnitLabelsAndDefaults();

            /**
             * Adds a row to the result table.
             * @param {string} parameterHtml - The HTML content for the parameter column.
             * @param {string} valueHtml - The HTML content for the value column.
             */
            function addResultRow(parameterHtml, valueHtml) {
                const row = resultTableBody.insertRow();
                const paramCell = row.insertCell();
                const valueCell = row.insertCell();
                paramCell.innerHTML = parameterHtml;
                valueCell.innerHTML = valueHtml;
            }

            // Main Calculation Logic
            calculateBtn.addEventListener('click', function() {
                const form = document.getElementById('furnace-calculator-form');
                if (!form.checkValidity()) {
                    displayMessage("Please fill in all required fields correctly.", "error");
                    form.reportValidity(); // Show native browser validation messages
                    return;
                }

                const unitSystem = unitSystemSelect.value;
                const fuelInputRate = parseFloat(fuelInputRateInput.value);
                const fuelHHV = parseFloat(fuelHHVInput.value);
                const fluidMassFlow = parseFloat(fluidMassFlowInput.value);
                const radiantLossPct = parseFloat(radiantLossPctInput.value);

                const selectedFluidInputType = document.querySelector('input[name="fluid-input-type"]:checked').value;

                let enthalpyIn, enthalpyOut, temperatureIn, temperatureOut, specificHeat;

                if (selectedFluidInputType === 'enthalpy') {
                    enthalpyIn = parseFloat(enthalpyInInput.value);
                    enthalpyOut = parseFloat(enthalpyOutInput.value);
                } else {
                    temperatureIn = parseFloat(temperatureInInput.value);
                    temperatureOut = parseFloat(temperatureOutInput.value);
                    specificHeat = parseFloat(specificHeatInput.value);
                }

                // Validate inputs
                if (fuelInputRate <= 0 || fuelHHV <= 0 || fluidMassFlow <= 0 || radiantLossPct < 0 || radiantLossPct > 100) {
                    displayMessage("Fuel flow, HHV, fluid flow must be positive. Radiant loss must be between 0% and 100%.", "error");
                    return;
                }
                if (selectedFluidInputType === 'enthalpy' && (enthalpyOut <= enthalpyIn)) {
                    displayMessage("Outlet enthalpy must be greater than inlet enthalpy for heat absorption.", "error");
                    return;
                }
                if (selectedFluidInputType === 'temperature-cp' && (temperatureOut <= temperatureIn)) {
                     displayMessage("Outlet temperature must be greater than inlet temperature for heat absorption.", "error");
                    return;
                }
                if (selectedFluidInputType === 'temperature-cp' && specificHeat <= 0) {
                     displayMessage("Specific heat capacity must be positive.", "error");
                    return;
                }

                let calculationHtml = '<h4>Detailed Calculation Steps:</h4>';
                
                // Units for display
                const massRateUnit = unitSystem === 'metric' ? 'kg/hr' : 'lb/hr';
                const energyPerMassUnit = unitSystem === 'metric' ? 'kJ/kg' : 'BTU/lb';
                const tempUnit = unitSystem === 'metric' ? '°C' : '°F';
                const cpUnit = unitSystem === 'metric' ? 'kJ/kg·°C' : 'BTU/lb·°F';
                const totalEnergyUnit = unitSystem === 'metric' ? 'kJ/hr' : 'BTU/hr';

                // 1. Heat Input from Fuel
                const totalHeatInput = fuelInputRate * fuelHHV;
                const totalHeatInputMW = convertToMW(totalHeatInput, unitSystem);
                calculationHtml += `<p><strong>1. Calculate Total Heat Input from Fuel (Q<sub>input</sub>):</strong></p>
                                    <p class="formula">\\[ Q_{input} = M_{fuel} \\times HHV \\]</p>
                                    <p class="calculation-step">
                                        \\( Q_{input} \\) = ${fuelInputRate.toFixed(2)} ${massRateUnit} \\( \\times \\) ${fuelHHV.toFixed(2)} ${energyPerMassUnit} = ${totalHeatInput.toFixed(2)} ${totalEnergyUnit} (or ${totalHeatInputMW.toFixed(3)} MW)
                                    </p>`;

                // 2. Heat Absorbed by Process Fluid (Heat Duty)
                let heatAbsorbedFluid;
                if (selectedFluidInputType === 'enthalpy') {
                    heatAbsorbedFluid = fluidMassFlow * (enthalpyOut - enthalpyIn);
                    calculationHtml += `<p><strong>2. Calculate Heat Absorbed by Process Fluid (Heat Duty, Q<sub>output</sub>) - Using Enthalpies:</strong></p>
                                        <p class="formula">\\[ Q_{output} = M_{fluid} \\times (h_{out} - h_{in}) \\]</p>
                                        <p class="calculation-step">
                                            \\( Q_{output} \\) = ${fluidMassFlow.toFixed(2)} ${massRateUnit} \\( \\times \\) (${enthalpyOut.toFixed(2)} - ${enthalpyIn.toFixed(2)}) ${energyPerMassUnit} = ${heatAbsorbedFluid.toFixed(2)} ${totalEnergyUnit}
                                        </p>`;
                } else { // temperature-cp
                    heatAbsorbedFluid = fluidMassFlow * specificHeat * (temperatureOut - temperatureIn);
                    calculationHtml += `<p><strong>2. Calculate Heat Absorbed by Process Fluid (Heat Duty, Q<sub>output</sub>) - Using Temperatures & Specific Heat:</strong></p>
                                        <p class="formula">\\[ Q_{output} = M_{fluid} \\times C_p \\times (T_{out} - T_{in}) \\]</p>
                                        <p class="calculation-step">
                                            \\( Q_{output} \\) = ${fluidMassFlow.toFixed(2)} ${massRateUnit} \\( \\times \\) ${specificHeat.toFixed(2)} ${cpUnit} \\( \\times \\) (${temperatureOut.toFixed(2)} - ${temperatureIn.toFixed(2)}) ${tempUnit} = ${heatAbsorbedFluid.toFixed(2)} ${totalEnergyUnit}
                                        </p>`;
                }
                const heatAbsorbedFluidMW = convertToMW(heatAbsorbedFluid, unitSystem);
                if (selectedFluidInputType === 'enthalpy') {
                    calculationHtml += `<p class="calculation-step">
                                        \\( Q_{output} \\) = ${heatAbsorbedFluid.toFixed(2)} ${totalEnergyUnit} (or ${heatAbsorbedFluidMW.toFixed(3)} MW)
                                    </p>`;
                } else {
                     calculationHtml += `<p class="calculation-step">
                                        \\( Q_{output} \\) = ${heatAbsorbedFluid.toFixed(2)} ${totalEnergyUnit} (or ${heatAbsorbedFluidMW.toFixed(3)} MW)
                                    </p>`;
                }

                // 3. Radiant Heat Loss
                const radiantHeatLoss = totalHeatInput * (radiantLossPct / 100);
                const radiantHeatLossMW = convertToMW(radiantHeatLoss, unitSystem);
                calculationHtml += `<p><strong>3. Calculate Radiant Heat Loss (Q<sub>rad</sub>):</strong></p>
                                    <p class="formula">\\[ Q_{rad} = Q_{input} \\times \\frac{\\text{Radiant Loss %}}{100} \\]</p>
                                    <p class="calculation-step">
                                        \\( Q_{rad} \\) = ${totalHeatInput.toFixed(2)} ${totalEnergyUnit} \\( \\times \\) (${radiantLossPct.toFixed(1)} / 100) = ${radiantHeatLoss.toFixed(2)} ${totalEnergyUnit} (or ${radiantHeatLossMW.toFixed(3)} MW)
                                    </p>`;

                // 4. Furnace Thermal Efficiency
                // Efficiency is based on useful heat absorbed by fluid divided by total heat input.
                const furnaceEfficiency = (heatAbsorbedFluid / totalHeatInput) * 100;
                calculationHtml += `<p><strong>4. Calculate Furnace Thermal Efficiency (\\(\\eta\\)):</strong></p>
                                    <p>Efficiency represents the percentage of total heat input that is absorbed by the process fluid.</p>
                                    <p class="formula">\\[ \\eta = \\frac{Q_{output}}{Q_{input}} \\times 100 \\% \\]</p>
                                    <p class="calculation-step">
                                        \\( \\eta \\) = (${heatAbsorbedFluid.toFixed(2)} ${totalEnergyUnit} / ${totalHeatInput.toFixed(2)} ${totalEnergyUnit}) \\( \\times \\) 100 % = ${furnaceEfficiency.toFixed(2)} %
                                    </p>`;


                // Clear previous results
                resultTableBody.innerHTML = '';
                calculationDetailsDiv.innerHTML = calculationHtml;

                // Populate results table
                addResultRow("Unit System", unitSystem === 'imperial' ? 'Imperial' : 'Metric');
                addResultRow("Fuel Mass Flow Rate (\\(M_{fuel}\\))", `${fuelInputRate.toFixed(2)} ${massRateUnit}`);
                addResultRow("Fuel HHV", `${fuelHHV.toFixed(2)} ${energyPerMassUnit}`);
                addResultRow("Process Fluid Mass Flow Rate (\\(M_{fluid}\\))", `${fluidMassFlow.toFixed(2)} ${massRateUnit}`);
                addResultRow("Process Fluid Data Type", selectedFluidInputType === 'enthalpy' ? 'Enthalpies' : 'Temperatures & C<sub>p</sub>');
                if (selectedFluidInputType === 'enthalpy') {
                    addResultRow("Inlet Enthalpy (h<sub>in</sub>)", `${enthalpyIn.toFixed(2)} ${energyPerMassUnit}`);
                    addResultRow("Outlet Enthalpy (h<sub>out</sub>)", `${enthalpyOut.toFixed(2)} ${energyPerMassUnit}`);
                } else {
                    addResultRow("Inlet Temperature (T<sub>in</sub>)", `${temperatureIn.toFixed(2)} ${tempUnit}`);
                    addResultRow("Outlet Temperature (T<sub>out</sub>)", `${temperatureOut.toFixed(2)} ${tempUnit}`);
                    addResultRow("Specific Heat Capacity (C<sub>p</sub>)", `${specificHeat.toFixed(3)} ${cpUnit}`);
                }
                addResultRow("Radiant Heat Loss (%)", `${radiantLossPct.toFixed(1)} %`);
                
                addResultRow("Total Heat Input (Q<sub>input</sub>)", `<strong>${totalHeatInput.toFixed(2)} ${totalEnergyUnit} (${totalHeatInputMW.toFixed(3)} MW)</strong>`);
                addResultRow("Heat Absorbed by Process Fluid (Heat Duty, Q<sub>output</sub>)", `<strong>${heatAbsorbedFluid.toFixed(2)} ${totalEnergyUnit} (${heatAbsorbedFluidMW.toFixed(3)} MW)</strong>`);
                addResultRow("Radiant Heat Loss (Q<sub>rad</sub>)", `<strong>${radiantHeatLoss.toFixed(2)} ${totalEnergyUnit} (${radiantHeatLossMW.toFixed(3)} MW)</strong>`);
                addResultRow("Furnace Thermal Efficiency (\\(\\eta\\))", `<strong>\\( ${furnaceEfficiency.toFixed(2)} \\) %</strong>`);


                // Re-render MathJax equations - ensure MathJax is fully loaded
                if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                    window.MathJax.typesetPromise([calculationDetailsDiv, resultTableBody]);
                }

                // Display standard reference
                standardReference.innerHTML = "This Furnace Heat Duty & Efficiency Calculator performs an energy balance using the direct (input-output) method. It is designed as a practical tool for industrial engineers and operators for preliminary assessment of furnace performance. <strong>Key Considerations and Limitations for Industrial Use:</strong> <strong>Data Accuracy is Paramount:</strong> Results are critically dependent on the accuracy of all input data, especially fuel HHV and process fluid enthalpies/temperatures and specific heat. Always use calibrated instrumentation and validated thermodynamic data (e.g., from steam tables, property estimation software). <strong>Steady-State Assumption:</strong> This calculation assumes stable, steady-state operating conditions. Furnace performance can vary significantly during transient operations (start-up, shutdown, load changes). Dynamic modeling is required for such scenarios. <strong>Radiant Loss Simplification:</strong> Radiant heat loss is provided as a percentage of heat input, which is a common industrial estimation. Detailed radiation calculations involve complex heat transfer principles and furnace geometry (e.g., view factors, emissivity, actual surface temperatures), which are beyond the scope of this simplified tool. <strong>Other Losses Not Explicitly Accounted:</strong> This direct method lumps all other losses (e.g., flue gas sensible heat loss, latent heat loss due to water vapor in flue gas, convection losses, unburnt fuel losses, operational inefficiencies) into the overall efficiency. For detailed loss analysis and optimization, an indirect heat loss method (e.g., per API 560 or other relevant standards) is essential. <strong>Fuel Composition & Combustion Chemistry:</strong> This tool uses HHV as the energy input. It does not perform detailed combustion calculations based on fuel elemental analysis, flue gas composition, or excess air levels. <strong>Material & Mechanical Design:</strong> This calculator provides thermal performance metrics; it does not address the mechanical design, metallurgy, stress analysis, or safety aspects of furnace components (e.g., tubes, refractories, burners). <strong>Compliance & Standards:</strong> While based on sound principles, this tool does not replace adherence to specific industry codes, recommended practices, or performance test standards for fired heaters (e.g., API 560, ISO 13705 / ASME PTC 4) which involve rigorous procedures for testing, data validation, and reporting. For critical industrial applications, detailed troubleshooting, design verification, or regulatory compliance, it is <strong>imperative</strong> to conduct comprehensive plant data acquisition, perform detailed heat and mass balances, and consult with experienced process, thermal, and mechanical engineers specializing in fired heater technology.";

                // Ensure result container is visible and transitions smoothly
                resultContainer.style.display = 'block'; // Make element visible
                resultContainer.offsetHeight; // Force reflow to ensure display change is registered before transition
                resultContainer.classList.add('show'); // Apply class that sets opacity to 1 and allows interaction

                resultContainer.scrollIntoView({ behavior: 'smooth' });

                displayMessage("Furnace heat duty calculation completed successfully!", "info");
            });

            // Theme switch functionality
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-mode');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.body.classList.remove('dark-mode');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        });
    </script>
</body>

</html>


