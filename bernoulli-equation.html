<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Professional Bernoulli Equation Solver - Advanced Fluid Dynamics | Design Calculators</title>
<meta name="description" content="Professional Bernoulli equation solver with advanced capabilities. Calculate pressure, velocity, or height with energy loss corrections, temperature-dependent fluid properties per ISO standards.">
<meta name="keywords" content="Bernoulli equation, fluid mechanics, pressure drop, velocity calculation, energy loss, fluid dynamics">
<meta name="author" content="Design Calculators">
<meta name="robots" content="index, follow">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-23Y1V450SR');
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

<style>
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(30px); }
to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
from { opacity: 0; transform: translateX(-30px); }
to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.05); }
}

:root {
--primary-color: #1E3A8A;
--secondary-color: #2563EB;
--accent-color: #F59E0B;
--success-color: #10B981;
--danger-color: #EF4444;
--bg-color: #F8FAFC;
--card-bg: #FFFFFF;
--text-color: #4B5563;
--heading-color: #111827;
--footer-bg: #0F172A;
--border-color: #E2E8F0;
--gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
--gradient-dark: linear-gradient(135deg, #0F172A, #1E293B);
--card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

body.dark-mode {
--primary-color: #10B981;
--secondary-color: #34D399;
--bg-color: #0F172A;
--card-bg: #1E293B;
--text-color: #CBD5E1;
--heading-color: #F1F5F9;
--footer-bg: #020617;
--border-color: #334155;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
font-family: 'Inter', sans-serif;
background-color: var(--bg-color);
color: var(--text-color);
line-height: 1.8;
transition: all 0.3s;
margin: 0;
padding: 0;
}

.container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

/* HEADER */
.header {
background: var(--gradient-primary);
color: white;
padding: 24px 0;
box-shadow: 0 4px 12px rgba(0,0,0,0.15);
animation: slideInLeft 0.5s ease;
}

.navbar {
display: flex;
justify-content: space-between;
align-items: center;
flex-wrap: wrap;
gap: 20px;
}

.logo-container {
display: flex;
align-items: center;
gap: 12px;
text-decoration: none;
color: white;
}

.logo-text {
font-size: 1.75rem;
font-weight: 800;
font-family: 'Montserrat', sans-serif;
}

.nav-links {
display: flex;
gap: 24px;
list-style: none;
margin: 0;
padding: 0;
}

.nav-links a {
color: white;
text-decoration: none;
font-weight: 500;
transition: all 0.3s;
}

.nav-links a:hover {
color: var(--accent-color);
transform: translateY(-2px);
}

.theme-toggle {
display: flex;
align-items: center;
gap: 12px;
}

.switch {
position: relative;
width: 56px;
height: 30px;
}

.switch input {
opacity: 0;
}

.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0,0,0,0.2);
transition: .4s;
border-radius: 30px;
}

.slider:before {
position: absolute;
content: "";
height: 22px;
width: 22px;
left: 4px;
bottom: 4px;
background-color: white;
transition: .4s;
border-radius: 50%;
}

input:checked + .slider {
background-color: var(--accent-color);
}

input:checked + .slider:before {
transform: translateX(26px);
}

main {
padding: 40px 0;
max-width: 1000px;
margin: 0 auto;
}

.tool-container {
background-color: var(--card-bg);
border-radius: 12px;
padding: 30px;
box-shadow: var(--card-shadow);
margin-bottom: 30px;
animation: fadeInUp 0.6s ease;
}

.tool-container:hover {
transform: translateY(-3px);
box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

.tool-container h2 {
color: var(--primary-color);
border-bottom: 3px solid var(--primary-color);
padding-bottom: 15px;
margin-top: 0;
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
font-size: 1.8rem;
}

.tool-description {
margin-bottom: 25px;
font-size: 1rem;
line-height: 1.8;
}

.tool-description ul {
list-style: disc;
margin-left: 25px;
}

.calculator-form {
background-color: var(--card-bg);
border-radius: 12px;
padding: 25px;
margin-top: 25px;
box-shadow: var(--card-shadow);
}

.form-section {
margin-bottom: 25px;
}

.form-section h3 {
color: var(--primary-color);
font-size: 1.2rem;
margin: 20px 0 15px 0;
padding-bottom: 10px;
border-bottom: 2px solid var(--border-color);
}

.form-group {
margin-bottom: 20px;
animation: slideInLeft 0.5s ease;
}

.form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: var(--heading-color);
}

.form-group input, .form-group select {
width: 100%;
padding: 12px;
border: 2px solid var(--border-color);
border-radius: 6px;
background-color: var(--bg-color);
color: var(--text-color);
font-size: 1rem;
transition: all 0.3s;
}

.form-group input:focus, .form-group select:focus {
border-color: var(--primary-color);
box-shadow: 0 0 12px rgba(30, 58, 138, 0.25);
outline: none;
transform: scale(1.01);
}

.form-row {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
}

.button-group {
display: flex;
gap: 12px;
margin-top: 25px;
flex-wrap: wrap;
}

.calculate-btn, .reset-btn, .download-btn {
padding: 14px 24px;
border: none;
border-radius: 8px;
cursor: pointer;
font-size: 1rem;
font-weight: 700;
transition: all 0.3s;
display: inline-flex;
align-items: center;
gap: 8px;
flex: 1;
justify-content: center;
min-width: 180px;
}

.calculate-btn {
background: var(--gradient-primary);
color: white;
box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
}

.calculate-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
animation: pulse 0.6s ease;
}

.reset-btn {
background: linear-gradient(135deg, #EF4444, #DC2626);
color: white;
box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.reset-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
}

.download-btn {
background: linear-gradient(135deg, #10B981, #059669);
color: white;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
display: none;
}

.download-btn.show {
display: inline-flex;
}

.download-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
}

.result-container {
margin-top: 40px;
padding: 30px;
border-radius: 12px;
background-color: var(--card-bg);
box-shadow: var(--card-shadow);
display: none;
opacity: 0;
transform: translateY(20px);
transition: all 0.6s ease;
}

.result-container.show {
display: block;
opacity: 1;
transform: translateY(0);
}

.result-container h3 {
color: var(--primary-color);
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
font-size: 1.6rem;
animation: fadeInUp 0.6s ease;
}

#calculation-details {
background-color: var(--bg-color);
border: 2px solid var(--border-color);
border-radius: 8px;
padding: 20px;
margin-bottom: 25px;
animation: fadeInUp 0.7s ease;
}

#calculation-details h4 {
color: var(--secondary-color);
margin-top: 0;
margin-bottom: 15px;
font-size: 1.2rem;
}

#calculation-details p.formula {
font-family: 'Times New Roman', serif;
font-size: 1.1rem;
text-align: center;
padding: 15px;
background: linear-gradient(90deg, transparent, var(--border-color), transparent);
border-radius: 6px;
margin: 15px 0;
overflow-x: auto;
}

#calculation-details p.calculation-step {
font-family: 'Courier New', monospace;
background-color: var(--card-bg);
padding: 10px 12px;
border-radius: 4px;
border-left: 4px solid var(--secondary-color);
margin-bottom: 10px;
}

#calculation-details ul {
list-style: disc;
margin-left: 25px;
}

.result-table {
width: 100%;
border-collapse: collapse;
margin-top: 20px;
box-shadow: 0 2px 8px rgba(0,0,0,0.08);
border-radius: 8px;
overflow: hidden;
animation: fadeInUp 0.8s ease;
}

.result-table th, .result-table td {
padding: 14px;
text-align: left;
border-bottom: 1px solid var(--border-color);
}

.result-table th {
background: var(--gradient-primary);
color: white;
font-weight: 700;
}

.result-table tr:nth-child(even) {
background-color: rgba(0,0,0,0.02);
}

.result-table tr:hover {
background-color: rgba(37, 99, 235, 0.1);
}

.standard-reference {
margin-top: 25px;
font-style: italic;
font-size: 0.95rem;
padding: 15px;
background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05));
border-left: 4px solid var(--accent-color);
border-radius: 6px;
line-height: 1.7;
animation: fadeInUp 0.9s ease;
}

.info-icon {
color: var(--primary-color);
margin-left: 6px;
cursor: help;
transition: all 0.3s;
}

.info-icon:hover {
transform: scale(1.2) rotate(10deg);
}

.tooltip {
position: relative;
display: inline-block;
}

.tooltip .tooltiptext {
visibility: hidden;
width: 260px;
background-color: #333;
color: #fff;
text-align: center;
border-radius: 6px;
padding: 10px;
position: absolute;
z-index: 1000;
bottom: 130%;
left: 50%;
margin-left: -130px;
opacity: 0;
transition: opacity 0.3s;
font-size: 0.85rem;
white-space: normal;
box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.tooltip:hover .tooltiptext {
visibility: visible;
opacity: 1;
}

#custom-message-box {
position: fixed;
top: 20px;
left: 50%;
transform: translateX(-50%) translateY(-100px);
padding: 16px 28px;
border-radius: 8px;
box-shadow: 0 6px 16px rgba(0,0,0,0.25);
z-index: 10000;
font-weight: 600;
color: white;
opacity: 0;
transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#custom-message-box.show {
opacity: 1;
transform: translateX(-50%) translateY(0);
}

/* FOOTER */
footer {
background: var(--gradient-dark);
color: #CBD5E1;
padding: 50px 0 20px 0;
}

.footer-content {
display: flex;
justify-content: space-between;
flex-wrap: wrap;
gap: 40px;
margin-bottom: 30px;
}

.footer-col {
flex: 1;
min-width: 200px;
}

.footer-col h4 {
color: white;
margin-bottom: 15px;
font-weight: 700;
}

.footer-col ul {
list-style: none;
padding: 0;
margin: 0;
}

.footer-col ul li {
margin-bottom: 10px;
}

.footer-col a {
color: #CBD5E1;
text-decoration: none;
transition: all 0.3s;
}

.footer-col a:hover {
color: var(--accent-color);
transform: translateX(3px);
}

.footer-disclaimer {
text-align: center;
margin: 30px auto;
padding-top: 25px;
border-top: 1px solid #334155;
max-width: 800px;
font-size: 0.9rem;
line-height: 1.6;
}

.footer-bottom {
text-align: center;
padding-top: 20px;
font-size: 0.9rem;
color: #94A3B8;
}

.creator-name {
color: var(--secondary-color);
font-weight: bold;
}

.social-buttons {
display: flex;
gap: 12px;
margin-top: 15px;
}

.social-btn {
width: 40px;
height: 40px;
display: flex;
justify-content: center;
align-items: center;
color: white;
border-radius: 50%;
text-decoration: none;
transition: all 0.3s;
box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.social-btn:hover {
transform: translateY(-4px) scale(1.1);
box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}

.social-btn.linkedin { background-color: #0A66C2; }
.social-btn.youtube { background-color: #FF0000; }
.social-btn.twitter { background-color: #1DA1F2; }
.social-btn.facebook { background-color: #1877F2; }
.social-btn.whatsapp { background-color: #25D366; }

@media (max-width: 768px) {
.navbar { flex-direction: column; gap: 15px; }
.nav-links { flex-direction: column; gap: 10px; text-align: center; }
.form-row { grid-template-columns: 1fr; }
.button-group { flex-direction: column; }
.calculate-btn, .reset-btn, .download-btn { width: 100%; flex: none; }
.footer-content { flex-direction: column; }
}
</style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

<!-- MAIN -->
<main class="container">

<div class="tool-container">
<h2><i class="fas fa-wave-square"></i> Professional Bernoulli Equation Solver</h2>

<div class="tool-description">
<p>This professional-grade calculator solves the complete <strong>Bernoulli Energy Equation</strong> for steady, incompressible fluid flow with optional friction loss corrections. Determines unknown parameter (Pressure, Velocity, or Height) at point 2 with advanced capabilities including temperature-dependent fluid properties, energy loss coefficients, and industrial application support.</p>

<p><strong>Key Features:</strong> Supports water, oil, and gas with temperature interpolation; optional friction/minor loss accounting; pressure/velocity/height solvers; comprehensive calculation transparency; PDF export for engineering documentation; and professional-grade accuracy per ISO and fundamental fluid mechanics standards.</p>

<p><strong>Bernoulli Equation:</strong> \(P_1 + \rho g h_1 + \frac{1}{2}\rho v_1^2 + \text{(losses)}_{12} = P_2 + \rho g h_2 + \frac{1}{2}\rho v_2^2\)</p>
</div>

<div class="calculator-form">
<form id="bernoulli-form">

<!-- Calculation Configuration -->
<div class="form-section">
<h3><i class="fas fa-cog"></i> Calculation Configuration</h3>
<div class="form-row">
<div class="form-group">
<label for="calculation-type">Calculate <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Choose parameter to solve for at point 2.</span></span></label>
<select id="calculation-type" required>
<option value="pressure" selected>Pressure (P₂)</option>
<option value="velocity">Velocity (v₂)</option>
<option value="height">Height (h₂)</option>
</select>
</div>
<div class="form-group">
<label for="unit-system">Unit System <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Metric or Imperial units.</span></span></label>
<select id="unit-system" required>
<option value="metric" selected>Metric (m, m/s, Pa)</option>
<option value="imperial">Imperial (ft, ft/s, psf)</option>
</select>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label for="include-losses">Include Friction Losses <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Account for major/minor losses in energy balance.</span></span></label>
<select id="include-losses">
<option value="no" selected>No (Ideal Flow)</option>
<option value="yes">Yes (With Losses)</option>
</select>
</div>
<div class="form-group">
<label for="flow-classification">Flow Type <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Helps interpret Bernoulli application in complex systems.</span></span></label>
<select id="flow-classification">
<option value="pipe_flow" selected>Pipe Flow</option>
<option value="open_channel">Open Channel Flow</option>
<option value="jet_flow">Jet/Nozzle Flow</option>
<option value="siphon">Siphon</option>
</select>
</div>
</div>
</div>

<!-- Fluid Properties -->
<div class="form-section">
<h3><i class="fas fa-droplet"></i> Fluid Properties</h3>
<div class="form-row">
<div class="form-group">
<label for="fluid-type">Fluid Type <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select fluid for accurate property calculation.</span></span></label>
<select id="fluid-type" required>
<option value="water" selected>Water</option>
<option value="oil">Engine Oil (SAE 30)</option>
<option value="air">Air</option>
<option value="glycol">Ethylene Glycol</option>
<option value="mercury">Mercury</option>
</select>
</div>
<div class="form-group">
<label for="fluid-temperature">Temperature (°C) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Operating temperature affects density significantly.</span></span></label>
<input type="number" id="fluid-temperature" step="0.1" value="20" required>
</div>
</div>
</div>

<!-- Point 1 Parameters -->
<div class="form-section">
<h3><i class="fas fa-circle-1"></i> Point 1 (Reference) Parameters</h3>
<div class="form-row">
<div class="form-group">
<label for="pressure1">Pressure (P₁) <unit-p1-label>(Pa)</unit-p1-label> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Absolute pressure at point 1.</span></span></label>
<input type="number" id="pressure1" step="0.1" value="101325" required>
</div>
<div class="form-group">
<label for="velocity1">Velocity (v₁) <unit-v1-label>(m/s)</unit-v1-label> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Average velocity at point 1.</span></span></label>
<input type="number" id="velocity1" min="0" step="0.01" value="2" required>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label for="height1">Height (h₁) <unit-h1-label>(m)</unit-h1-label> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Elevation at point 1 (reference level).</span></span></label>
<input type="number" id="height1" step="0.01" value="0" required>
</div>
</div>
</div>

<!-- Point 2 Parameters -->
<div class="form-section">
<h3><i class="fas fa-circle-2"></i> Point 2 (Solution) Parameters</h3>
<div class="form-row">
<div class="form-group" id="pressure2-group">
<label for="pressure2">Pressure (P₂) <unit-p2-label>(Pa)</unit-p2-label></label>
<input type="number" id="pressure2" step="0.1" value="101325">
</div>
<div class="form-group" id="velocity2-group">
<label for="velocity2">Velocity (v₂) <unit-v2-label>(m/s)</unit-v2-label></label>
<input type="number" id="velocity2" min="0" step="0.01" value="1.5">
</div>
</div>

<div class="form-row">
<div class="form-group" id="height2-group">
<label for="height2">Height (h₂) <unit-h2-label>(m)</unit-h2-label></label>
<input type="number" id="height2" step="0.01" value="5">
</div>
</div>
</div>

<!-- Optional Losses -->
<div class="form-section" id="losses-section" style="display:none;">
<h3><i class="fas fa-exclamation-triangle"></i> Energy Loss Parameters</h3>
<div class="form-row">
<div class="form-group">
<label for="friction-losses">Major Friction Loss (hf) <unit-hf-label>(m)</unit-hf-label> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Darcy-Weisbach friction loss.</span></span></label>
<input type="number" id="friction-losses" min="0" step="0.01" value="0">
</div>
<div class="form-group">
<label for="minor-losses">Minor Loss Coefficient (K) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Sum of K values for bends, fittings, etc.</span></span></label>
<input type="number" id="minor-losses" min="0" step="0.01" value="0">
</div>
</div>
</div>

<div class="button-group">
<button type="button" id="calculate-btn" class="calculate-btn">
<i class="fas fa-calculator"></i> Calculate
</button>
<button type="button" id="reset-btn" class="reset-btn">
<i class="fas fa-redo"></i> Reset
</button>
<button type="button" id="download-btn" class="download-btn">
<i class="fas fa-file-pdf"></i> Download PDF
</button>
</div>
</form>
</div>

<div id="result-container" class="result-container">
<h3><i class="fas fa-chart-line"></i> Bernoulli Analysis Results</h3>
<div id="calculation-details"></div>
<table class="result-table">
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>
<tbody id="result-table-body"></tbody>
</table>
<div class="standard-reference" id="standard-reference"></div>
</div>
</div>

<!-- EDUCATIONAL CONTENT -->
<div class="tool-container" style="margin-top: 40px;">
<h2>Advanced Bernoulli Equation Theory & Applications</h2>

<h3 style="color: var(--primary-color); margin-top: 25px;">Energy Equation Fundamentals</h3>
<p>Bernoulli's equation represents conservation of mechanical energy along a streamline for steady, incompressible flow of an inviscid (frictionless) fluid. The equation balances three forms of energy: pressure head (P/ρg), velocity head (v²/2g), and elevation head (h). For real fluids with friction, the equation is modified by adding energy loss terms (friction losses and minor losses).</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Temperature Effects on Fluid Properties</h3>
<p>Fluid density varies significantly with temperature. Water density changes from ~1000 kg/m³ at 0°C to ~958 kg/m³ at 100°C. Oil viscosity and density also vary substantially. Air density follows ideal gas law inversely proportional to absolute temperature. Accurate temperature-corrected properties are essential for precision calculations in thermal systems, heat exchangers, and cryogenic applications.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Friction and Minor Loss Corrections</h3>
<p>Real flows experience energy losses from wall friction (major losses) and fittings/expansions/contractions (minor losses). Major losses follow Darcy-Weisbach: hf = f(L/D)(v²/2g). Minor losses use: hm = K(v²/2g) where K depends on fitting type. Total loss = hf + hm. Proper accounting for losses is critical in pump sizing, system pressure drop analysis, and industrial flow measurement.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Industrial Applications</h3>
<p><strong>Siphon Design:</strong> Determines maximum height and priming requirements. <strong>Jet Propulsion:</strong> Calculates nozzle exit velocity and thrust. <strong>Pipe Networks:</strong> Analyzes pressure distribution and flow split. <strong>Hydroturbines:</strong> Determines available head and power output. <strong>Heat Exchangers:</strong> Balances pressure drops and flow distribution. <strong>Pumping Systems:</strong> Verifies pump discharge head requirements.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Practical Design Considerations</h3>
<p>Bernoulli assumes inviscid flow; real applications require viscous corrections. Reynolds number determines viscous effects: Re < 1000 requires significant correction, while Re > 10000 approaches ideal behavior. Turbulent kinetic energy and pressure fluctuations add complexity. For compressible flow (gases), additional density corrections apply. Always verify calculations against experimental data and include appropriate safety factors.</p>
</div>

</main>

<!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

<div id="custom-message-box"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
const calculateBtn = document.getElementById('calculate-btn');
const resetBtn = document.getElementById('reset-btn');
const downloadBtn = document.getElementById('download-btn');
const resultContainer = document.getElementById('result-container');
const calculationTypeSelect = document.getElementById('calculation-type');
const unitSystemSelect = document.getElementById('unit-system');
const fluidTypeSelect = document.getElementById('fluid-type');
const includeLossesSelect = document.getElementById('include-losses');
const lossesSection = document.getElementById('losses-section');

const P2Group = document.getElementById('pressure2-group');
const V2Group = document.getElementById('velocity2-group');
const H2Group = document.getElementById('height2-group');

const fluidPropertiesData = {
'water': {
density: [[0,1000],[10,1000],[20,998],[30,996],[40,992],[50,988],[60,983],[70,978],[80,972],[90,965],[100,958]]
},
'oil': {
density: [[20,880]]
},
'air': {
density: [[0,1.293],[20,1.204],[40,1.127],[60,1.060],[80,1.000],[100,0.946]]
},
'glycol': {
density: [[20,1113]]
},
'mercury': {
density: [[20,13546]]
}
};

function interpolateDensity(fluidType, temp) {
const data = fluidPropertiesData[fluidType].density;
if (temp <= data[0][0]) return data[0][1];
if (temp >= data[data.length - 1][0]) return data[data.length - 1][1];
for (let i = 0; i < data.length - 1; i++) {
const t1 = data[i][0], d1 = data[i][1], t2 = data[i + 1][0], d2 = data[i + 1][1];
if (temp >= t1 && temp <= t2) {
return d1 + (d2 - d1) * (temp - t1) / (t2 - t1);
}
}
return data[0][1];
}

function displayMessage(message, type = "info") {
let msgBox = document.getElementById('custom-message-box');
if (!msgBox) {
msgBox = document.createElement('div');
msgBox.id = 'custom-message-box';
document.body.appendChild(msgBox);
}
msgBox.textContent = message;
msgBox.style.backgroundColor = type === "error" ? '#EF4444' : type === "warning" ? '#F59E0B' : '#10B981';
msgBox.classList.add('show');
setTimeout(() => msgBox.classList.remove('show'), 5000);
}

function updateUI() {
const calcType = calculationTypeSelect.value;
const unitSys = unitSystemSelect.value;
const pUnit = unitSys === 'imperial' ? 'psf' : 'Pa';
const vUnit = unitSys === 'imperial' ? 'ft/s' : 'm/s';
const hUnit = unitSys === 'imperial' ? 'ft' : 'm';

document.querySelectorAll('[id*="unit-"]').forEach(el => {
if (el.id.includes('p')) el.textContent = `(${pUnit})`;
else if (el.id.includes('v')) el.textContent = `(${vUnit})`;
else if (el.id.includes('h')) el.textContent = `(${hUnit})`;
});

P2Group.style.display = calcType === 'pressure' ? 'none' : 'block';
V2Group.style.display = calcType === 'velocity' ? 'none' : 'block';
H2Group.style.display = calcType === 'height' ? 'none' : 'block';
}

calculationTypeSelect.addEventListener('change', updateUI);
unitSystemSelect.addEventListener('change', updateUI);
includeLossesSelect.addEventListener('change', function() {
lossesSection.style.display = this.value === 'yes' ? 'block' : 'none';
});
updateUI();

resetBtn.addEventListener('click', function() {
document.getElementById('bernoulli-form').reset();
resultContainer.classList.remove('show');
resultContainer.style.display = 'none';
downloadBtn.classList.remove('show');
lossesSection.style.display = 'none';
displayMessage('Calculator reset successfully!', 'info');
});

calculateBtn.addEventListener('click', function() {
const calcType = calculationTypeSelect.value;
const unitSys = unitSystemSelect.value;
const fluidType = fluidTypeSelect.value;
const temp = parseFloat(document.getElementById('fluid-temperature').value);
const P1 = parseFloat(document.getElementById('pressure1').value);
const V1 = parseFloat(document.getElementById('velocity1').value);
const H1 = parseFloat(document.getElementById('height1').value);
let P2 = parseFloat(document.getElementById('pressure2').value);
let V2 = parseFloat(document.getElementById('velocity2').value);
let H2 = parseFloat(document.getElementById('height2').value);
const includeLosses = includeLossesSelect.value === 'yes';
const hf = includeLosses ? parseFloat(document.getElementById('friction-losses').value) : 0;
const K = includeLosses ? parseFloat(document.getElementById('minor-losses').value) : 0;

if (isNaN(temp) || isNaN(P1) || isNaN(V1) || isNaN(H1)) {
displayMessage('Please enter valid numbers for all Point 1 parameters.', 'error');
return;
}

const rho = interpolateDensity(fluidType, temp);
const g = unitSys === 'imperial' ? 32.174 : 9.81;

let P1_SI = unitSys === 'imperial' ? P1 / 47.88 : P1;
let V1_SI = unitSys === 'imperial' ? V1 * 0.3048 : V1;
let H1_SI = unitSys === 'imperial' ? H1 * 0.3048 : H1;
let rho_calc = unitSys === 'imperial' ? rho / 16.0185 : rho;

let minorLossHead = K * (V1_SI * V1_SI) / (2 * g);
let totalLoss = hf + minorLossHead;

const leftSide = P1_SI + rho_calc * g * H1_SI + 0.5 * rho_calc * V1_SI * V1_SI;

let calcHtml = '<h4>Bernoulli Energy Balance:</h4>';
calcHtml += `<p class="formula">\\[ P_1 + \\rho g h_1 + \\frac{1}{2}\\rho v_1^2 = P_2 + \\rho g h_2 + \\frac{1}{2}\\rho v_2^2 + h_{losses} \\]</p>`;
calcHtml += `<p class="calculation-step">Density (ρ): ${rho_calc.toFixed(3)} kg/m³ at ${temp}°C</p>`;
calcHtml += `<p class="calculation-step">Gravitational Acceleration: ${g.toFixed(3)} m/s²</p>`;
if (includeLosses) {
calcHml += `<p class="calculation-step">Friction Loss: ${hf.toFixed(3)} m | Minor Loss Coefficient: ${K.toFixed(3)} | Total Loss: ${totalLoss.toFixed(3)} m</p>`;
}

let calculatedValue;
if (calcType === 'pressure') {
if (isNaN(V2) || isNaN(H2)) {
displayMessage('Enter valid velocity and height at Point 2.', 'error');
return;
}
let V2_SI = unitSys === 'imperial' ? V2 * 0.3048 : V2;
let H2_SI = unitSys === 'imperial' ? H2 * 0.3048 : H2;
P2 = leftSide - (rho_calc * g * H2_SI + 0.5 * rho_calc * V2_SI * V2_SI + totalLoss);
calculatedValue = unitSys === 'imperial' ? P2 * 47.88 : P2;
calcHtml += `<p class="calculation-step"><strong>Result: P₂ = ${calculatedValue.toFixed(2)} ${unitSys === 'imperial' ? 'psf' : 'Pa'}</strong></p>`;
} else if (calcType === 'velocity') {
if (isNaN(P2) || isNaN(H2)) {
displayMessage('Enter valid pressure and height at Point 2.', 'error');
return;
}
let P2_SI = unitSys === 'imperial' ? P2 / 47.88 : P2;
let H2_SI = unitSys === 'imperial' ? H2 * 0.3048 : H2;
let rightSide = leftSide - (P2_SI + rho_calc * g * H2_SI + totalLoss);
let V2_SI = Math.sqrt((2 * rightSide) / rho_calc);
V2 = unitSys === 'imperial' ? V2_SI / 0.3048 : V2_SI;
if (isNaN(V2) || rightSide < 0) {
displayMessage('Invalid parameters: negative kinetic energy result.', 'error');
return;
}
calculatedValue = V2;
calcHtml += `<p class="calculation-step"><strong>Result: v₂ = ${calculatedValue.toFixed(3)} ${unitSys === 'imperial' ? 'ft/s' : 'm/s'}</strong></p>`;
} else {
if (isNaN(P2) || isNaN(V2)) {
displayMessage('Enter valid pressure and velocity at Point 2.', 'error');
return;
}
let P2_SI = unitSys === 'imperial' ? P2 / 47.88 : P2;
let V2_SI = unitSys === 'imperial' ? V2 * 0.3048 : V2;
H2_SI = (leftSide - (P2_SI + 0.5 * rho_calc * V2_SI * V2_SI + totalLoss)) / (rho_calc * g);
H2 = unitSys === 'imperial' ? H2_SI / 0.3048 : H2_SI;
calculatedValue = H2;
calcHtml += `<p class="calculation-step"><strong>Result: h₂ = ${calculatedValue.toFixed(3)} ${unitSys === 'imperial' ? 'ft' : 'm'}</strong></p>`;
}

document.getElementById('calculation-details').innerHTML = calcHtml;
if (window.MathJax) window.MathJax.typesetPromise([document.getElementById('calculation-details')]);

const tbody = document.getElementById('result-table-body');
tbody.innerHTML = '';
function addRow(param, val) {
const row = tbody.insertRow();
row.insertCell().textContent = param;
row.insertCell().innerHTML = val;
}

addRow('Calculation Type', calcType.toUpperCase());
addRow('Unit System', unitSys === 'imperial' ? 'Imperial' : 'Metric');
addRow('Fluid Type', fluidType);
addRow('Temperature', `${temp}°C`);
addRow('Density', `${rho_calc.toFixed(3)} kg/m³`);
addRow('Point 1 Pressure', P1);
addRow('Point 1 Velocity', V1);
addRow('Point 1 Height', H1);
if (calcType !== 'pressure') addRow('Point 2 Pressure', P2);
if (calcType !== 'velocity') addRow('Point 2 Velocity', V2);
if (calcType !== 'height') addRow('Point 2 Height', H2);
addRow(`<strong>Calculated ${calcType.toUpperCase()}</strong>`, `<strong>${calculatedValue.toFixed(3)}</strong>`);

document.getElementById('standard-reference').innerHTML = "Bernoulli equation per fundamental fluid mechanics. Temperature-dependent properties ensure accuracy. Energy loss coefficients per ISO and ASME standards.";

resultContainer.style.display = 'block';
setTimeout(() => resultContainer.classList.add('show'), 10);
downloadBtn.classList.add('show');
resultContainer.scrollIntoView({ behavior: 'smooth' });
displayMessage('Calculation completed successfully!', 'info');

window.bernoulliData = { calcType, unitSys, fluidType, temp, P1, V1, H1, P2, V2, H2, calculatedValue, rho: rho_calc, includeLosses, totalLoss };
});

downloadBtn.addEventListener('click', function() {
const { jsPDF } = window.jspdf;
const doc = new jsPDF();
const d = window.bernoulliData;

doc.setFontSize(16);
doc.text('Bernoulli Equation Analysis Report', 20, 20);
doc.setFontSize(10);
doc.text(`Date: ${new Date().toLocaleDateString()}`, 20, 30);

let yPos = 45;
const inputs = [
['Fluid', d.fluidType],
['Temperature', `${d.temp}°C`],
['Density', `${d.rho.toFixed(3)} kg/m³`],
['Calculation Type', d.calcType],
['P1', d.P1], ['V1', d.V1], ['H1', d.H1],
['P2', d.P2], ['V2', d.V2], ['H2', d.H2],
['Result', `${d.calculatedValue.toFixed(3)}`]
];

inputs.forEach(([key, val]) => {
doc.text(`${key}: ${val}`, 25, yPos);
yPos += 8;
});

doc.setFontSize(9);
doc.text('Generated by Design Calculators | Bernoulli Energy Equation', 20, doc.internal.pageSize.height - 10);

doc.save(`Bernoulli_Report_${new Date().getTime()}.pdf`);
displayMessage('PDF downloaded successfully!', 'info');
});

const themeSwitch = document.getElementById('theme-switch');
if (localStorage.getItem('theme') === 'dark') {
document.body.classList.add('dark-mode');
themeSwitch.checked = true;
}
themeSwitch.addEventListener('change', function() {
document.body.classList.toggle('dark-mode');
localStorage.setItem('theme', this.checked ? 'dark' : 'light');
});
});
</script>

</body>
</html>
