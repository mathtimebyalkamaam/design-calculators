<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Measurement Uncertainty Calculator - GUM Method | Design Calculators</title>
<meta name="description" content="Professional measurement uncertainty calculator using GUM method (ISO/IEC Guide 98-3) for complete instrumentation loops. Calculate combined and expanded uncertainty per ISO/IEC 17025, NIST TN-1297 standards for calibration and testing laboratories.">
<meta name="keywords" content="measurement uncertainty calculator, GUM method, ISO 17025, combined uncertainty, expanded uncertainty, instrumentation loop, calibration uncertainty, NIST TN-1297">
<meta name="author" content="Design Calculators">
<meta name="robots" content="index, follow">

<!-- AdSense & Analytics -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-23Y1V450SR');
</script>

<!-- Preconnect -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- MathJax for equations -->
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
MathJax = {
tex: {
inlineMath: [['$', '$'], ['\\(', '\\)']],
displayMath: [['$$', '$$'], ['\\[', '\\]']]
},
svg: {
fontCache: 'global'
}
};
</script>

<!-- Favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="icon" href="/favicon.ico" type="image/x-icon">

<style>
:root {
--primary-color: #1E3A8A;
--secondary-color: #2563EB;
--accent-color: #F59E0B;
--bg-color: #F8FAFC;
--card-bg: #FFFFFF;
--text-color: #4B5563;
--heading-color: #111827;
--footer-bg: #0F172A;
--border-color: #E2E8F0;
--gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
--gradient-dark: linear-gradient(135deg, #0F172A, #1E293B);
--card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
--hover-color: #e2e6ea;
--button-hover-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
--highlight-bg: rgba(245, 158, 11, 0.2);
}

body.dark-mode {
--primary-color: #10B981;
--secondary-color: #34D399;
--bg-color: #0F172A;
--card-bg: #1E293B;
--text-color: #CBD5E1;
--heading-color: #F1F5F9;
--footer-bg: #020617;
--border-color: #334155;
--highlight-bg: rgba(16, 185, 129, 0.3);
--hover-color: #1E293B;
}

html { 
scroll-behavior: smooth;
}

body {
font-family: 'Inter', sans-serif;
background-color: var(--bg-color);
color: var(--text-color);
line-height: 1.8;
transition: background-color 0.3s, color 0.3s;
overflow-x: hidden;
margin: 0;
padding: 0;
}

.container { 
max-width: 1280px; 
margin: 0 auto; 
padding: 0 24px; 
}

.content-container {
max-width: 1200px;
margin: 0 auto;
padding: 20px;
}

/* Header */
.header {
background: var(--gradient-primary);
color: white;
padding: 24px 0;
position: relative;
overflow: hidden;
}

.navbar { 
display: flex; 
justify-content: space-between;
align-items: center; 
}

.logo-container { 
display: flex; 
align-items: center; 
gap: 16px; 
text-decoration: none; 
color: white; 
}

.logo { 
height: 56px;
}

.logo-text {
font-size: 1.75rem;
font-weight: 800;
font-family: 'Montserrat', sans-serif;
}

.nav-links {
display: flex;
gap: 24px;
align-items: center;
list-style: none;
margin: 0;
padding: 0;
}

.nav-links a {
color: white;
text-decoration: none;
font-weight: 500;
transition: color 0.3s;
}

.nav-links a:hover {
color: var(--accent-color);
}

.theme-toggle { 
display: flex; 
align-items: center; 
gap: 12px;
}

.theme-toggle .icon { 
color: white; 
font-size: 1.2rem; 
}

.switch { 
position: relative; 
display: inline-block; 
width: 56px; 
height: 30px;
}

.switch input { 
opacity: 0; 
width: 0; 
height: 0; 
}

.slider { 
position: absolute; 
cursor: pointer; 
top: 0; 
left: 0;
right: 0; 
bottom: 0; 
background-color: rgba(0,0,0,0.2); 
transition: .4s; 
border-radius: 30px; 
}

.slider:before { 
position: absolute; 
content: ""; 
height: 22px; 
width: 22px;
left: 4px; 
bottom: 4px; 
background-color: white; 
transition: .4s; 
border-radius: 50%; 
}

input:checked + .slider { 
background-color: var(--accent-color);
}

input:checked + .slider:before { 
transform: translateX(26px); 
}

main { 
padding: 40px 0; 
}

/* Calculator Specific Styles */
.tool-container {
background-color: var(--card-bg);
border-radius: 8px;
padding: 30px;
box-shadow: var(--card-shadow);
margin-bottom: 30px;
}

.tool-container h2 {
color: var(--primary-color);
border-bottom: 3px solid var(--primary-color);
padding-bottom: 15px;
margin-top: 0;
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
}

.tool-description {
margin-bottom: 25px;
color: var(--text-color);
font-size: 1.1rem;
}

.calculator-form {
background-color: var(--card-bg);
border-radius: 8px;
padding: 25px;
margin-top: 25px;
box-shadow: var(--card-shadow);
}

.form-group {
margin-bottom: 20px;
}

.form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: var(--heading-color);
}

.form-group input, .form-group select {
width: 100%;
padding: 12px;
border: 1px solid var(--border-color);
border-radius: 5px;
background-color: var(--bg-color);
color: var(--text-color);
box-sizing: border-box;
transition: border-color 0.3s, box-shadow 0.3s;
font-size: 1rem;
}

.form-group input:focus, .form-group select:focus {
border-color: var(--primary-color);
box-shadow: 0 0 8px rgba(30, 58, 138, 0.3);
outline: none;
}

.form-row {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
}

.uncertainty-component {
background-color: var(--bg-color);
border: 1px solid var(--border-color);
border-radius: 8px;
padding: 20px;
margin-bottom: 15px;
}

.uncertainty-component h4 {
color: var(--primary-color);
margin-top: 0;
margin-bottom: 15px;
font-size: 1.1rem;
}

.add-component-btn {
background-color: var(--secondary-color);
color: white;
border: none;
padding: 10px 20px;
border-radius: 5px;
cursor: pointer;
font-size: 0.95rem;
font-weight: 600;
margin-top: 10px;
transition: background-color 0.3s;
display: inline-flex;
align-items: center;
gap: 8px;
}

.add-component-btn:hover {
background-color: var(--primary-color);
}

.remove-component-btn {
background-color: #EF4444;
color: white;
border: none;
padding: 6px 12px;
border-radius: 4px;
cursor: pointer;
font-size: 0.85rem;
float: right;
}

.calculate-btn {
background: var(--gradient-primary);
color: white;
border: none;
padding: 15px 25px;
border-radius: 5px;
cursor: pointer;
font-size: 1.1rem;
font-weight: 700;
margin-top: 15px;
transition: transform 0.2s, box-shadow 0.3s;
position: relative;
overflow: hidden;
width: 100%;
}

.calculate-btn:hover {
transform: translateY(-3px);
box-shadow: var(--button-hover-shadow);
}

.calculate-btn .ripple {
position: absolute;
border-radius: 50%;
background-color: rgba(255, 255, 255, 0.7);
animation: ripple-effect 0.6s linear forwards;
transform: scale(0);
pointer-events: none;
}

@keyframes ripple-effect {
to {
transform: scale(4);
opacity: 0;
}
}

.result-container {
margin-top: 40px;
padding: 25px;
border-radius: 8px;
background-color: var(--card-bg);
box-shadow: var(--card-shadow);
display: none;
opacity: 0;
transform: translateY(20px);
transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

.result-container.show {
display: block;
opacity: 1;
transform: translateY(0);
}

.result-container h3 {
color: var(--primary-color);
margin-bottom: 20px;
font-family: 'Montserrat', sans-serif;
font-size: 1.5rem;
}

.calculation-step-container {
margin-bottom: 20px;
border: 1px solid var(--border-color);
border-radius: 8px;
overflow: hidden;
opacity: 0;
transform: translateX(-20px);
animation: fadeInSlideIn 0.5s ease-out forwards;
}

.calculation-step-container:nth-child(odd) {
background-color: rgba(0,0,0,0.02);
}

body.dark-mode .calculation-step-container:nth-child(odd) {
background-color: rgba(255,255,255,0.02);
}

.step-header {
background-color: var(--hover-color);
padding: 12px 15px;
font-weight: 700;
color: var(--heading-color);
border-bottom: 1px solid var(--border-color);
cursor: pointer;
display: flex;
align-items: center;
justify-content: space-between;
}

.step-content {
padding: 15px;
display: block;
}

.step-content p.formula {
font-family: 'Times New Roman', serif;
font-size: 1.1em;
text-align: center;
padding: 12px;
background-color: var(--bg-color);
border: 1px solid var(--border-color);
border-radius: 4px;
margin: 10px 0;
overflow-x: auto;
color: var(--text-color);
line-height: 1.8;
}

.step-content p.calculation {
font-family: 'Courier New', monospace;
background-color: var(--bg-color);
padding: 10px 12px;
border-radius: 3px;
margin: 8px 0;
color: var(--text-color);
word-wrap: break-word;
line-height: 1.6;
border-left: 3px solid var(--secondary-color);
}

.step-content .final-result {
font-weight: 700;
font-size: 1.1rem;
color: var(--primary-color);
background: var(--highlight-bg);
padding: 12px 15px;
border-radius: 5px;
text-align: center;
margin-top: 12px;
border-left: 4px solid var(--primary-color);
}

.uncertainty-budget-table {
width: 100%;
border-collapse: collapse;
margin: 20px 0;
}

.uncertainty-budget-table th,
.uncertainty-budget-table td {
border: 1px solid var(--border-color);
padding: 12px;
text-align: left;
}

.uncertainty-budget-table th {
background-color: var(--primary-color);
color: white;
font-weight: 700;
}

.uncertainty-budget-table tr:nth-child(even) {
background-color: rgba(0,0,0,0.02);
}

body.dark-mode .uncertainty-budget-table tr:nth-child(even) {
background-color: rgba(255,255,255,0.02);
}

.recommendations {
margin-top: 30px;
padding: 20px;
border: 1px solid var(--border-color);
border-radius: 8px;
background-color: var(--bg-color);
}

.recommendations h4 {
color: var(--secondary-color);
margin-top: 0;
margin-bottom: 15px;
}

.recommendations ul {
padding-left: 20px;
margin: 0;
}

.recommendations ul li {
margin-bottom: 12px;
line-height: 1.6;
}

.info-icon {
color: var(--primary-color);
margin-left: 8px;
cursor: help;
}

.tooltip {
position: relative;
display: inline-block;
}

.tooltip .tooltiptext {
visibility: hidden;
width: 250px;
background-color: #333;
color: #fff;
text-align: center;
border-radius: 6px;
padding: 8px;
position: absolute;
z-index: 1;
bottom: 125%;
left: 50%;
margin-left: -125px;
opacity: 0;
transition: opacity 0.3s;
font-size: 0.9rem;
line-height: 1.4;
}

.tooltip:hover .tooltiptext {
visibility: visible;
opacity: 1;
}

#custom-message-box {
position: fixed;
top: 20px;
left: 50%;
transform: translateX(-50%);
padding: 15px 25px;
border-radius: 8px;
box-shadow: 0 4px 10px rgba(0,0,0,0.2);
z-index: 1000;
font-weight: bold;
color: white;
opacity: 0;
transition: opacity 0.5s ease-in-out;
}

@keyframes fadeInSlideIn {
from {
opacity: 0;
transform: translateX(-20px);
}
to {
opacity: 1;
transform: translateX(0);
}
}

/* Chart container */
.chart-container {
margin-top: 30px;
padding: 20px;
border: 1px solid var(--border-color);
border-radius: 8px;
background-color: var(--card-bg);
}

.chart-container h4 {
color: var(--primary-color);
margin-top: 0;
margin-bottom: 15px;
font-family: 'Montserrat', sans-serif;
text-align: center;
}

#uncertainty-chart-canvas {
display: block;
width: 100%;
max-width: 800px;
height: 400px;
margin: 0 auto;
border: 1px solid var(--border-color);
border-radius: 5px;
background-color: var(--bg-color);
}

.uncertainty-analysis {
margin-top: 30px;
padding: 20px;
border: 1px solid var(--border-color);
border-radius: 8px;
background-color: var(--card-bg);
}

.uncertainty-analysis h4 {
color: var(--primary-color);
margin-top: 0;
margin-bottom: 15px;
font-family: 'Montserrat', sans-serif;
}

.analysis-item {
margin-bottom: 15px;
padding: 15px;
border-radius: 5px;
background-color: var(--hover-color);
}

.analysis-item.critical {
border-left: 4px solid #EF4444;
background-color: rgba(239, 68, 68, 0.1);
}

.analysis-item.warning {
border-left: 4px solid var(--accent-color);
background-color: rgba(245, 158, 11, 0.1);
}

.analysis-item.info {
border-left: 4px solid var(--secondary-color);
background-color: rgba(37, 99, 235, 0.1);
}

.analysis-item h5 {
margin-top: 0;
margin-bottom: 10px;
display: flex;
align-items: center;
gap: 8px;
color: var(--heading-color);
}

.analysis-item p {
margin: 0;
line-height: 1.6;
}

.export-section {
margin-top: 25px;
text-align: center;
}

.export-btn {
background-color: var(--secondary-color);
color: white;
border: none;
padding: 12px 20px;
border-radius: 5px;
cursor: pointer;
font-weight: 600;
transition: background-color 0.3s;
display: inline-flex;
align-items: center;
gap: 8px;
}

.export-btn:hover {
background-color: var(--primary-color);
}

/* Footer */
footer { 
background: var(--gradient-dark);
color: #CBD5E1;
padding: 50px 0 20px 0; 
}

.footer-content {
display: flex;
justify-content: space-between;
align-items: flex-start;
flex-wrap: wrap;
gap: 40px;
margin-bottom: 30px;
}

.footer-col {
flex: 1;
min-width: 200px;
}

.footer-col h4 { 
font-size: 1.1rem;
color: white; 
margin-bottom: 15px; 
font-weight: 700;
}

.footer-col ul { 
list-style: none; 
padding: 0; 
margin: 0;
}

.footer-col ul li { 
margin-bottom: 10px;
}

.footer-col a { 
color: #CBD5E1; 
text-decoration: none; 
transition: color 0.3s;
font-size: 0.95rem;
}

.footer-col a:hover { 
color: var(--accent-color); 
}

.footer-disclaimer {
text-align: center;
margin: 30px auto;
padding-top: 25px;
border-top: 1px solid #334155;
max-width: 800px;
font-size: 0.9rem;
line-height: 1.6;
}

.footer-bottom { 
text-align: center; 
padding-top: 20px;
font-size: 0.9rem; 
color: #94A3B8;
}

.creator-name { 
color: var(--secondary-color); 
font-weight: bold; 
}

.social-buttons {
display: flex;
gap: 12px;
margin-top: 15px;
}

.social-btn {
width: 40px;
height: 40px;
display: inline-flex;
justify-content: center;
align-items: center;
color: white;
border-radius: 50%;
text-decoration: none;
font-size: 1.1rem;
transition: transform 0.3s, box-shadow 0.3s;
box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.social-btn:hover {
transform: translateY(-4px);
box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}

.social-btn.linkedin {
background-color: #0A66C2;
}

.social-btn.youtube {
background-color: #FF0000;
}

.social-btn.twitter {
background-color: #1DA1F2;
}

.social-btn.facebook {
background-color: #1877F2;
}

.social-btn.whatsapp {
background-color: #25D366;
}

@media (max-width: 768px) {
.navbar { 
flex-direction: column;
gap: 20px; 
}

.nav-links {
flex-direction: column;
gap: 12px;
text-align: center;
}

.form-row {
grid-template-columns: 1fr;
}

.container {
padding: 15px;
}

.content-container {
padding: 15px;
}

.tool-container {
padding: 20px;
}

.footer-content {
flex-direction: column;
gap: 25px;
}

#uncertainty-chart-canvas {
height: 300px;
}
}
</style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

<main class="content-container">

<div class="tool-container">
<h2>Measurement Uncertainty Calculator - GUM Method</h2>

<div class="tool-description">
<p>This professional measurement uncertainty calculator implements the GUM (Guide to the Expression of Uncertainty in Measurement) method per ISO/IEC Guide 98-3 for complete instrumentation loops. Calculate combined standard uncertainty, expanded uncertainty, and create uncertainty budgets for calibration and testing laboratories complying with ISO/IEC 17025 accreditation requirements. Based on NIST TN-1297 and JCGM 100:2008 (GUM) standards, this tool provides rigorous statistical analysis of Type A (statistical) and Type B (systematic) uncertainty components for temperature, pressure, flow, level, analytical, and dimensional measurements.</p>

<p><strong>Key Features:</strong> Root-sum-square (RSS) combination of uncertainties, sensitivity coefficient calculations, coverage factor application (k=2 for 95% confidence), uncertainty budget visualization, contribution analysis identifying dominant sources, compliance with accreditation body requirements (UKAS, A2LA, ILAC, EA), and professional reporting format for calibration certificates and test reports.</p>
</div>

<div class="calculator-form">
<form id="uncertainty-form">

<!-- Measurement Information -->
<div class="form-row">
<div class="form-group">
<label for="measurement-type">Measurement Type</label>
<select id="measurement-type" required>
<option value="temperature" selected>Temperature</option>
<option value="pressure">Pressure</option>
<option value="flow">Flow Rate</option>
<option value="level">Level</option>
<option value="analytical">Analytical / Concentration</option>
<option value="dimensional">Dimensional</option>
<option value="electrical">Electrical (V, I, R)</option>
<option value="other">Other Parameter</option>
</select>
</div>
<div class="form-group">
<label for="nominal-value">Nominal Measured Value <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">The measured or reference value</span></span></label>
<input type="number" id="nominal-value" value="100" step="any" required>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label for="measurement-unit">Measurement Unit</label>
<input type="text" id="measurement-unit" value="°C" placeholder="e.g., °C, bar, L/min" required>
</div>
<div class="form-group">
<label for="confidence-level">Confidence Level <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Typically 95% (k=2) for most applications</span></span></label>
<select id="confidence-level" required>
<option value="68.27">68.27% (k=1)</option>
<option value="95" selected>95% (k=2)</option>
<option value="99">99% (k=2.58)</option>
<option value="99.73">99.73% (k=3)</option>
</select>
</div>
</div>

<!-- Uncertainty Components Section -->
<div id="components-container">
<h3 style="color: var(--primary-color); margin: 25px 0 15px 0;">Uncertainty Components</h3>
<p style="margin-bottom: 20px; color: var(--text-color);">Add all relevant uncertainty components (Type A and Type B). Minimum 2 components required.</p>
</div>

<button type="button" id="add-component" class="add-component-btn"><i class="fas fa-plus"></i> Add Uncertainty Component</button>

<button type="button" id="calculate-btn" class="calculate-btn">Calculate Uncertainty</button>
</form>
</div>

<div id="result-container" class="result-container">
<h3>Measurement Uncertainty Analysis Results</h3>
<div id="calculation-steps">
<!-- Calculation steps will be dynamically inserted here -->
</div>

<div class="chart-container">
<h4>Uncertainty Budget Contribution Analysis</h4>
<canvas id="uncertainty-chart-canvas"></canvas>
</div>

<div class="uncertainty-analysis">
<h4>Uncertainty Assessment & Quality Analysis</h4>
<div id="uncertainty-analysis-content">
<!-- Uncertainty assessment will be dynamically inserted here -->
</div>
</div>

<div class="recommendations">
<h4>GUM Methodology & ISO/IEC 17025 Compliance</h4>
<div id="recommendations-content">
<!-- Recommendations will be dynamically inserted here -->
</div>
</div>

<div class="export-section">
<button id="export-report" class="export-btn"><i class="fas fa-file-pdf"></i> Export Uncertainty Report</button>
</div>
</div>
</div>

<!-- Educational Content -->
<div class="tool-container" style="margin-top: 40px;">
<h2>Understanding Measurement Uncertainty per GUM Method</h2>

<h3 style="color: var(--primary-color); margin-top: 25px;">What is Measurement Uncertainty?</h3>
<p>Measurement uncertainty is a quantitative indication of the quality of a measurement result, expressing the range within which the "true value" of the measurand is estimated to lie with a stated level of confidence. Unlike errors which have definite values (though often unknown), uncertainty characterizes the dispersion of values that could reasonably be attributed to the measurand based on available information. The GUM (Guide to the Expression of Uncertainty in Measurement), officially ISO/IEC Guide 98-3:2008, provides the internationally accepted framework for uncertainty evaluation, ensuring consistency across calibration and testing laboratories worldwide. Developed jointly by BIPM, IEC, IFCC, ILAC, ISO, IUPAC, IUPAP, and OIML, the GUM has become mandatory for ISO/IEC 17025 accredited laboratories and forms the basis for measurement traceability statements in calibration certificates and test reports.</p>

<p>Every measurement contains uncertainty arising from imperfect knowledge about the measurand, measurement procedure, environmental conditions, and instrumentation. Sources include: calibration standards (reference uncertainty propagates to measurement), instrument resolution and accuracy specifications, environmental effects (temperature, humidity, pressure variations), operator technique and repeatability, sample preparation and stability, interference from other measurands, and calculation/data processing assumptions. The GUM method systematically identifies, evaluates, and combines these components using rigorous statistical principles to provide a defensible, traceable uncertainty statement. Properly evaluated uncertainty enables users to make informed decisions about measurement fitness-for-purpose, compare results between laboratories, assess compliance with specifications, and establish measurement equivalence in international metrology systems.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Type A and Type B Evaluations</h3>

<p><strong>Type A Evaluation - Statistical Analysis:</strong> Type A uncertainty is determined by statistical analysis of series of observations (repeated measurements). Calculate the arithmetic mean of n measurements as the best estimate of the measurand, then determine the experimental standard deviation s(x) of these measurements. The standard uncertainty u(x) equals s(x)/√n, where n is the number of measurements. Type A evaluation is appropriate when sufficient repeat measurements are feasible and the measurand is stable. The approach accounts for random effects causing measurement scatter including instrument noise, environmental fluctuations during measurement period, and operator variations. Degrees of freedom (ν = n-1) quantify the reliability of the Type A uncertainty estimate - more measurements yield higher degrees of freedom and better confidence in the uncertainty value. Type A evaluation is preferred when practical as it directly reflects actual measurement performance rather than relying on specifications or assumptions.</p>

<p><strong>Type B Evaluation - Non-Statistical Methods:</strong> Type B uncertainty is evaluated by means other than statistical analysis of observations, based on scientific judgment using all available relevant information. Sources include: manufacturer specifications (instrument accuracy, resolution, hysteresis), calibration certificates (reference standard uncertainty and traceability), published data (physical constants, material properties), experience with similar equipment and procedures, and environmental monitoring data. Convert specifications to standard uncertainties by dividing by appropriate factors: for rectangular probability distribution (equal probability across range), divide by √3; for triangular distribution (values near center more likely), divide by √6; for normal distribution (manufacturer states 95% confidence), divide by 2. Type B evaluation enables inclusion of effects that cannot be characterized through repeat measurements, such as long-term drift, systematic effects from standards, and known but uncorrected systematic errors.</p>

<p><strong>Combining Type A and Type B:</strong> Once evaluated, Type A and Type B standard uncertainties are treated identically in subsequent calculations - they are both numerically equivalent to standard deviations and combined using identical mathematical operations. The classification into Type A vs Type B indicates the evaluation method, not some fundamental difference in the nature of uncertainty. This unified treatment eliminates artificial distinctions and enables consistent uncertainty propagation through complex measurement chains. Both types contribute to the combined standard uncertainty through root-sum-square combination, with each component weighted by its sensitivity coefficient describing how the measurement result changes with that input quantity.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Combined and Expanded Uncertainty</h3>

<p><strong>Combined Standard Uncertainty (uc):</strong> The combined standard uncertainty is obtained by combining the standard uncertainties of all input quantities, accounting for correlations if present, using the law of propagation of uncertainty. For independent uncertainties (no correlation), combine using root-sum-square formula: uc² = Σ[ci²·ui²], where ci is the sensitivity coefficient (partial derivative ∂f/∂xi) describing how the measurement result y changes with input quantity xi, and ui is the standard uncertainty of xi. The sensitivity coefficient magnifies or diminishes each component's contribution based on the functional relationship f between measurand and input quantities. For direct measurements without mathematical transformation, sensitivity coefficients equal unity. For complex relationships (e.g., resistance from voltage and current: R=V/I), calculate partial derivatives analytically or numerically. Combined standard uncertainty has same dimensionality as the measurand and is statistically equivalent to one standard deviation.</p>

<p><strong>Expanded Uncertainty (U):</strong> Expanded uncertainty is obtained by multiplying combined standard uncertainty by a coverage factor k, providing an interval within which the measurand is believed to lie with specified confidence level: U = k·uc. Coverage factor k depends on desired confidence level and effective degrees of freedom: k=2 provides approximately 95% confidence (normal distribution assumption), k=2.58 provides 99% confidence, k=3 provides 99.73% confidence. For small sample sizes or significant Type B components, determine k using Welch-Satterthwaite equation to calculate effective degrees of freedom, then use Student's t-distribution table. Report measurement results as: Result = (Best Estimate ± Expanded Uncertainty) Units, where the expanded uncertainty encompasses approximately 95% of the distribution of values reasonably attributable to the measurand. The coverage factor k must always be stated explicitly to avoid ambiguity.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">GUM 8-Step Process</h3>

<p><strong>Step 1 - Define Measurand:</strong> Specify exactly what is being measured, including measurement conditions, influence quantities, corrections applied, and intended use of result. Ambiguous measurand definition leads to incomplete uncertainty analysis. Example: "Temperature of circulating water measured at heat exchanger outlet using RTD sensor, corrected for self-heating effect, under normal flow conditions." Complete definition enables identification of all relevant uncertainty sources.</p>

<p><strong>Step 2 - Identify Input Quantities:</strong> List all quantities on which the measurement result depends: direct measurements, corrections, constants, calibration parameters, environmental conditions, etc. Construct measurement model y = f(x1, x2, ..., xn) relating measurand y to input quantities xi. Model may be explicit mathematical equation or implicit relationship requiring numerical evaluation. Include all quantities affecting result, even if corrections are not applied (uncertainty must still account for uncorrected effects).</p>

<p><strong>Step 3 - Evaluate Standard Uncertainties:</strong> For each input quantity, determine standard uncertainty using Type A (statistical) or Type B (non-statistical) evaluation. Document probability distributions, confidence levels, and calculation methods. Express all uncertainties as standard uncertainties (one-sigma equivalent) before combining. Convert specifications or tolerances to standard uncertainties using appropriate divisors based on assumed probability distribution.</p>

<p><strong>Step 4 - Evaluate Covariances:</strong> Determine correlations between input quantities if present. Correlated quantities (not independent) require covariance terms in combined uncertainty calculation. Common causes of correlation: same calibration standard used for multiple measurements, environmental effects impacting multiple inputs simultaneously, repeated use of same instrument. If correlation unknown and potentially significant, assume maximum reasonable correlation as conservative approach. For uncorrelated quantities, covariance terms equal zero.</p>

<p><strong>Step 5 - Calculate Measurement Result:</strong> Evaluate measurement model y = f(x1, x2, ..., xn) using best estimates of input quantities to obtain best estimate of measurand. Apply all available corrections for systematic effects. Result represents most probable value given available information and corrections.</p>

<p><strong>Step 6 - Calculate Combined Standard Uncertainty:</strong> Combine standard uncertainties using law of propagation of uncertainty (root-sum-square for independent quantities). Calculate sensitivity coefficients (partial derivatives) for each input. Multiply each standard uncertainty by its sensitivity coefficient, square the results, sum them, and take square root. Result is combined standard uncertainty uc, equivalent to one standard deviation of the measurement result.</p>

<p><strong>Step 7 - Calculate Expanded Uncertainty:</strong> Multiply combined standard uncertainty by appropriate coverage factor k (typically k=2 for 95% confidence) to obtain expanded uncertainty U. Choose k based on desired confidence level and effective degrees of freedom (calculated via Welch-Satterthwaite if needed). Expanded uncertainty defines confidence interval around measurement result.</p>

<p><strong>Step 8 - Report Result with Uncertainty:</strong> State complete measurement result including best estimate, expanded uncertainty, units, coverage factor, confidence level, and any relevant qualifications. Example: "Temperature = (99.85 ± 0.12) °C, where the reported uncertainty is an expanded uncertainty calculated using a coverage factor k=2, providing a level of confidence of approximately 95%." Include traceability statement, measurement conditions, and reference to procedures followed. Maintain documentation supporting all steps of uncertainty analysis for audits and future reference.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">ISO/IEC 17025 Compliance Requirements</h3>

<p>ISO/IEC 17025:2017 "General requirements for the competence of testing and calibration laboratories" mandates rigorous measurement uncertainty evaluation for accredited laboratories. Clause 7.6 specifically requires laboratories to identify contributions to measurement uncertainty, evaluate uncertainty using appropriate methods, and ensure that reported uncertainty covers the true value with stated confidence level. Accreditation bodies (UKAS, A2LA, ILAC, EA, etc.) audit laboratory competence in uncertainty evaluation through technical assessments examining uncertainty budgets, traceability chains, and measurement procedures. Laboratories must demonstrate: competence in applying GUM methodology correctly, traceability to SI units or other recognized references through unbroken calibration chains with documented uncertainties, validation of measurement methods including uncertainty claims, participation in proficiency testing and interlaboratory comparisons, and periodic review/updating of uncertainty budgets reflecting actual measurement performance. Non-compliance results in findings requiring correction or potential suspension of accreditation scope.</p>
</div>

<div class="tool-container" style="margin-top: 40px;">
<h2>Standards and References</h2>

<p>This calculator implements methodologies from the following measurement uncertainty standards:</p>

<ul style="line-height: 2;">
<li><strong>ISO/IEC Guide 98-3:2008 (GUM):</strong> Uncertainty of measurement - Part 3: Guide to the expression of uncertainty in measurement</li>
<li><strong>JCGM 100:2008:</strong> Evaluation of measurement data - Guide to the expression of uncertainty in measurement (GUM 1995 with minor corrections)</li>
<li><strong>ISO/IEC 17025:2017:</strong> General requirements for the competence of testing and calibration laboratories (Clause 7.6 - Measurement Uncertainty)</li>
<li><strong>NIST TN-1297:</strong> Guidelines for Evaluating and Expressing the Uncertainty of NIST Measurement Results</li>
<li><strong>EURACHEM/CITAC Guide CG 4:</strong> Quantifying Uncertainty in Analytical Measurement</li>
<li><strong>EA-4/02 M:2013:</strong> Evaluation of the Uncertainty of Measurement in Calibration (European Accreditation)</li>
<li><strong>ILAC-G17:2002:</strong> Introducing the Concept of Uncertainty of Measurement in Testing in Association with the Application of ISO/IEC 17025</li>
<li><strong>ISO 19036:2019:</strong> Microbiology - Estimation of measurement uncertainty (specific applications)</li>
</ul>

<p><strong>Important Disclaimer:</strong> This calculator provides measurement uncertainty estimates based on GUM methodology and user-supplied component values. Actual uncertainty in specific applications depends on measurement conditions, instrument performance, operator technique, environmental control, and other factors unique to each laboratory and procedure. All uncertainty calculations must be validated through experimental verification including proficiency testing and interlaboratory comparisons. ISO/IEC 17025 accredited laboratories must maintain detailed uncertainty budgets with supporting documentation subject to technical assessment by accreditation bodies. This tool aids in uncertainty calculation but does not replace metrological expertise, traceability requirements, or quality management system obligations mandated by accreditation standards.</p>
</div>

</main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

<div id="custom-message-box"></div>

<script>
// Wait for DOM to be fully loaded
window.addEventListener('DOMContentLoaded', function() {
    let componentCount = 0;
    const componentsContainer = document.getElementById('components-container');
    const addComponentBtn = document.getElementById('add-component');
    const calculateBtn = document.getElementById('calculate-btn');
    const resultContainer = document.getElementById('result-container');
    const calculationStepsDiv = document.getElementById('calculation-steps');
    const uncertaintyAnalysisDiv = document.getElementById('uncertainty-analysis-content');
    const recommendationsDiv = document.getElementById('recommendations-content');
    const exportReportBtn = document.getElementById('export-report');
    
    // Canvas for chart
    const canvas = document.getElementById('uncertainty-chart-canvas');
    if (!canvas) {
        console.error('Canvas element not found!');
        return;
    }
    
    const ctx = canvas.getContext('2d');
    if (!ctx) {
        console.error('Cannot get canvas 2D context!');
        return;
    }
    
    // Set canvas dimensions
    function resizeCanvas() {
        const container = canvas.parentElement;
        const displayWidth = Math.min(container.clientWidth - 40, 800);
        const displayHeight = 400;
        
        canvas.style.width = displayWidth + 'px';
        canvas.style.height = displayHeight + 'px';
        
        const scale = window.devicePixelRatio || 1;
        canvas.width = displayWidth * scale;
        canvas.height = displayHeight * scale;
        ctx.scale(scale, scale);
    }
    
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Add initial components
    addUncertaintyComponent();
    addUncertaintyComponent();

    addComponentBtn.addEventListener('click', addUncertaintyComponent);

    function addUncertaintyComponent() {
        componentCount++;
        const compDiv = document.createElement('div');
        compDiv.className = 'uncertainty-component';
        compDiv.id = `component-${componentCount}`;
        
        compDiv.innerHTML = `
            <h4>Component ${componentCount} 
                <button type="button" class="remove-component-btn" onclick="removeComponent(${componentCount})">
                    <i class="fas fa-trash"></i> Remove
                </button>
            </h4>
            <div class="form-row">
                <div class="form-group">
                    <label>Component Description</label>
                    <input type="text" class="comp-description" placeholder="e.g., Calibration Standard" required>
                </div>
                <div class="form-group">
                    <label>Evaluation Type</label>
                    <select class="comp-type" required>
                        <option value="typeA">Type A (Statistical)</option>
                        <option value="typeB" selected>Type B (Specification/Certificate)</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Standard Uncertainty (in measurement units)</label>
                    <input type="number" class="comp-uncertainty" step="any" placeholder="e.g., 0.05" required>
                </div>
                <div class="form-group">
                    <label>Sensitivity Coefficient (ci) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Typically 1 for direct measurements, ∂f/∂xi for derived quantities</span></span></label>
                    <input type="number" class="comp-sensitivity" value="1" step="any" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Distribution Type</label>
                    <select class="comp-distribution">
                        <option value="normal" selected>Normal</option>
                        <option value="rectangular">Rectangular (Uniform)</option>
                        <option value="triangular">Triangular</option>
                        <option value="u-shaped">U-Shaped</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Degrees of Freedom (ν)</label>
                    <input type="number" class="comp-dof" value="∞" placeholder="∞ for Type B">
                </div>
            </div>
        `;
        
        componentsContainer.appendChild(compDiv);
    }

    window.removeComponent = function(id) {
        const compDiv = document.getElementById(`component-${id}`);
        if (compDiv) {
            compDiv.remove();
        }
    };

    calculateBtn.addEventListener('click', (e) => {
        const ripple = document.createElement('span');
        const diameter = Math.max(calculateBtn.clientWidth, calculateBtn.clientHeight);
        const radius = diameter / 2;
        ripple.style.width = ripple.style.height = `${diameter}px`;
        ripple.style.left = `${e.clientX - (calculateBtn.getBoundingClientRect().left + radius)}px`;
        ripple.style.top = `${e.clientY - (calculateBtn.getBoundingClientRect().top + radius)}px`;
        ripple.classList.add('ripple');
        calculateBtn.appendChild(ripple);
        ripple.addEventListener('animationend', () => ripple.remove());
        
        if (validateInputs()) {
            performUncertaintyCalculation();
        }
    });

    function validateInputs() {
        const components = document.querySelectorAll('.uncertainty-component');
        if (components.length < 2) {
            displayMessage("Error: Minimum 2 uncertainty components required.", "error");
            return false;
        }
        
        for (const comp of components) {
            const uncertainty = comp.querySelector('.comp-uncertainty').value;
            const sensitivity = comp.querySelector('.comp-sensitivity').value;
            
            if (!uncertainty || !sensitivity) {
                displayMessage("Error: All component fields must be filled.", "error");
                return false;
            }
        }
        return true;
    }

    function performUncertaintyCalculation() {
        calculationStepsDiv.innerHTML = '';
        uncertaintyAnalysisDiv.innerHTML = '';
        
        // Get measurement info
        const measType = document.getElementById('measurement-type').value;
        const nominalValue = parseFloat(document.getElementById('nominal-value').value);
        const unit = document.getElementById('measurement-unit').value;
        const confidenceLevel = parseFloat(document.getElementById('confidence-level').value);
        
        // Collect components
        const components = [];
        document.querySelectorAll('.uncertainty-component').forEach(comp => {
            const description = comp.querySelector('.comp-description').value;
            const type = comp.querySelector('.comp-type').value;
            const uncertainty = parseFloat(comp.querySelector('.comp-uncertainty').value);
            const sensitivity = parseFloat(comp.querySelector('.comp-sensitivity').value);
            const distribution = comp.querySelector('.comp-distribution').value;
            
            components.push({
                description,
                type,
                uncertainty,
                sensitivity,
                distribution
            });
        });

        // Step 1: List uncertainty components
        let compList = components.map((c, i) => 
            `${i+1}. ${c.description}: u = ${c.uncertainty.toFixed(4)} ${unit}, c = ${c.sensitivity}, Type ${c.type === 'typeA' ? 'A' : 'B'}`
        ).join('<br>');
        
        addCalculationStep(1, 'Identify Uncertainty Components',
            'List all Type A and Type B contributions',
            `${components.length} uncertainty components identified:<br>${compList}`,
            `<strong>${components.length} components</strong> in uncertainty budget`
        );

        // Step 2: Calculate weighted uncertainties
        const weightedUncertainties = components.map(c => ({
            ...c,
            weighted: c.uncertainty * Math.abs(c.sensitivity)
        }));
        
        let weightedList = weightedUncertainties.map((c, i) => 
            `u${i+1}(weighted) = ${c.uncertainty.toFixed(4)} × |${c.sensitivity}| = ${c.weighted.toFixed(4)} ${unit}`
        ).join('<br>');
        
        addCalculationStep(2, 'Apply Sensitivity Coefficients',
            '$$u_i(weighted) = u_i \\times |c_i|$$',
            weightedList,
            'Sensitivity coefficients applied'
        );

        // Step 3: Calculate combined standard uncertainty (RSS)
        const sumSquares = weightedUncertainties.reduce((sum, c) => sum + Math.pow(c.weighted, 2), 0);
        const combinedUncertainty = Math.sqrt(sumSquares);
        
        let rssCalc = weightedUncertainties.map((c, i) => 
            `(${c.weighted.toFixed(4)})²`
        ).join(' + ');
        
        addCalculationStep(3, 'Combined Standard Uncertainty (Root-Sum-Square)',
            '$$u_c = \\sqrt{\\sum_{i=1}^{n} (c_i \\cdot u_i)^2}$$',
            `uc = √[${rssCalc}]<br>uc = √[${sumSquares.toFixed(8)}]<br>uc = ${combinedUncertainty.toFixed(4)} ${unit}`,
            `Combined Standard Uncertainty: <strong>${combinedUncertainty.toFixed(4)} ${unit}</strong>`
        );

        // Step 4: Determine coverage factor
        let k;
        if (confidenceLevel === 68.27) k = 1;
        else if (confidenceLevel === 95) k = 2;
        else if (confidenceLevel === 99) k = 2.58;
        else if (confidenceLevel === 99.73) k = 3;
        else k = 2;
        
        addCalculationStep(4, 'Coverage Factor Selection',
            `k value for ${confidenceLevel}% confidence level`,
            `Confidence level: ${confidenceLevel}%<br>Coverage factor: k = ${k}`,
            `Coverage Factor: <strong>k = ${k}</strong>`
        );

        // Step 5: Calculate expanded uncertainty
        const expandedUncertainty = k * combinedUncertainty;
        
        addCalculationStep(5, 'Expanded Uncertainty',
            '$$U = k \\times u_c$$',
            `U = ${k} × ${combinedUncertainty.toFixed(4)} ${unit}<br>U = ${expandedUncertainty.toFixed(4)} ${unit}`,
            `Expanded Uncertainty: <strong>U = ${expandedUncertainty.toFixed(4)} ${unit}</strong>`
        );

        // Step 6: Calculate relative uncertainties
        const relativeUc = (combinedUncertainty / Math.abs(nominalValue)) * 100;
        const relativeU = (expandedUncertainty / Math.abs(nominalValue)) * 100;
        
        addCalculationStep(6, 'Relative Uncertainty',
            'Express uncertainty as percentage of measured value',
            `Nominal value: ${nominalValue} ${unit}<br>` +
            `Relative uc: ${relativeUc.toFixed(3)}%<br>` +
            `Relative U: ${relativeU.toFixed(3)}%`,
            `Relative Expanded Uncertainty: <strong>${relativeU.toFixed(3)}%</strong>`
        );

        // Step 7: Final measurement result
        addCalculationStep(7, 'Complete Measurement Result Statement',
            'GUM compliant reporting format',
            `Measurement Result = (${nominalValue} ± ${expandedUncertainty.toFixed(4)}) ${unit}<br>` +
            `where the reported uncertainty is an expanded uncertainty<br>` +
            `calculated using a coverage factor k = ${k},<br>` +
            `providing a level of confidence of approximately ${confidenceLevel}%`,
            `<strong>Result = (${nominalValue} ± ${expandedUncertainty.toFixed(4)}) ${unit}</strong><br>(k=${k}, ~${confidenceLevel}% confidence)`
        );

        // Render MathJax
        if (window.MathJax) {
            window.MathJax.typesetPromise([calculationStepsDiv]);
        }

        // Draw uncertainty budget chart
        drawUncertaintyChart(weightedUncertainties, combinedUncertainty);

        // Analysis
        performUncertaintyAnalysis(components, weightedUncertainties, combinedUncertainty, relativeU, confidenceLevel);

        // Recommendations
        generateRecommendations(components, relativeU, measType);

        // Show results
        resultContainer.classList.add('show');
        setTimeout(() => resultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' }), 300);
    }

    function addCalculationStep(step, title, formula, calculation, result) {
        const stepDiv = document.createElement('div');
        stepDiv.className = 'calculation-step-container';
        
        let content = `<div class="step-header">Step ${step}: ${title}</div>
                       <div class="step-content">`;
        if (formula) content += `<p class="formula">${formula}</p>`;
        if (calculation) content += `<p class="calculation">${calculation}</p>`;
        if (result) content += `<p class="final-result">${result}</p>`;
        content += `</div>`;
        
        stepDiv.innerHTML = content;
        calculationStepsDiv.appendChild(stepDiv);
    }

    function drawUncertaintyChart(components, combinedUc) {
        const canvasWidth = canvas.width / (window.devicePixelRatio || 1);
        const canvasHeight = canvas.height / (window.devicePixelRatio || 1);
        
        ctx.clearRect(0, 0, canvasWidth, canvasHeight);
        
        const margin = 60;
        const barWidth = (canvasWidth - 2 * margin) / (components.length + 1);
        const maxValue = Math.max(...components.map(c => c.weighted), combinedUc) * 1.2;
        const chartHeight = canvasHeight - 2 * margin;
        
        // Draw axes
        ctx.strokeStyle = '#4B5563';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(margin, margin);
        ctx.lineTo(margin, canvasHeight - margin);
        ctx.lineTo(canvasWidth - margin, canvasHeight - margin);
        ctx.stroke();
        
        // Draw bars for components
        components.forEach((comp, i) => {
            const barHeight = (comp.weighted / maxValue) * chartHeight;
            const x = margin + (i + 0.5) * barWidth;
            const y = canvasHeight - margin - barHeight;
            
            ctx.fillStyle = '#2563EB';
            ctx.fillRect(x - barWidth/3, y, barWidth * 0.6, barHeight);
            
            // Label
            ctx.fillStyle = '#111827';
            ctx.font = '11px Inter';
            ctx.textAlign = 'center';
            ctx.save();
            ctx.translate(x, canvasHeight - margin + 15);
            ctx.rotate(-Math.PI / 4);
            ctx.fillText(comp.description.substring(0, 15), 0, 0);
            ctx.restore();
            
            // Value
            ctx.fillText(comp.weighted.toFixed(3), x, y - 5);
        });
        
        // Draw combined uncertainty bar
        const combBarHeight = (combinedUc / maxValue) * chartHeight;
        const combX = margin + (components.length + 0.5) * barWidth;
        const combY = canvasHeight - margin - combBarHeight;
        
        ctx.fillStyle = '#10B981';
        ctx.fillRect(combX - barWidth/3, combY, barWidth * 0.6, combBarHeight);
        
        ctx.fillStyle = '#111827';
        ctx.fillText('Combined', combX, canvasHeight - margin + 15);
        ctx.fillText(combinedUc.toFixed(3), combX, combY - 5);
        
        // Y-axis label
        ctx.save();
        ctx.translate(20, canvasHeight/2);
        ctx.rotate(-Math.PI/2);
        ctx.fillText('Standard Uncertainty', 0, 0);
        ctx.restore();
        
        // Title
        ctx.font = 'bold 14px Inter';
        ctx.textAlign = 'center';
        ctx.fillText('Uncertainty Budget Contributions', canvasWidth/2, 20);
    }

    function performUncertaintyAnalysis(components, weighted, combinedUc, relativeU, confidence) {
        let html = '';
        
        // Overall quality assessment
        if (relativeU < 1) {
            html += `
                <div class="analysis-item info">
                    <h5><i class="fas fa-check-circle"></i> Excellent Measurement Quality</h5>
                    <p>Relative expanded uncertainty of ${relativeU.toFixed(3)}% indicates very high measurement quality. 
                    The measurement system provides precise, reliable results suitable for critical applications including calibration reference, 
                    product acceptance testing, and regulatory compliance. This uncertainty level demonstrates proper instrument selection, 
                    controlled measurement conditions, and meticulous technique.</p>
                </div>
            `;
        } else if (relativeU < 5) {
            html += `
                <div class="analysis-item info">
                    <h5><i class="fas fa-thumbs-up"></i> Good Measurement Quality</h5>
                    <p>Relative expanded uncertainty of ${relativeU.toFixed(3)}% represents good measurement performance suitable for most industrial, 
                    laboratory, and quality control applications. Uncertainty is well-controlled and provides adequate confidence in results. 
                    Continue maintaining calibration intervals, environmental controls, and procedure adherence to sustain this performance level.</p>
                </div>
            `;
        } else if (relativeU < 10) {
            html += `
                <div class="analysis-item warning">
                    <h5><i class="fas fa-exclamation-circle"></i> Moderate Measurement Quality</h5>
                    <p>Relative expanded uncertainty of ${relativeU.toFixed(3)}% is acceptable for routine process monitoring and general testing 
                    but may be limiting for precision work or stringent specifications. Consider: (1) Improving calibration standards, 
                    (2) Better environmental control, (3) More frequent calibration, or (4) Higher accuracy instrumentation if application requirements demand lower uncertainty.</p>
                </div>
            `;
        } else {
            html += `
                <div class="analysis-item critical">
                    <h5><i class="fas fa-exclamation-triangle"></i> High Measurement Uncertainty</h5>
                    <p>Relative expanded uncertainty of ${relativeU.toFixed(3)}% indicates significant measurement limitations. 
                    Results may have limited fitness-for-purpose for critical applications. Investigate dominant uncertainty contributors and implement improvements: 
                    upgrade instrumentation, enhance calibration program, improve environmental conditions, or modify measurement procedure. 
                    High uncertainty limits ability to demonstrate compliance with specifications and affects decision confidence.</p>
                </div>
            `;
        }
        
        // Dominant contributors
        const sortedComponents = [...weighted].sort((a, b) => b.weighted - a.weighted);
        const total = sortedComponents.reduce((sum, c) => sum + Math.pow(c.weighted, 2), 0);
        const top3 = sortedComponents.slice(0, 3);
        
        let dominantHtml = '<p><strong>Top 3 uncertainty contributors:</strong></p><ul>';
        top3.forEach((comp, i) => {
            const contribution = (Math.pow(comp.weighted, 2) / total) * 100;
            dominantHtml += `<li><strong>${comp.description}:</strong> ${contribution.toFixed(1)}% of total uncertainty variance</li>`;
        });
        dominantHtml += '</ul>';
        
        html += `
            <div class="analysis-item info">
                <h5><i class="fas fa-chart-pie"></i> Dominant Uncertainty Sources</h5>
                ${dominantHtml}
                <p>Focus improvement efforts on reducing these dominant contributors for maximum impact on overall uncertainty. 
                Even modest reductions in major contributors significantly improve combined uncertainty due to RSS combination.</p>
            </div>
        `;
        
        // Coverage factor note
        html += `
            <div class="analysis-item info">
                <h5><i class="fas fa-info-circle"></i> Confidence Level and Coverage</h5>
                <p>Expanded uncertainty with k=2 coverage factor provides approximately ${confidence}% confidence interval. 
                This means there is roughly ${confidence}% probability that the true value of the measurand lies within the stated interval. 
                The remaining ${(100-confidence).toFixed(1)}% represents the risk that the true value falls outside the interval - 
                this is an inherent limitation of statistical uncertainty evaluation.</p>
            </div>
        `;
        
        uncertaintyAnalysisDiv.innerHTML = html;
    }

    function generateRecommendations(components, relativeU, measType) {
        let html = '<ul>';
        
        html += `<li><strong>GUM Method Application:</strong> This calculation follows ISO/IEC Guide 98-3:2008 (GUM) standard methodology for uncertainty evaluation. 
                 Key principles applied: (1) All relevant uncertainty sources identified and evaluated, (2) Type A and Type B uncertainties properly characterized, 
                 (3) Independence of components assumed (no correlation), (4) Root-sum-square combination using law of propagation of uncertainty, 
                 (5) Expanded uncertainty calculated with stated coverage factor, (6) Result reported with confidence level. 
                 GUM methodology ensures international consistency and enables valid comparison of measurement results between laboratories worldwide.</li>`;
        
        html += `<li><strong>ISO/IEC 17025:2017 Compliance:</strong> For accredited laboratory compliance, document: (1) Complete uncertainty budget identifying all components with magnitudes, 
                 (2) Justification for Type A vs Type B classification of each component, (3) Sensitivity coefficients with derivation for complex measurement models, 
                 (4) Traceability statements showing calibration chain to SI units, (5) Degrees of freedom and effective coverage factor calculation, 
                 (6) Validation data from proficiency testing or method validation studies, (7) Review and update procedure ensuring budgets remain current. 
                 Clause 7.6 requires laboratories to evaluate uncertainty for all calibrations and, where relevant, testing.</li>`;
        
        html += `<li><strong>Type A Evaluation Best Practices:</strong> When using statistical analysis (Type A): 
                 Perform minimum 10 repeat measurements under reproducibility conditions to characterize random effects adequately. 
                 Verify measurement stability during test period. Calculate experimental standard deviation, then divide by √n for standard uncertainty. 
                 Degrees of freedom = n-1 affects coverage factor selection via Welch-Satterthwaite equation. 
                 Type A evaluation directly reflects actual measurement system performance including instrument noise, environmental variations, and operator effects.</li>`;
        
        html += `<li><strong>Type B Evaluation Guidelines:</strong> For non-statistical evaluation (Type B): 
                 Use manufacturer specifications with caution - verify they represent standard deviation equivalents (many specs state limits, not uncertainties). 
                 Convert specifications using appropriate divisors: limits/√3 for rectangular distribution (no information about where within limits true value lies), 
                 limits/√6 for triangular (peak near center), limits/2 for normal with 95% confidence stated. 
                 Calibration certificates provide traceability - use stated uncertainties directly but verify coverage factors match. 
                 Assume infinite degrees of freedom for Type B unless certificate provides specific value.</li>`;
        
        html += `<li><strong>Sensitivity Coefficients:</strong> For ${measType} measurements, verify sensitivity coefficients account for measurement model. 
                 Direct measurements (readout = measurand) use ci = 1. Derived quantities require partial derivatives ∂f/∂xi. 
                 Example: Resistance R=V/I has sensitivity coefficients cV = 1/I and cI = -V/I². 
                 Temperature compensation, pressure corrections, span adjustments all introduce sensitivity coefficients ≠ 1. 
                 Incorrect sensitivity coefficients cause significant errors in combined uncertainty - validate against theoretical relationships and dimensional analysis.</li>`;
        
        html += `<li><strong>Uncertainty Reduction Strategies:</strong> To reduce overall uncertainty (current: ${relativeU.toFixed(2)}%): 
                 (1) Improve calibration hierarchy - use higher accuracy reference standards, (2) Shorten calibration intervals reducing drift contribution, 
                 (3) Better environmental control - stabilize temperature, humidity, pressure affecting measurements, 
                 (4) Upgrade instrumentation - lower resolution uncertainty and better stability specs, 
                 (5) Enhanced procedures - standardize technique reducing operator variability, 
                 (6) Increase repeat measurements - improves Type A uncertainty by √n factor. Focus on dominant contributors identified in uncertainty budget analysis.</li>`;
        
        html += `<li><strong>Correlation and Covariance:</strong> This calculation assumes independence (no correlation) between uncertainty components - valid when components arise from different sources. 
                 Correlation exists when: same standard calibrates multiple instruments, environmental effect impacts several input quantities simultaneously, 
                 or repeated measurements use same equipment. Positive correlation increases combined uncertainty beyond RSS calculation. 
                 If significant correlation suspected but magnitude unknown, calculate uncertainty assuming full correlation (sum uncertainties algebraically) as conservative upper bound. 
                 Document correlation assumptions in uncertainty budget.</li>`;
        
        html += `<li><strong>Measurement Traceability:</strong> Establish unbroken chain of calibrations linking measurement to SI units (or other accepted references) with documented uncertainties at each step. 
                 Traceability ensures measurement validity and enables comparison between laboratories. Document: (1) Identity of reference standard, 
                 (2) Calibration laboratory (preferably accredited to ISO/IEC 17025), (3) Calibration certificate number and date, (4) Stated uncertainty with coverage factor, 
                 (5) Recalibration interval and next due date. Uncertainty compounds through traceability chain - each calibration level adds uncertainty to next lower level.</li>`;
        
        html += `<li><strong>Proficiency Testing and Validation:</strong> Validate uncertainty claims through: (1) Proficiency testing (PT) - participate in interlaboratory comparisons and demonstrate En number ≤1 
                 (En = |laboratory result - reference value| / √(Ulab² + Uref²)), (2) Control charts monitoring internal quality control standards, 
                 (3) Method validation studies comparing uncertainty budget predictions to observed measurement scatter, (4) Measurement audits by technical assessors. 
                 Systematic discrepancies between claimed and observed uncertainty indicate incomplete uncertainty budget or unidentified systematic effects.</li>`;
        
        html += `<li><strong>Reporting Format and Documentation:</strong> Report uncertainty per GUM/ISO format: "Measurement result = (value ± uncertainty) units, 
                 where the reported uncertainty is an expanded uncertainty calculated using coverage factor k=X, providing level of confidence of approximately Y%." 
                 Include: measurement conditions, corrections applied, traceability statement, reference to procedure, date of measurement. 
                 Maintain supporting documentation: uncertainty budget spreadsheet, component justifications, calibration certificates, environmental monitoring records, 
                 validation data, and periodic review evidence. Accreditation audits examine this documentation rigorously.</li>`;
        
        html += '</ul>';
        recommendationsDiv.innerHTML = html;
    }

    function displayMessage(message, type = "info") {
        const messageBox = document.getElementById('custom-message-box');
        messageBox.textContent = message;
        messageBox.style.color = 'white';
        if (type === "error") messageBox.style.backgroundColor = '#dc3545';
        else if (type === "warning") {
            messageBox.style.backgroundColor = '#ffc107';
            messageBox.style.color = '#333';
        } else messageBox.style.backgroundColor = '#28a745';
        messageBox.style.opacity = 1;
        setTimeout(() => { messageBox.style.opacity = 0; }, 5000);
    }

    exportReportBtn.addEventListener('click', function() {
        displayMessage("Export feature would generate ISO/IEC 17025 compliant uncertainty report PDF in full implementation", "success");
    });
    
    console.log('Measurement uncertainty calculator initialized successfully');
});

// Theme Toggle
document.addEventListener('DOMContentLoaded', () => {
    const themeSwitch = document.getElementById('theme-switch');
    const body = document.body;
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme) {
        body.classList.add(currentTheme);
        if (currentTheme === 'dark-mode') themeSwitch.checked = true;
    }
    themeSwitch.addEventListener('change', () => {
        if (themeSwitch.checked) {
            body.classList.add('dark-mode');
            localStorage.setItem('theme', 'dark-mode');
        } else {
            body.classList.remove('dark-mode');
            localStorage.setItem('theme', 'light-mode');
        }
    });
});
</script>

</body>
</html>
