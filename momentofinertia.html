<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Moment of Inertia Analyst - Design Calculators</title>
    <meta name="description" content="Commercial-grade Moment of Inertia Calculator. Calculate Area Moment (Ix, Iy), Section Modulus, and Mass Moment for I-Beams, Tubes, and Plates. Essential for structural and mechanical engineering.">
    <meta name="keywords" content="moment of inertia calculator, second moment of area, area moment of inertia, mass moment of inertia, I-beam calculator, section modulus, bending stress, parallel axis theorem, structural engineering">
    <meta name="author" content="Design Calculators">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://designcalculators.co.in/momentofinertia" />

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-23Y1V450SR');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            },
            svg: { fontCache: 'global' },
            options: {
                processHtmlClass: 'math-content',
                ignoreHtmlClass: 'no-mathjax'
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <style>
        /* Exact Theme Variables */
        :root {
            --primary: #1E3A8A;
            --secondary: #2563EB;
            --accent: #F59E0B;
            --success: #10B981;
            --danger: #DC2626;
            --warning: #F59E0B;
            --bg: #F8FAFC;
            --card: #FFFFFF;
            --text: #4B5563;
            --heading: #111827;
            --footer-bg: #0F172A;
            --border: #E2E8F0;
            --grad: linear-gradient(135deg, var(--primary), var(--secondary));
            --grad-dark: linear-gradient(135deg, #0F172A, #1E293B);
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
            
            --reset-button-bg: var(--accent);
            --reset-button-hover-bg: #DAA520;
            --clear-button-bg: var(--secondary);
            --clear-button-hover-bg: var(--primary);
            
            --ok-color: var(--success);
            --error-color: var(--danger);
            --warning-color: var(--warning);
        }

        /* Dark mode variables */
        body.dark-mode {
            --primary: #10B981;
            --secondary: #34D399;
            --bg: #0F172A;
            --card: #1E293B;
            --text: #CBD5E1;
            --heading: #F1F5F9;
            --footer-bg: #020617;
            --border: #334155;
            
            --reset-button-bg: var(--accent);
            --reset-button-hover-bg: #DAA520;
            --clear-button-bg: var(--secondary);
            --clear-button-hover-bg: var(--primary);
        }

        /* General Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header styles */
        header {
            background: var(--grad);
            color: white;
            padding: 24px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: white;
        }
        .logo-text {
            font-size: 1.75rem;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
        }
        .logo-subtitle {
            font-size: 0.8rem;
            margin: 4px 0 0 0;
            color: #E0E7FF;
            opacity: 0.9;
        }
        .nav-links {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--accent); }
        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .switch {
            position: relative;
            width: 56px;
            height: 30px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.2);
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--accent);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }

        main {
            padding: 40px 0;
        }

        /* Main Card Styling */
        .tool-container {
            background-color: var(--card);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border);
            transition: transform 0.3s ease-in-out;
        }

        .tool-container:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .tool-container h2 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 15px;
            margin-top: 0;
            margin-bottom: 20px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .tool-description {
            margin-bottom: 20px;
            color: var(--text);
            font-size: 1.05rem;
        }

        /* Footer styles */
        footer {
            background: var(--grad-dark);
            color: #CBD5E1;
            padding: 50px 0 20px 0;
            margin-top: 60px;
        }
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 30px;
        }
        .footer-col {
            flex: 1;
            min-width: 200px;
        }
        .footer-col h4 {
            color: white;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .footer-col ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-col a {
            color: #CBD5E1;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-col a:hover {
            color: var(--accent);
        }
        .social-buttons {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        .social-btn {
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border-radius: 50%;
            font-size: 1.1rem;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-4px);
        }
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.youtube { background-color: #FF0000; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .footer-disclaimer {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid #334155;
            max-width: 800px;
            margin: 0 auto;
            font-size: 0.9rem;
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            font-size: 0.9rem;
            color: #94A3B8;
        }

        /* Forms and Results */
        .calculator-form {
            background-color: var(--card);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: none;
        }
        
        .form-section {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        .form-section h3 {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px dashed var(--border);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--heading);
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background-color: var(--card);
            color: var(--text);
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
            font-size: 1rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        /* Buttons */
        .calculate-btn {
            background: var(--grad);
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            margin-top: 25px;
            transition: all 0.3s;
            width: auto;
            min-width: 220px;
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        
        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
        }

        .reset-btn {
            background-color: var(--reset-button-bg);
            color: #333;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            margin-top: 25px;
            margin-left: 15px;
            transition: all 0.3s;
            width: auto;
            min-width: 150px;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .reset-btn:hover {
            background-color: var(--reset-button-hover-bg);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.4);
        }

        .clear-results-btn {
            background-color: var(--clear-button-bg);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 700;
            margin-top: 15px;
            transition: all 0.3s;
            box-shadow: var(--shadow);
        }

        .clear-results-btn:hover {
            background-color: var(--clear-button-hover-bg);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .result-container {
            margin-top: 30px;
            padding: 30px;
            border-radius: 12px;
            background-color: var(--card);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        
        .result-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .result-container h3 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
        }
        
        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 25px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .result-table th, .result-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
            transition: background-color 0.3s;
        }
        
        .result-table th {
            background: var(--grad);
            font-weight: 700;
            color: white;
        }

        .result-table tr:last-child td {
            border-bottom: none;
        }
        
        .result-table tr:nth-child(even) {
            background-color: var(--bg);
        }

        .result-table tbody tr:hover {
            background-color: var(--border);
        }
        
        .result-table td:first-child {
            font-weight: 600;
            color: var(--heading);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(10px);
            font-size: 0.85em;
            font-family: 'Inter', sans-serif;
            line-height: 1.4;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }
        
        .info-icon {
            color: var(--primary);
            margin-left: 5px;
            cursor: help;
        }

        /* Message Box */
        #custom-message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 16px 28px;
            border-radius: 8px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
            z-index: 10000;
            font-weight: 600;
            color: white;
            opacity: 0;
            transition: all 0.4s;
            display: none;
            align-items: center;
            justify-content: center;
            min-width: 250px;
        }
        #custom-message-box.show {
            display: flex;
            opacity: 1;
            top: 30px;
        }

        /* Calculation Steps */
        .steps-container {
            display: none;
            margin-top: 30px;
        }
        .steps-container.active {
            display: block;
        }
        .step-card {
            background: var(--card);
            border-radius: 12px;
            padding: 25px 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            animation: slideIn 0.6s ease-out;
            transition: all 0.3s;
            margin-bottom: 25px;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .step-card h4 {
            color: var(--primary);
            margin: 0 0 20px 0;
            font-size: 1.4rem;
            font-family: 'Montserrat', sans-serif;
            display: flex;
            align-items: center;
        }
        .step-card .number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 700;
            margin-right: 15px;
            font-size: 1.3rem;
            flex-shrink: 0;
        }
        .step-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            align-items: start;
        }
        
        .step-content .formula-block {
            background: var(--bg);
            border-radius: 8px;
            padding: 20px;
            font-size: 1.05rem;
            border: 1px solid var(--border);
            overflow-x: auto;
        }
        .step-content .formula {
            background: var(--bg);
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin: 12px 0;
            font-size: 1.1rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .step-value {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--success);
            margin: 5px 0;
        }
        .step-explanation {
            font-size: 1.05rem;
            line-height: 1.8;
        }
        
        .button-wrapper {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            width: 100%;
            padding-top: 20px;
        }

        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
            outline: none;
        }
        body.dark-mode .form-group input:focus, 
        body.dark-mode .form-group select:focus { 
             box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        /* Visualization Styles */
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
            margin-bottom: 20px;
            padding: 20px;
            background-color: var(--bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            flex-direction: column;
            position: relative;
        }
        .chart-container svg {
            width: 100%;
            max-width: 600px;
            height: auto;
            border: 1px solid var(--border);
            border-radius: 5px;
            background-color: var(--card);
        }
        .status-display {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 15px;
            padding: 10px 20px;
            border-radius: 5px;
            text-align: center;
            width: 80%;
            background-color: var(--secondary);
            color: white;
        }

        /* LONG FORM THEORY STYLES */
        .education-section {
            margin-top: 60px;
            margin-bottom: 60px;
            background: var(--card);
            border-radius: 12px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        
        .education-section h2 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 15px;
            margin-top: 0;
            font-family: 'Montserrat', sans-serif;
            font-size: 2rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .education-section h3 {
            color: var(--heading);
            margin-top: 40px;
            margin-bottom: 20px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            border-left: 5px solid var(--accent);
            padding-left: 15px;
        }
        
        .education-section h4 {
            color: var(--secondary);
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .long-text p {
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 20px;
            color: var(--text);
            text-align: justify;
        }
        
        .content-panel {
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }
        .content-panel:last-child {
            border-bottom: none;
        }

        .insight-card, .danger-box, .success-box, .standard-box {
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        
        .insight-card {
            background: linear-gradient(135deg, var(--card), rgba(37,99,235,0.03));
            border-left: 5px solid var(--secondary);
        }
        .insight-card:hover { transform: translateX(5px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        
        .danger-box {
            background: linear-gradient(135deg, rgba(220,38,38,0.1), rgba(220,38,38,0.02));
            border-left: 5px solid var(--danger);
        }
        
        .success-box {
            background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.02));
            border-left: 5px solid var(--success);
        }
        
        .standard-box {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-left: 5px solid var(--primary);
        }

        .insight-card h4, .danger-box h4, .success-box h4, .standard-box h4 {
            margin-top: 0;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-card h4 { color: var(--secondary); }
        .danger-box h4 { color: var(--danger); }
        .success-box h4 { color: var(--success); }
        .standard-box h4 { color: var(--primary); }
        
        /* Table Styles for Theory */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 0.95rem;
        }
        .comparison-table th, .comparison-table td {
            border: 1px solid var(--border);
            padding: 12px;
            text-align: left;
        }
        .comparison-table th {
            background-color: var(--primary);
            color: white;
        }
        .comparison-table tr:nth-child(even) {
            background-color: var(--bg);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            .navbar { flex-direction: column; gap: 20px; }
            .nav-links { flex-direction: column; gap: 12px; text-align: center; }
            .form-row { grid-template-columns: 1fr; }
            .tool-container, .education-section, .result-container { padding: 20px; }
            .footer-content { flex-direction: column; gap: 25px; }
            .long-text p { text-align: left; }
        }
    </style>
</head>
<body>
    <div id="custom-message-box" class="message-box"></div>

    <header>
        <div class="container">
            <nav class="navbar">
                <a class='logo-container' href='/'>
                    <span class="logo-text">Design Calculators</span>
                    <p class="logo-subtitle">Inspired by standards such as IEC, IEEE, ISA, ASME, and API.</p>
                </a>
                <ul class="nav-links">
                    <li><a href='/'>Home</a></li>
                    <li><a href="articles">Articles</a></li>
                    <li><a href="indexmech">Mechanical</a></li>
                    <li><a href="indexele">Electrical</a></li>
                    <li><a href="indexinst">Instrumentation</a></li>
                </ul>
                <div class="theme-toggle">
                    <i class="fas fa-sun"></i>
                    <label class="switch">
                        <input type="checkbox" id="theme-switch">
                        <span class="slider"></span>
                    </label>
                    <i class="fas fa-moon"></i>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="tool-container">
            <h2><i class="fas fa-cubes"></i> Professional Moment of Inertia Analyst</h2>
            
            <div class="tool-description">
                <p><strong>Commercial-Grade Engineering Tool:</strong> Calculate <strong>Area Moment of Inertia ($I_x, I_y$)</strong>, Section Modulus ($S$), and Mass Moment of Inertia. Supports Rectangles, Tubes, Circles, and I-Beams. Essential for calculating Bending Stress and Deflection in structural design.</p>
            </div>

            <div class="calculator-form">
                <form id="inertia-calculator-form">
                    <div class="form-section">
                        <h3><i class="fas fa-shapes"></i> 1. Cross-Section Selection</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="shape-select">Select Profile Shape <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Choose the cross-section geometry.</span></span></label>
                                <select id="shape-select">
                                    <option value="rect">Solid Rectangle</option>
                                    <option value="hollow-rect">Hollow Rectangle (Tube)</option>
                                    <option value="circle">Solid Circle</option>
                                    <option value="hollow-circle">Hollow Circle (Pipe)</option>
                                    <option value="ibeam">I-Beam (S-Shape/W-Shape)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section" id="dimensions-section">
                        <h3><i class="fas fa-ruler-combined"></i> 2. Dimensions</h3>
                        <div class="form-row" id="inputs-container">
                            <!-- Dynamic Inputs will be injected here -->
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-weight-hanging"></i> 3. Material (Optional)</h3>
                        <p style="font-size:0.9rem; color:var(--text); margin-bottom:15px;">Required only for Mass Moment of Inertia. (Assumes 1 meter length)</p>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="density">Material Density ($\rho$) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Standard Steel is ~7850 kg/m³.</span></span></label>
                                <div style="display: flex; gap: 10px;">
                                    <input type="number" id="density" step="1" value="7850" min="0">
                                    <span style="padding: 12px; background: var(--border); border-radius: 6px; font-weight: 500;">kg/m³</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-wrapper">
                        <button type="button" id="calculate-btn" class="calculate-btn"><i class="fas fa-calculator"></i> Calculate Properties</button>
                        <button type="button" id="reset-form-btn" class="reset-btn"><i class="fas fa-sync-alt"></i> Reset</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="result-container" class="result-container">
            <h3><i class="fas fa-chart-area"></i> Section Property Report</h3>
            
            <div class="chart-container">
                <p style="margin-bottom: 25px; font-weight: bold; color: var(--secondary);">Cross-Section Visualization</p>
                <svg viewBox="0 0 400 300" preserveAspectRatio="xMidYMid meet" id="shape-svg">
                    <!-- Dynamic Shapes will be drawn here -->
                </svg>
                <p class="status-display" id="state-summary">Result Ready</p>
            </div>

            <div id="steps-container" class="steps-container math-content">
                </div>

            <table class="result-table">
                <thead>
                    <tr>
                        <th colspan="3">Geometric Properties</th>
                    </tr>
                </thead>
                <tbody id="result-table-body">
                    </tbody>
            </table>
            
            <div style="display: flex; justify-content: center; margin-top: 20px;">
                <button type="button" id="clear-results-btn" class="clear-results-btn"><i class="fas fa-times-circle"></i> Clear Report</button>
            </div>
        </div>

        <div id="education-section" class="education-section long-text">
            <h2><i class="fas fa-book-open"></i> Engineer's Guide: Moment of Inertia</h2>
            <p>A comprehensive guide to understanding "Second Moment of Area" and its critical role in structural engineering.</p>
            
            <div class="content-panel">
                <h3>1. What is Area Moment of Inertia ($I$)?</h3>
                <div class="insight-card">
                    <h4><i class="fas fa-atom"></i> Resistance to Bending</h4>
                    <p>The <strong>Area Moment of Inertia</strong> (often denoted as $I$ or $J$) is a geometric property of a cross-section that measures its resistance to bending. Just as Mass is resistance to linear acceleration, Area Moment of Inertia is resistance to bending deformation.</p>
                </div>
                <p>It essentially tells you how far the material is distributed from the neutral axis (the center). Material located further away from the center contributes much more stiffness than material near the center.</p>
                <div class="math-content standard-box">
                    <p><strong>General Definition:</strong></p>
                    <p class="formula">$$I_x = \int y^2 \, dA$$</p>
                    <p>Where $y$ is the vertical distance from the neutral axis to the element area $dA$. This "distance squared" relationship means doubling the height of a beam increases its stiffness by a factor of 8 ($2^3$) or 4 ($2^2$) depending on the dimension.</p>
                </div>
            </div>

            <div class="content-panel">
                <h3>2. Bending Stress & Deflection</h3>
                <p>Why do we calculate $I$? To find the stress inside a loaded beam. The fundamental <strong>Flexure Formula</strong> is:</p>
                <div class="math-content">
                    <p class="formula">$$\sigma = \frac{M \cdot y}{I}$$</p>
                </div>
                <ul>
                    <li><strong>$\sigma$ (Sigma):</strong> Bending Stress (Pa or psi).</li>
                    <li><strong>$M$:</strong> Applied Bending Moment (N·m or lb·in).</li>
                    <li><strong>$y$:</strong> Distance from the neutral axis to the fiber being analyzed.</li>
                    <li><strong>$I$:</strong> Area Moment of Inertia ($m^4$ or $in^4$).</li>
                </ul>
                <div class="danger-box">
                    <h4><i class="fas fa-exclamation-triangle"></i> Design Implications</h4>
                    <p>Since $I$ is in the denominator, a larger Moment of Inertia results in <strong>lower stress</strong> and <strong>less deflection</strong> for the same load. This is why I-beams are shaped like an 'I': they push most of the material to the top and bottom flanges (large $y$), maximizing $I$ while minimizing weight.</p>
                </div>
            </div>

            <div class="content-panel">
                <h3>3. Section Modulus ($S$)</h3>
                <p>Engineers often use a derived property called the <strong>Section Modulus ($S$)</strong> to quickly calculate the maximum stress at the extreme fibers (the top or bottom surface).</p>
                <div class="math-content standard-box">
                    <p class="formula">$$S = \frac{I}{c}$$</p>
                    <p>$$\sigma_{max} = \frac{M}{S}$$</p>
                </div>
                <p>Where $c$ is the distance from the neutral axis to the outermost edge ($y_{max}$). For a symmetric shape like a rectangle of height $H$, $c = H/2$.</p>
            </div>

            <div class="content-panel">
                <h3>4. Parallel Axis Theorem</h3>
                <p>For complex shapes like I-beams or asymmetric T-beams, we often calculate $I$ by breaking the shape into simpler rectangles. However, you cannot just add the $I$ of each rectangle together unless they all share the same centroid.</p>
                <p>If a shape's centroid is offset by a distance $d$ from the main neutral axis, we use the <strong>Parallel Axis Theorem</strong>:</p>
                <div class="math-content">
                    <p class="formula">$$I_{total} = \sum (I_{local} + A \cdot d^2)$$</p>
                </div>
                <p>This theorem explains why stiffeners and flanges are so effective. The $A \cdot d^2$ term dominates when material is placed far from the center.</p>
            </div>

            <div class="content-panel">
                <h3>5. Mass Moment of Inertia (Dynamics)</h3>
                <p>While Structural Engineers focus on Area Moment ($I$) for bending, Mechanical Engineers use <strong>Mass Moment of Inertia ($I_{mass}$)</strong> for rotating machinery (flywheels, gears). It measures resistance to rotational acceleration.</p>
                <div class="math-content">
                    <p class="formula">$$I_{mass} = \int r^2 \, dm$$</p>
                    <p>$$\tau = I_{mass} \cdot \alpha$$</p>
                </div>
                <p>Where $\tau$ is torque and $\alpha$ is angular acceleration. This calculator derives Mass Moment by assuming the shape is extruded 1 meter and multiplying by the material density.</p>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h4>Design Calculators</h4>
                    <p style="font-size: 0.9rem; line-height: 1.6; margin-bottom: 15px;">The industry standard for engineering calculations.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in" target="_blank" rel="noopener noreferrer" class="social-btn linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer" class="social-btn youtube" title="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in" target="_blank" rel="noopener noreferrer" class="social-btn twitter" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in" target="_blank" rel="noopener noreferrer" class="social-btn facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource%20https://designcalculators.co.in" target="_blank" rel="noopener noreferrer" class="social-btn whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href='/'>Home</a></li>
                        <li><a href="indexele">Electrical</a></li>
                        <li><a href="indexmech">Mechanical</a></li>
                        <li><a href="indexinst">Instrumentation</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="about">About Us</a></li>
                        <li><a href="contact">Contact</a></li>
                        <li><a href="faq">FAQ</a></li>
                        <li><a href="privacy-policy">Privacy Policy</a></li>
                        <li><a href="terms-of-service">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>More</h4>
                    <ul>
                        <li><a href='/articles'>Articles & Whitepapers</a></li>
                        <li><a href='/sitemap2'>Sitemap</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>This tool offers general guidance. Results should be reviewed for accuracy and compliance with relevant project standards and regulations before use.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">A Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const shapeSelect = document.getElementById('shape-select');
            const inputsContainer = document.getElementById('inputs-container');
            const densityInput = document.getElementById('density');
            
            const calculateBtn = document.getElementById('calculate-btn');
            const resetFormBtn = document.getElementById('reset-form-btn');
            const clearResultsBtn = document.getElementById('clear-results-btn');
            
            const resultContainer = document.getElementById('result-container');
            const stepsContainer = document.getElementById('steps-container');
            const resultTableBody = document.getElementById('result-table-body');
            const svgContainer = document.getElementById('shape-svg');

            // Input Configurations
            const inputConfig = {
                'rect': [
                    {id: 'width', label: 'Width (b)', val: 100},
                    {id: 'height', label: 'Height (h)', val: 200}
                ],
                'hollow-rect': [
                    {id: 'width', label: 'Outer Width (b)', val: 100},
                    {id: 'height', label: 'Outer Height (h)', val: 200},
                    {id: 'thickness', label: 'Wall Thickness (t)', val: 10}
                ],
                'circle': [
                    {id: 'diameter', label: 'Diameter (D)', val: 100}
                ],
                'hollow-circle': [
                    {id: 'diameter', label: 'Outer Diameter (D)', val: 100},
                    {id: 'thickness', label: 'Wall Thickness (t)', val: 10}
                ],
                'ibeam': [
                    {id: 'width', label: 'Flange Width (b)', val: 100},
                    {id: 'height', label: 'Total Height (H)', val: 200},
                    {id: 'tf', label: 'Flange Thickness (tf)', val: 15},
                    {id: 'tw', label: 'Web Thickness (tw)', val: 10}
                ]
            };

            // Init Inputs
            function renderInputs() {
                const shape = shapeSelect.value;
                const fields = inputConfig[shape];
                let html = '';
                
                fields.forEach(field => {
                    html += `
                        <div class="form-group">
                            <label for="${field.id}">${field.label}</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="number" id="${field.id}" step="0.1" value="${field.val}" min="0" required>
                                <span style="padding: 12px; background: var(--border); border-radius: 6px; font-weight: 500;">mm</span>
                            </div>
                        </div>
                    `;
                });
                inputsContainer.innerHTML = html;
            }

            shapeSelect.addEventListener('change', renderInputs);
            renderInputs(); // Initial Load

            function displayMessage(msg, type) {
                const box = document.getElementById('custom-message-box');
                box.textContent = msg;
                box.className = `message-box ${type === 'error' ? 'error' : ''} show`;
                if (type === "error") {
                    box.style.backgroundColor = 'var(--danger)';
                    box.style.color = 'white';
                } else {
                    box.style.backgroundColor = 'var(--success)';
                    box.style.color = 'white';
                }
                setTimeout(() => box.classList.remove('show'), 3000);
            }

            function solveInertia() {
                const shape = shapeSelect.value;
                const rho = parseFloat(densityInput.value);
                
                let Ix = 0, Iy = 0, Area = 0, Sx = 0, Sy = 0, rx = 0, ry = 0, Mass = 0, MassIx = 0;
                let stepsHtml = '';
                
                // Get dynamic inputs
                const getVal = (id) => parseFloat(document.getElementById(id).value);
                
                try {
                    if(shape === 'rect') {
                        const b = getVal('width');
                        const h = getVal('height');
                        
                        Area = b * h;
                        Ix = (b * Math.pow(h, 3)) / 12;
                        Iy = (h * Math.pow(b, 3)) / 12;
                        
                        stepsHtml = generateRectSteps(b, h, Area, Ix, Iy);
                        drawRect(b, h, false);
                    }
                    else if (shape === 'hollow-rect') {
                        const b = getVal('width');
                        const h = getVal('height');
                        const t = getVal('thickness');
                        
                        const bi = b - 2*t;
                        const hi = h - 2*t;
                        
                        if(bi <= 0 || hi <= 0) { displayMessage("Thickness too large for dimensions.", "error"); return; }
                        
                        const Io_x = (b * Math.pow(h,3))/12;
                        const Ii_x = (bi * Math.pow(hi,3))/12;
                        Ix = Io_x - Ii_x;
                        
                        const Io_y = (h * Math.pow(b,3))/12;
                        const Ii_y = (hi * Math.pow(bi,3))/12;
                        Iy = Io_y - Ii_y;
                        
                        Area = (b*h) - (bi*hi);
                        
                        stepsHtml = generateHollowRectSteps(b, h, t, bi, hi, Area, Ix, Iy);
                        drawRect(b, h, true, t);
                    }
                    else if (shape === 'circle') {
                        const D = getVal('diameter');
                        const R = D/2;
                        
                        Area = Math.PI * Math.pow(R, 2);
                        Ix = (Math.PI * Math.pow(D, 4)) / 64;
                        Iy = Ix; // Symmetric
                        
                        stepsHtml = generateCircleSteps(D, Area, Ix);
                        drawCircle(D, false);
                    }
                    else if (shape === 'hollow-circle') {
                        const D = getVal('diameter');
                        const t = getVal('thickness');
                        const d_inner = D - 2*t;
                        
                        if(d_inner <= 0) { displayMessage("Thickness too large.", "error"); return; }
                        
                        Area = (Math.PI/4) * (Math.pow(D,2) - Math.pow(d_inner,2));
                        Ix = (Math.PI/64) * (Math.pow(D,4) - Math.pow(d_inner,4));
                        Iy = Ix;
                        
                        stepsHtml = generateHollowCircleSteps(D, d_inner, Area, Ix);
                        drawCircle(D, true, t);
                    }
                    else if (shape === 'ibeam') {
                        const b = getVal('width');
                        const H = getVal('height');
                        const tf = getVal('tf');
                        const tw = getVal('tw');
                        
                        const h_web = H - 2*tf;
                        
                        if(h_web <= 0) { displayMessage("Flange thickness exceeds height.", "error"); return; }
                        
                        // Area
                        const A_flanges = 2 * (b * tf);
                        const A_web = h_web * tw;
                        Area = A_flanges + A_web;
                        
                        // Ix (Parallel axis not needed if centered, subtraction method easier)
                        // Ix = (Outer Box) - (Missing chunks)
                        // Outer Box: b * H
                        // Missing: (b - tw) * h_web
                        const Ix_outer = (b * Math.pow(H, 3)) / 12;
                        const Ix_void = ((b - tw) * Math.pow(h_web, 3)) / 12;
                        Ix = Ix_outer - Ix_void;
                        
                        // Iy = 2*Iy_flange + Iy_web
                        const Iy_flange = (tf * Math.pow(b, 3)) / 12;
                        const Iy_web = (h_web * Math.pow(tw, 3)) / 12;
                        Iy = 2*Iy_flange + Iy_web;
                        
                        stepsHtml = generateIBeamSteps(b, H, tf, tw, h_web, Area, Ix, Iy);
                        drawIBeam(b, H, tf, tw);
                    }

                    // Derived Properties
                    // Section Modulus S = I / c (c = max distance from neutral axis)
                    // For symmetric shapes centered at origin:
                    let cx = 0, cy = 0;
                    if(shape === 'rect' || shape === 'hollow-rect' || shape === 'ibeam') {
                        cy = getVal('height') / 2; // Distance for Ix
                        cx = getVal('width') / 2; // Distance for Iy
                    } else {
                        cy = getVal('diameter') / 2;
                        cx = cy;
                    }
                    
                    Sx = Ix / cy;
                    Sy = Iy / cx;
                    
                    rx = Math.sqrt(Ix / Area);
                    ry = Math.sqrt(Iy / Area);
                    
                    // Mass Properties (Assume L = 1m = 1000mm)
                    const Vol_m3 = (Area * 1e-6) * 1; // Area in mm2 -> m2, Length 1m
                    Mass = Vol_m3 * rho;
                    
                } catch (e) {
                    console.error(e);
                    displayMessage("Calculation Error. Check inputs.", "error");
                    return;
                }

                // --- Update UI ---
                
                // 1. Fill Calculation Steps
                stepsContainer.innerHTML = stepsHtml;
                stepsContainer.classList.add('active'); // Ensure visible
                
                // 2. Fill Result Table (Clear old data first)
                resultTableBody.innerHTML = '';
                addResultRow("Area ($A$)", Area.toFixed(1), "mm²");
                addResultRow("Inertia ($I_x$)", `<strong>${Ix.toExponential(3)}</strong>`, "mm⁴");
                addResultRow("Inertia ($I_y$)", Iy.toExponential(3), "mm⁴");
                addResultRow("Section Modulus ($S_x$)", Sx.toFixed(1), "mm³");
                addResultRow("Radius of Gyration ($r_x$)", rx.toFixed(1), "mm");
                addResultRow("Linear Mass", Mass.toFixed(2), "kg/m");

                // 3. Show Container
                resultContainer.style.display = 'block';
                setTimeout(() => resultContainer.classList.add('show'), 10);

                // 4. Trigger MathJax LAST (Crucial Fix)
                // We typeset the entire result container so it catches the new table rows AND the steps.
                if(window.MathJax) {
                    window.MathJax.typesetPromise([resultContainer]).catch((err) => console.log(err));
                }
            }

            // --- Visualization Helpers ---
            function drawRect(b, h, hollow, t) {
                // Scale to fit 300x250 view
                const maxDim = Math.max(b, h);
                const scale = 200 / maxDim;
                const sw = b * scale;
                const sh = h * scale;
                const x = (400 - sw) / 2;
                const y = (300 - sh) / 2;
                
                let svg = `<rect x="${x}" y="${y}" width="${sw}" height="${sh}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                
                if(hollow) {
                    const st = t * scale;
                    svg += `<rect x="${x+st}" y="${y+st}" width="${sw-2*st}" height="${sh-2*st}" fill="#fff" stroke="#1E3A8A" stroke-width="1" stroke-dasharray="4" />`;
                }
                
                // Dimensions
                svg += drawDim(x, y + sh + 15, x + sw, y + sh + 15, `b=${b}`);
                svg += drawDim(x - 15, y + sh, x - 15, y, `h=${h}`, true);
                
                svgContainer.innerHTML = svg;
            }

            function drawCircle(D, hollow, t) {
                const scale = 200 / D;
                const r = (D/2) * scale;
                const cx = 200;
                const cy = 150;
                
                let svg = `<circle cx="${cx}" cy="${cy}" r="${r}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                
                if(hollow) {
                    const r_in = ((D/2) - t) * scale;
                    svg += `<circle cx="${cx}" cy="${cy}" r="${r_in}" fill="#fff" stroke="#1E3A8A" stroke-width="1" stroke-dasharray="4" />`;
                }
                
                svg += drawDim(cx - r, cy + r + 20, cx + r, cy + r + 20, `D=${D}`);
                svgContainer.innerHTML = svg;
            }

            function drawIBeam(b, h, tf, tw) {
                const maxDim = Math.max(b, h);
                const scale = 200 / maxDim;
                const sb = b * scale;
                const sh = h * scale;
                const stf = tf * scale;
                const stw = tw * scale;
                
                const x = (400 - sb) / 2;
                const y = (300 - sh) / 2;
                
                // Draw as path
                // Start top-left
                const p1x = x, p1y = y;
                const p2x = x + sb, p2y = y;
                const p3x = x + sb, p3y = y + stf;
                const p4x = x + (sb/2) + (stw/2), p4y = y + stf;
                const p5x = p4x, p5y = y + sh - stf;
                const p6x = x + sb, p6y = p5y;
                const p7x = x + sb, p7y = y + sh;
                const p8x = x, p8y = y + sh;
                const p9x = x, p9y = y + sh - stf;
                const p10x = x + (sb/2) - (stw/2), p10y = p5y;
                const p11x = p10x, p11y = p4y;
                const p12x = x, p12y = y + stf;
                
                const d = `M ${p1x},${p1y} L ${p2x},${p2y} L ${p3x},${p3y} L ${p4x},${p4y} L ${p5x},${p5y} L ${p6x},${p6y} L ${p7x},${p7y} L ${p8x},${p8y} L ${p9x},${p9y} L ${p10x},${p10y} L ${p11x},${p11y} L ${p12x},${p12y} Z`;
                
                let svg = `<path d="${d}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                svg += drawDim(x, y + sh + 15, x + sb, y + sh + 15, `b=${b}`);
                svg += drawDim(x - 15, y + sh, x - 15, y, `H=${h}`, true);
                
                svgContainer.innerHTML = svg;
            }

            function drawDim(x1, y1, x2, y2, text, vertical=false) {
                const color = "#4B5563";
                let path = `M ${x1},${y1} L ${x2},${y2}`;
                // Arrows
                if(vertical) {
                    path += ` M ${x1-3},${y1-5} L ${x1},${y1} L ${x1+3},${y1-5}`; // Top arrow
                    path += ` M ${x2-3},${y2+5} L ${x2},${y2} L ${x2+3},${y2+5}`; // Bottom arrow
                } else {
                    path += ` M ${x1+5},${y1-3} L ${x1},${y1} L ${x1+5},${y1+3}`; // Left arrow
                    path += ` M ${x2-5},${y2-3} L ${x2},${y2} L ${x2-5},${y2+3}`; // Right arrow
                }
                
                const midX = (x1 + x2) / 2;
                const midY = (y1 + y2) / 2;
                
                let textEl = "";
                if (vertical) {
                    textEl = `<text x="${midX-10}" y="${midY}" fill="${color}" font-size="12" text-anchor="end" alignment-baseline="middle">${text}</text>`;
                } else {
                    textEl = `<text x="${midX}" y="${midY+15}" fill="${color}" font-size="12" text-anchor="middle">${text}</text>`;
                }
                
                return `<path d="${path}" stroke="${color}" stroke-width="1" />${textEl}`;
            }

            // --- Step Generators ---
            function generateRectSteps(b, h, A, Ix, Iy) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Standard Formulas (Rectangle)</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>For a solid rectangle centered at the neutral axis:</p>
                            <div class="formula-block">
                                $$I_x = \\frac{b \\cdot h^3}{12}, \\quad I_y = \\frac{h \\cdot b^3}{12}$$
                            </div>
                        </div>
                    </div>
                </div>
                <div class="step-card math-content">
                    <h4><span class="number">2</span>Calculation</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_x = \\frac{${b} \\cdot ${h}^3}{12} = \\frac{${b} \\cdot ${(Math.pow(h,3))} }{12} = \\mathbf{${Ix.toExponential(2)} \\text{ mm}^4}$$
                                $$I_y = \\frac{${h} \\cdot ${b}^3}{12} = \\mathbf{${Iy.toExponential(2)} \\text{ mm}^4}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function generateHollowRectSteps(b, h, t, bi, hi, A, Ix, Iy) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Subtraction Method</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Inertia of Outer Box minus Inertia of Inner Void.</p>
                            <div class="formula-block">
                                $$I_x = \\frac{b h^3}{12} - \\frac{b_i h_i^3}{12}$$
                                $$b_i = ${b} - 2(${t}) = ${bi}, \\quad h_i = ${h} - 2(${t}) = ${hi}$$
                            </div>
                        </div>
                    </div>
                </div>
                <div class="step-card math-content">
                    <h4><span class="number">2</span>Calculation</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_{outer} = \\frac{${b} \\cdot ${h}^3}{12} = ${((b*Math.pow(h,3))/12).toExponential(2)}$$
                                $$I_{inner} = \\frac{${bi} \\cdot ${hi}^3}{12} = ${((bi*Math.pow(hi,3))/12).toExponential(2)}$$
                                $$I_x = I_{outer} - I_{inner} = \\mathbf{${Ix.toExponential(2)} \\text{ mm}^4}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function generateCircleSteps(D, A, Ix) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Standard Formula (Circle)</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_x = I_y = \\frac{\\pi D^4}{64}$$
                            </div>
                        </div>
                    </div>
                </div>
                <div class="step-card math-content">
                    <h4><span class="number">2</span>Calculation</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_x = \\frac{\\pi \\cdot ${D}^4}{64} = \\frac{3.14159 \\cdot ${(Math.pow(D,4)).toExponential(2)}}{64} = \\mathbf{${Ix.toExponential(2)} \\text{ mm}^4}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function generateHollowCircleSteps(D, Di, A, Ix) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Formula (Pipe)</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_x = \\frac{\\pi (D^4 - d_{inner}^4)}{64}$$
                            </div>
                        </div>
                    </div>
                </div>
                <div class="step-card math-content">
                    <h4><span class="number">2</span>Calculation</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_x = \\frac{\\pi (${D}^4 - ${Di}^4)}{64} = \\mathbf{${Ix.toExponential(2)} \\text{ mm}^4}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function generateIBeamSteps(b, H, tf, tw, h_web, A, Ix, Iy) {
                const Ix_outer = (b * Math.pow(H, 3)) / 12;
                const Ix_void = ((b - tw) * Math.pow(h_web, 3)) / 12;
                
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Subtraction Method ($I_x$)</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating $I_x$ by taking the outer box $(b \\times H)$ and subtracting the missing voids alongside the web.</p>
                            <div class="formula-block">
                                $$I_x = I_{outer} - I_{void}$$
                                $$I_{outer} = \\frac{b H^3}{12} = \\frac{${b} \\cdot ${H}^3}{12} = ${Ix_outer.toExponential(2)}$$
                                $$I_{void} = \\frac{(b - t_w) h_{web}^3}{12} = \\frac{(${b} - ${tw}) \\cdot ${h_web}^3}{12} = ${Ix_void.toExponential(2)}$$
                            </div>
                        </div>
                    </div>
                </div>
                <div class="step-card math-content">
                    <h4><span class="number">2</span>Summation Method ($I_y$)</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating $I_y$ by summing the flanges and the web (all centered on Y-axis).</p>
                            <div class="formula-block">
                                $$I_y = 2 \\cdot I_{flange} + I_{web} = 2 \\left( \\frac{t_f b^3}{12} \\right) + \\frac{h_{web} t_w^3}{12}$$
                            </div>
                        </div>
                    </div>
                </div>
                <div class="step-card math-content">
                    <h4><span class="number">3</span>Final Values</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <div class="formula-block">
                                $$I_x = \\mathbf{${Ix.toExponential(2)} \\text{ mm}^4}$$
                                $$I_y = \\mathbf{${Iy.toExponential(2)} \\text{ mm}^4}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function addResultRow(label, val1, val2) {
                const row = resultTableBody.insertRow();
                const cell1 = row.insertCell();
                cell1.innerHTML = `<strong>${label}</strong>`;
                const cell2 = row.insertCell();
                cell2.innerHTML = val1;
                const cell3 = row.insertCell();
                cell3.innerHTML = val2;
            }

            // --- Init ---
            calculateBtn.addEventListener('click', solveInertia);
            resetFormBtn.addEventListener('click', () => {
                document.getElementById('inertia-calculator-form').reset();
                renderInputs();
                resultContainer.style.display = 'none';
            });
            clearResultsBtn.addEventListener('click', () => {
                resultContainer.style.display = 'none';
            });
            
            // Theme toggle logic
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-mode');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.body.classList.remove('dark-mode');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        });
    </script>
</body>
</html>
