<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Retained original title -->
    <title>Basic Heat Transfer Modes Calculator - Design Calculators - Mechanical</title>
    <link rel="canonical" href="https://designcalculators.co.in/conduction-convection-radiation.html" />
    
    <!-- New meta tags, scripts, and links -->
    <meta name="description" content="Professional heat transfer calculator for conduction (flat/cylindrical), convection (manual h or calculated h via Re/Nu/Pr), and radiation.">
    <meta name="keywords" content="heat transfer calculator, conduction, convection, radiation, nusselt number, reynolds number, dittus-boelter, fourier's law">
    <meta name="author" content="Design Calculators">
    <meta name="robots" content="index, follow">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-23Y1V450SR');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- MathJax script -->
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Retained original MathJax configuration -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <!-- New unified CSS -->
    <style>
        @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
        }

        @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
        }

        @keyframes shimmer {
        0% { background-position: -1000px 0; }
        100% { background-position: 1000px 0; }
        }

        :root {
        --primary-color: #1E3A8A;
        --secondary-color: #2563EB;
        --accent-color: #F59E0B;
        --success-color: #10B981;
        --bg-color: #F8FAFC;
        --card-bg: #FFFFFF;
        --text-color: #4B5563;
        --heading-color: #111827;
        --footer-bg: #0F172A;
        --border-color: #E2E8F0;
        --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        --gradient-dark: linear-gradient(135deg, #0F172A, #1E293B);
        --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode {
        --primary-color: #10B981;
        --secondary-color: #34D399;
        --bg-color: #0F172A;
        --card-bg: #1E293B;
        --text-color: #CBD5E1;
        --heading-color: #F1F5F9;
        --footer-bg: #020617;
        --border-color: #334155;
        }

        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
        font-family: 'Inter', sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.8;
        transition: background-color 0.3s, color 0.3s;
        margin: 0;
        padding: 0;
        }

        .container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

        /* HEADER */
        .header {
        background: var(--gradient-primary);
        color: white;
        padding: 24px 0;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        animation: slideIn 0.5s ease;
        }

        .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        }

        .logo-container {
        display: flex;
        align-items: center;
        gap: 16px;
        text-decoration: none;
        color: white;
        }

        .logo-text {
        font-size: 1.75rem;
        font-weight: 800;
        font-family: 'Montserrat', sans-serif;
        }

        .nav-links {
        display: flex;
        gap: 24px;
        list-style: none;
        margin: 0;
        padding: 0;
        }

        .nav-links a {
        color: white;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s;
        }

        .nav-links a:hover {
        color: var(--accent-color);
        transform: translateY(-2px);
        }

        .theme-toggle {
        display: flex;
        align-items: center;
        gap: 12px;
        }

        .theme-toggle .icon {
        color: white;
        font-size: 1.2rem;
        }

        .switch {
        position: relative;
        width: 56px;
        height: 30px;
        }

        .switch input {
        opacity: 0;
        width: 0;
        height: 0;
        }

        .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.2);
        transition: .4s;
        border-radius: 30px;
        }

        .slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
        }

        input:checked + .slider {
        background-color: var(--accent-color);
        }

        input:checked + .slider:before {
        transform: translateX(26px);
        }

        main {
        padding: 40px 0;
        max-width: 1000px;
        margin: 0 auto;
        }

        .tool-container {
        background-color: var(--card-bg);
        border-radius: 12px;
        padding: 30px;
        box-shadow: var(--card-shadow);
        margin-bottom: 30px;
        animation: fadeInUp 0.6s ease;
        }

        .tool-container h2 {
        color: var(--primary-color);
        border-bottom: 3px solid var(--primary-color);
        padding-bottom: 15px;
        margin-top: 0;
        margin-bottom: 25px;
        font-family: 'Montserrat', sans-serif;
        font-size: 1.8rem;
        }
        
        .tool-container h3 {
            color: var(--primary-color);
            margin-top: 25px;
        }
        
        /* New style for mode sections */
        .mode-section {
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            background-color: var(--bg-color);
        }
        .mode-section h3 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--secondary-color);
            padding-bottom: 10px;
        }

        .tool-description {
        margin-bottom: 25px;
        font-size: 1rem;
        line-height: 1.8;
        }
        
        .tool-description ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
            margin-top: 15px;
        }
        .tool-description ul li {
            margin-bottom: 8px;
        }

        .calculator-form {
        background-color: var(--card-bg);
        border-radius: 12px;
        padding: 25px;
        margin-top: 25px;
        box-shadow: var(--card-shadow);
        }

        .form-group {
        margin-bottom: 20px;
        animation: slideIn 0.5s ease;
        }

        .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--heading-color);
        }

        .form-group input, .form-group select {
        width: 100%;
        padding: 12px;
        border: 2px solid var(--border-color);
        border-radius: 6px;
        background-color: var(--bg-color);
        color: var(--text-color);
        font-size: 1rem;
        transition: all 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 12px rgba(30, 58, 138, 0.25);
        outline: none;
        transform: scale(1.02);
        }

        .form-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        }

        .button-group {
        display: flex;
        gap: 15px;
        margin-top: 20px;
        flex-wrap: wrap;
        }

        .calculate-btn, .reset-btn, .download-btn {
        padding: 14px 28px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 700;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        }

        .calculate-btn {
        background: var(--gradient-primary);
        color: white;
        flex: 1;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
        }

        .calculate-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
        animation: pulse 0.6s ease;
        }

        .reset-btn {
        background: linear-gradient(135deg, #EF4444, #DC2626);
        color: white;
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .reset-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
        }

        .download-btn {
        background: linear-gradient(135deg, #10B981, #059669);
        color: white;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .download-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }

        .result-container {
        margin-top: 40px;
        padding: 30px;
        border-radius: 12px;
        background-color: var(--card-bg);
        box-shadow: var(--card-shadow);
        display: none;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
        }

        .result-container.show {
        display: block;
        opacity: 1;
        transform: translateY(0);
        }

        .result-container h3 {
        color: var(--primary-color);
        margin-bottom: 25px;
        font-family: 'Montserrat', sans-serif;
        font-size: 1.6rem;
        }

        #calculation-details {
        background-color: var(--bg-color);
        border: 2px solid var(--border-color);
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 25px;
        animation: fadeInUp 0.7s ease;
        }

        #calculation-details h4 {
        color: var(--secondary-color);
        margin-top: 0;
        margin-bottom: 15px;
        font-size: 1.2rem;
        }

        #calculation-details p.formula {
        font-family: 'Times New Roman', serif;
        font-size: 1.1rem;
        text-align: center;
        padding: 15px;
        background: linear-gradient(90deg, transparent, rgba(var(--border-color), 0.5), transparent);
        border-radius: 6px;
        margin: 15px 0;
        overflow-x: auto;
        }
        
        body.dark-mode #calculation-details p.formula {
             background: linear-gradient(90deg, transparent, rgba(var(--border-color), 0.1), transparent);
        }

        #calculation-details p.calculation-step {
        font-family: 'Courier New', monospace;
        background-color: var(--card-bg);
        padding: 10px 12px;
        border-radius: 4px;
        border-left: 4px solid var(--secondary-color);
        margin-bottom: 10px;
        word-wrap: break-word;
        }

        #calculation-details ul {
        list-style-type: disc;
        margin-left: 25px;
        padding-left: 0;
        }
        
        #calculation-details ul li {
            margin-bottom: 5px;
        }

        .result-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        border-radius: 8px;
        overflow: hidden;
        animation: fadeInUp 0.8s ease;
        }

        .result-table th, .result-table td {
        padding: 14px;
        text-align: left;
        border-bottom: 1px solid var(--border-color);
        }

        .result-table th {
        background: var(--gradient-primary);
        color: white;
        font-weight: 700;
        }

        .result-table tr:nth-child(even) {
        background-color: rgba(0,0,0,0.02);
        }
        
        body.dark-mode .result-table tr:nth-child(even) {
            background-color: rgba(255,255,255,0.02);
        }

        .result-table tr:hover {
        background-color: rgba(37, 99, 235, 0.1);
        transform: scale(1.01);
        transition: all 0.3s;
        }
        
        body.dark-mode .result-table tr:hover {
            background-color: rgba(16, 185, 129, 0.1);
        }

        .standard-reference {
        margin-top: 25px;
        font-style: italic;
        font-size: 0.95rem;
        padding: 15px;
        background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05));
        border-left: 4px solid var(--accent-color);
        border-radius: 6px;
        line-height: 1.7;
        animation: fadeInUp 0.9s ease;
        }

        .info-icon {
        color: var(--primary-color);
        margin-left: 6px;
        cursor: help;
        transition: transform 0.3s;
        }

        .info-icon:hover {
        transform: scale(1.2) rotate(10deg);
        }

        .tooltip {
        position: relative;
        display: inline-block;
        }

        .tooltip .tooltiptext {
        visibility: hidden;
        width: 260px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 10px;
        position: absolute;
        z-index: 1000;
        bottom: 130%;
        left: 50%;
        margin-left: -130px;
        opacity: 0;
        transition: opacity 0.3s;
        font-size: 0.85rem;
        white-space: normal;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .tooltip:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
        }

        #custom-message-box {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%) translateY(-100px);
        padding: 16px 28px;
        border-radius: 8px;
        box-shadow: 0 6px 16px rgba(0,0,0,0.25);
        z-index: 10000;
        font-weight: 600;
        color: white;
        opacity: 0;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        #custom-message-box.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
        }

        /* FOOTER */
        footer {
        background: var(--gradient-dark);
        color: #CBD5E1;
        padding: 50px 0 20px 0;
        margin-top: 40px; /* Added margin-top */
        }

        .footer-content {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 40px;
        margin-bottom: 30px;
        }

        .footer-col {
        flex: 1;
        min-width: 200px;
        }

        .footer-col h4 {
        color: white;
        margin-bottom: 15px;
        font-weight: 700;
        }

        .footer-col ul {
        list-style: none;
        padding: 0;
        margin: 0;
        }

        .footer-col ul li {
        margin-bottom: 10px;
        }

        .footer-col a {
        color: #CBD5E1;
        text-decoration: none;
        transition: all 0.3s;
        }

        .footer-col a:hover {
        color: var(--accent-color);
        transform: translateX(3px);
        }

        .footer-disclaimer {
        text-align: center;
        margin: 30px auto;
        padding-top: 25px;
        border-top: 1px solid #334155;
        max-width: 800px;
        font-size: 0.9rem;
        line-height: 1.6;
        }

        .footer-bottom {
        text-align: center;
        padding-top: 20px;
        font-size: 0.9rem;
        color: #94A3B8;
        }

        .creator-name {
        color: var(--secondary-color);
        font-weight: bold;
        }

        .social-buttons {
        display: flex;
        gap: 12px;
        margin-top: 15px;
        }

        .social-btn {
        width: 40px;
        height: 40px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        border-radius: 50%;
        text-decoration: none;
        transition: all 0.3s;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .social-btn:hover {
        transform: translateY(-4px) scale(1.1);
        box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.youtube { background-color: #FF0000; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .social-btn.email { background-color: #7f8c8d; } /* Added from original file */


        @media (max-width: 768px) {
        .navbar { flex-direction: column; gap: 20px; }
        .nav-links { flex-direction: column; gap: 12px; text-align: center; }
        .form-row { grid-template-columns: 1fr; }
        .button-group { flex-direction: column; }
        .calculate-btn, .reset-btn, .download-btn { width: 100%; }
        .footer-content { flex-direction: column; }
        }
    </style>
    <link rel="stylesheet" href="styles.css">
    <meta property="og:title" content="Basic Heat Transfer Modes Calculator - Design Calculators - Mechanical">
    <meta property="og:description" content="Professional heat transfer calculator for conduction (flat/cylindrical), convection (manual h or calculated h via Re/Nu/Pr), and radiation.">
</head>
<body>

    <!-- NEW HEADER -->
    <header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools √¢‚Ä†‚Äô</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools √¢‚Ä†‚Äô</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools √¢‚Ä†‚Äô</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

    <main class="container">
        <!-- Back button removed -->
            
        <div class="tool-container">
            <h2><i class="fas fa-fire"></i> Fundamental Heat Transfer Modes Calculator</h2>
            <div class="tool-description">
                <p>This calculator demonstrates the fundamental principles of heat transfer: conduction, convection, and radiation. It has been upgraded for industrial calculations, allowing for complex geometries and calculation of convection coefficients.</p>
                <ul>                    
                    <li><strong>Conduction:</strong> Heat transfer through solids. Now supports <strong>Flat Walls</strong> and <strong>Cylindrical Pipes</strong>.</li>
                    <li><strong>Convection:</strong> Heat transfer via fluid movement. Now supports manual `h` entry or industrial calculation of `h` for <strong>Internal Pipe Flow</strong> using Reynolds, Prandtl, and Nusselt numbers (Dittus-Boelter equation).</li>
                    <li><strong>Radiation:</strong> Heat transfer via electromagnetic waves.</li>
                </ul>
                <p><strong>Note:</strong> These calculations are based on established formulas. For complex industrial systems, results should be verified against specialized literature (e.g., <strong>Incropera, F. P., et al., 'Fundamentals of Heat and Mass Transfer'</strong>) and relevant standards (ASME, TEMA).</p>
            </div>
            <div class="calculator-form">
                <form id="heat-transfer-modes-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="unit-system">Unit System: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select Metric (e.g., mm, m, ¬∞C, W/mK, W/m¬≤¬∞C) or Imperial (e.g., in, ft, ¬∞F, BTU/h ft¬∞F, BTU/h ft¬≤¬∞F) units.</span></span></label>
                            <select id="unit-system" required>
                                <option value="metric">Metric (mm, m, ¬∞C, W)</option>
                                <option value="imperial">Imperial (in, ft, ¬∞F, BTU/h)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Conduction Section -->
                    <div class="mode-section">
                        <h3><i class="fas fa-grip-lines"></i> Conduction Calculation</h3>
                        <div class="form-row">
                             <div class="form-group">
                                <label for="cond-geometry">Geometry Type: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select between a flat wall or a cylindrical wall (e.g., a pipe).</span></span></label>
                                <select id="cond-geometry" required>
                                    <option value="flat">Flat Wall</option>
                                    <option value="cylindrical">Cylindrical Wall</option>
                                </select>
                            </div>
                            <div class="form-group" id="cond-area-group">
                                <label for="cond-area">Area (A) <span class="area-unit-label">(m¬≤)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Surface area perpendicular to heat flow.</span></span></label>
                                <input type="number" id="cond-area" step="0.01" value="1" min="0.001" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cond-k">Thermal Conductivity (k) <span class="conductivity-unit-label">(W/mK)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Material's ability to conduct heat (e.g., Copper: ~385, Glass: ~1.0).</span></span></label>
                                <input type="number" id="cond-k" step="0.1" value="50" min="0.001" required>
                            </div>
                            <div class="form-group" id="cond-dx-group">
                                <label for="cond-dx">Thickness (Œîx) <span class="small-length-unit-label">(mm)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Thickness of the material.</span></span></label>
                                <input type="number" id="cond-dx" step="0.01" value="10" min="0.001" required>
                            </div>
                        </div>
                        <div class="form-row" id="cylindrical-cond-inputs" style="display: none;">
                            <div class="form-group">
                                <label for="cond-r1">Inner Radius (r‚ÇÅ) <span class="small-length-unit-label">(mm)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Inner radius of the cylindrical wall.</span></span></label>
                                <input type="number" id="cond-r1" step="0.01" value="25" min="0.001" required>
                            </div>
                            <div class="form-group">
                                <label for="cond-r2">Outer Radius (r‚ÇÇ) <span class="small-length-unit-label">(mm)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Outer radius of the cylindrical wall.</span></span></label>
                                <input type="number" id="cond-r2" step="0.01" value="30" min="0.001" required>
                            </div>
                            <div class="form-group">
                                <label for="cond-length">Length (L) <span class="length-unit-label">(m)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Length of the cylindrical wall.</span></span></label>
                                <input type="number" id="cond-length" step="0.1" value="1" min="0.001" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cond-t1">Hot Side Temperature (T‚ÇÅ) <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature on the hotter side of the wall.</span></span></label>
                                <input type="number" id="cond-t1" step="0.1" value="100" required>
                            </div>
                            <div class="form-group">
                                <label for="cond-t2">Cold Side Temperature (T‚ÇÇ) <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature on the colder side of the wall.</span></span></label>
                                <input type="number" id="cond-t2" step="0.1" value="20" required>
                            </div>
                        </div>
                    </div>

                    <!-- Convection Section -->
                    <div class="mode-section">
                        <h3><i class="fas fa-wind"></i> Convection Calculation</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="conv-mode">Calculation Mode:</label>
                                <select id="conv-mode" required>
                                    <option value="manual_h">Enter 'h' Manually</option>
                                    <option value="calculate_h_pipe">Calculate 'h' (Internal Pipe Flow)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="conv-area">Area (A) <span class="area-unit-label">(m¬≤)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Surface area exposed to the fluid. For pipe flow, this is the inner pipe wall area (œÄDL).</span></span></label>
                                <input type="number" id="conv-area" step="0.01" value="1" min="0.001" required>
                            </div>
                        </div>

                        <!-- Manual h Input -->
                        <div class="form-row" id="conv-h-group">
                            <div class="form-group">
                                <label for="conv-h">Convection Coefficient (h) <span class="convection-unit-label">(W/m¬≤¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Heat transfer coefficient. Typical values: Air (natural): 5-25, Air (forced): 10-500, Water (forced): 500-20,000.</span></span></label>
                                <input type="number" id="conv-h" step="0.1" value="1500" min="0.001" required>
                            </div>
                        </div>
                        
                        <!-- Calculated h Inputs (Hidden by default) -->
                        <div id="conv-calculate-inputs" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="conv-fluid">Fluid Type:</label>
                                    <select id="conv-fluid">
                                        <option value="water">Water</option>
                                        <option value="air">Air (1 atm)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="conv-fluid-temp">Fluid Bulk Temperature <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Average temperature of the fluid, used for property lookup.</span></span></label>
                                    <input type="number" id="conv-fluid-temp" step="1" value="50">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="conv-pipe-diam">Pipe Inner Diameter (D) <span class="small-length-unit-label">(mm)</span>:</label>
                                    <input type="number" id="conv-pipe-diam" step="0.1" value="25">
                                </div>
                                <div class="form-group">
                                    <label for="conv-velocity">Fluid Velocity (v) <span class="velocity-unit-label">(m/s)</span>:</label>
                                    <input type="number" id="conv-velocity" step="0.01" value="1.5">
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="conv-ts">Surface Temperature (T‚Çõ) <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature of the solid surface.</span></span></label>
                                <input type="number" id="conv-ts" step="0.1" value="100" required>
                            </div>
                            <div class="form-group">
                                <label for="conv-tf">Fluid Temperature (Tùíª) <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature of the surrounding fluid. (Used as T_bulk for 'h' calculation).</span></span></label>
                                <input type="number" id="conv-tf" step="0.1" value="20" required>
                            </div>
                        </div>
                    </div>

                    <!-- Radiation Section -->
                    <div class="mode-section">
                        <h3><i class="fas fa-sun"></i> Radiation Calculation</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="rad-area">Area (A) <span class="area-unit-label">(m¬≤)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Radiating surface area.</span></span></label>
                                <input type="number" id="rad-area" step="0.01" value="1" min="0.001" required>
                            </div>
                            <div class="form-group">
                                <label for="rad-emissivity">Emissivity (Œµ): <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Material's ability to emit radiation (0-1). 1.0 for a perfect black body, ~0.95 for painted surfaces, ~0.05 for polished metal.</span></span></label>
                                <input type="number" id="rad-emissivity" step="0.01" value="0.95" min="0" max="1" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="rad-t1">Surface Temperature (T‚Çõ) <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature of the radiating surface.</span></span></label>
                                <input type="number" id="rad-t1" step="0.1" value="100" required>
                            </div>
                            <div class="form-group">
                                <label for="rad-t2">Surroundings Temperature (T‚Çõ·µ§·µ£·µ£) <span class="temp-unit-label">(¬∞C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature of the surrounding environment that the surface radiates to.</span></span></label>
                                <input type="number" id="rad-t2" step="0.1" value="20" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button type="button" id="calculate-heat-transfer-modes-btn" class="calculate-btn">
                            <i class="fas fa-calculator"></i> Calculate All Modes
                        </button>
                    </div>
                </form>
            </div>
            <div id="result-container" class="result-container">
                <h3><i class="fas fa-chart-line"></i> Calculation Results</h3>
                <div id="calculation-details"></div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>Mode</th>
                            <th>Calculated Heat Transfer Rate</th>
                        </tr>
                    </thead>
                    <tbody id="result-table-body"></tbody>
                </table>
                <div class="standard-reference" id="standard-reference"></div>
            </div>
        </div>
        
        <!-- NEW 800+ WORD INFORMATIVE SECTION -->
        <div class="tool-container" style="margin-top: 40px;">
            <h2><i class="fas fa-book-open"></i> Professional Guide to Heat Transfer Modes</h2>

            <h3 style="color: var(--primary-color); margin-top: 25px;">Introduction: The Three Pillars of Thermal Energy</h3>
            <p>Heat transfer is the engineering discipline that governs the movement of thermal energy. All thermal processes, from a power plant boiler to a computer chip, are controlled by three fundamental modes. Understanding each mode is the first step to mastering complex industrial systems. In any real-world scenario, all three modes often occur simultaneously, and it is the engineer's job to identify the dominant mode and how they interact.</p>

            <h3 style="color: var(--primary-color); margin-top: 25px;">1. Conduction (Fourier's Law)</h3>
            <p>Conduction is heat transfer through a medium by direct molecular interaction, without bulk movement of the medium itself. Think of a metal spoon heating up in a hot cup of coffee. This is the primary mode of heat transfer *through* solid objects.</p>
            <p>The governing equation is <strong>Fourier's Law of Heat Conduction</strong>. Its form depends on the geometry:</p>
            
            <h4>Flat Wall (Plane Wall)</h4>
            <p>For a simple flat plate, the heat rate is proportional to the area, the temperature difference, and the material's thermal conductivity (\(k\)), and inversely proportional to the wall thickness (\(\Delta x\)).</p>
            <p class="formula">\[ Q_k = \frac{k A (T_1 - T_2)}{\Delta x} \]</p>
            <p>The term \(\frac{\Delta x}{k A}\) is known as the conductive thermal resistance (\(R_k\)).</p>

            <h4>Cylindrical Wall (Pipe or Tube)</h4>
            <p>For a pipe, the area for heat transfer is not constant; it increases as heat moves from the inside to the outside. This introduces a natural logarithm into the equation. This is the standard formula for heat loss through an insulated or uninsulated pipe in an industrial plant.</p>
            <p class="formula">\[ Q_k = \frac{2 \pi L k (T_1 - T_2)}{\ln(r_2 / r_1)} \]</p>
            <p>Where \(L\) is the length of the pipe, \(k\) is the pipe material's conductivity, \(T_1\) and \(T_2\) are the inner and outer surface temperatures, and \(r_1\) and \(r_2\) are the inner and outer radii. The thermal resistance here is \(R_k = \frac{\ln(r_2/r_1)}{2 \pi L k}\).</p>

            <h3 style="color: var(--primary-color); margin-top: 25px;">2. Convection (Newton's Law of Cooling)</h3>
            <p>Convection is heat transfer that occurs due to the bulk movement of a fluid (a liquid or a gas). The moving fluid carries thermal energy with it. This is divided into two categories:</p>
            <ul>
                <li><strong>Natural Convection:</strong> Fluid movement is driven by density differences (e.g., hot air rising from a radiator).</li>
                <li><strong>Forced Convection:</strong> Fluid movement is driven by an external source, like a pump or a fan. This is the dominant mode in most industrial processes (e.g., water flowing through a heat exchanger tube, air blowing over an engine).</li>
            </ul>
            <p>The governing equation for both is deceptively simple: <strong>Newton's Law of Cooling</strong>.</p>
            <p class="formula">\[ Q_h = h \cdot A \cdot (T_s - T_f) \]</p>
            <p>The entire complexity of convection is hidden in one variable: the <strong>convection heat transfer coefficient (\(h\))</strong>. This value is *not* a material property; it is a complex function of the fluid's properties, the flow velocity, and the geometry of the surface.</p>

            <h4>The Industrial Challenge: Finding 'h'</h4>
            <p>In industry, `h` is rarely given. It must be calculated using dimensionless numbers:</p>
            <ol>
                <li><strong>Reynolds Number (\(Re\)):</strong> Determines the flow regime.
                <p class="formula">\[ Re = \frac{\rho v D}{\mu} \]</p>
                <ul>
                    <li>If \(Re < 2300\), flow is **Laminar** (smooth, layered).</li>
                    <li>If \(Re > 4000\), flow is **Turbulent** (chaotic, well-mixed). Turbulent flow has a much higher `h` value and is almost always desired for heat transfer.</li>
                </ul>
                </li>
                <li><strong>Prandtl Number (\(Pr\)):</strong> Relates momentum diffusion to thermal diffusion. It's a fluid property.
                <p class="formula">\[ Pr = \frac{C_p \mu}{k_{\text{fluid}}} \]</p>
                </li>
                <li><strong>Nusselt Number (\(Nu\)):</strong> Relates the actual convective heat transfer to the heat transfer that would occur by pure conduction through the fluid. It is the key to finding `h`.
                <p class="formula">\[ h = \frac{Nu \cdot k_{\text{fluid}}}{D} \]</p>
                </li>
            </ol>
            <p>Engineers use empirical correlations to find `Nu` from `Re` and `Pr`. This calculator uses the most common and robust correlation for turbulent flow in a pipe: the <strong>Dittus-Boelter Equation</strong>.</p>
            <p class="formula">\[ Nu_D = 0.023 \cdot Re_D^{0.8} \cdot Pr^n \]</p>
            <p>Where \(n = 0.4\) if the fluid is being heated (\(T_s > T_f\)) and \(n = 0.3\) if the fluid is being cooled (\(T_s < T_f\)). This upgraded calculator performs this entire industrial calculation for you.</p>

            <h3 style="color: var(--primary-color); margin-top: 25px;">3. Radiation (Stefan-Boltzmann Law)</h3>
            <p>Radiation is heat transfer via electromagnetic waves (like light or infrared). It requires no medium and can travel through a vacuum. This is how the sun heats the Earth. In industrial settings, radiation is negligible at low temperatures but becomes the *dominant* mode of heat transfer in high-temperature applications like furnaces, boilers, and engine exhaust systems.</p>
            <p>The governing equation for a surface radiating to its surroundings is the <strong>Stefan-Boltzmann Law</strong>:</p>
            <p class="formula">\[ Q_r = \epsilon \cdot \sigma \cdot A \cdot (T_s^4 - T_{\text{surr}}^4) \]</p>
            <p>Key points for this equation:</p>
            <ul>
                <li><strong>Temperatures MUST be in Kelvin (or Rankine)</strong>. This is an absolute requirement, as the T‚Å¥ relationship is based on absolute zero. This calculator handles this conversion automatically.</li>
                <li><strong>Emissivity (\(\epsilon\)):</strong> A material property from 0 to 1 that describes how effectively a surface radiates energy compared to a perfect "black body" (\(\epsilon=1\)). A polished mirror has \(\epsilon \approx 0.05\), while black paint or heavy oxide scale has \(\epsilon \approx 0.95\).</li>
                <li><strong>\(\sigma\) (Sigma):</strong> The Stefan-Boltzmann constant (\(5.67 \times 10^{-8} \text{ W/m}^2\text{K}^4\)).</li>
            </ul>
            <p>In a real industrial setting, like a hot, uninsulated pipe in a large factory, the total heat loss is the sum of both convection (to the surrounding air) and radiation (to the surrounding walls). An engineer must calculate both and add them together for a true heat loss calculation.</p>
        </div>
    </main>

    <!-- NEW FOOTER -->
        <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Message box for notifications -->
    <div id="custom-message-box"></div>

    <!-- Updated JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calculateBtn = document.getElementById('calculate-heat-transfer-modes-btn');
            const resultContainer = document.getElementById('result-container');
            const resultTableBody = document.getElementById('result-table-body');
            const standardReference = document.getElementById('standard-reference');
            const calculationDetailsDiv = document.getElementById('calculation-details');

            const unitSystemSelect = document.getElementById('unit-system');
            
            // Conduction Inputs
            const condGeometrySelect = document.getElementById('cond-geometry');
            const condAreaInput = document.getElementById('cond-area');
            const condKInput = document.getElementById('cond-k');
            const condDxInput = document.getElementById('cond-dx');
            const condT1Input = document.getElementById('cond-t1');
            const condT2Input = document.getElementById('cond-t2');
            const condAreaGroup = document.getElementById('cond-area-group');
            const condDxGroup = document.getElementById('cond-dx-group');
            const cylindricalCondInputs = document.getElementById('cylindrical-cond-inputs');
            const condR1Input = document.getElementById('cond-r1');
            const condR2Input = document.getElementById('cond-r2');
            const condLengthInput = document.getElementById('cond-length');

            // Convection Inputs
            const convModeSelect = document.getElementById('conv-mode');
            const convHGroup = document.getElementById('conv-h-group');
            const convCalculateInputs = document.getElementById('conv-calculate-inputs');
            const convFluidSelect = document.getElementById('conv-fluid');
            const convFluidTempInput = document.getElementById('conv-fluid-temp');
            const convPipeDiamInput = document.getElementById('conv-pipe-diam');
            const convVelocityInput = document.getElementById('conv-velocity');
            const convAreaInput = document.getElementById('conv-area');
            const convHInput = document.getElementById('conv-h');
            const convTsInput = document.getElementById('conv-ts');
            const convTfInput = document.getElementById('conv-tf');

            // Radiation Inputs
            const radAreaInput = document.getElementById('rad-area');
            const radEmissivityInput = document.getElementById('rad-emissivity');
            const radT1Input = document.getElementById('rad-t1');
            const radT2Input = document.getElementById('rad-t2');

            // Unit Labels
            const areaUnitLabels = document.querySelectorAll('.area-unit-label');
            const conductivityUnitLabels = document.querySelectorAll('.conductivity-unit-label');
            const lengthUnitLabels = document.querySelectorAll('.length-unit-label'); // m or ft
            const smallLengthUnitLabels = document.querySelectorAll('.small-length-unit-label'); // mm or in
            const tempUnitLabels = document.querySelectorAll('.temp-unit-label');
            const convectionUnitLabels = document.querySelectorAll('.convection-unit-label');
            const velocityUnitLabels = document.querySelectorAll('.velocity-unit-label');

            const STEFAN_BOLTZMANN = 5.67e-8; // Stefan-Boltzmann constant W/(m^2 K^4)

            /**
             * Displays a custom message box at the top of the screen.
             */
            function displayMessage(message, type = "info") {
                const messageBox = document.getElementById('custom-message-box');
                if (!messageBox) {
                    console.error("Message box element not found.");
                    return;
                }
                messageBox.textContent = message;
                if (type === "error") {
                    messageBox.style.backgroundColor = '#EF4444'; // Red
                } else if (type === "warning") {
                    messageBox.style.backgroundColor = '#F59E0B'; // Amber
                } else {
                    messageBox.style.backgroundColor = '#10B981'; // Green
                }
                messageBox.classList.add('show');
                setTimeout(() => messageBox.classList.remove('show'), 5000);
            }

            /**
             * Fluid properties database (simplified, linear interpolation)
             * Returns properties in SI units (kg/m¬≥, Pa¬∑s, W/mK, unitless)
             */
            function getFluidProperties(fluid, temp_C) {
                const water = { // Properties for liquid water
                    temps: [10, 20, 30, 40, 50, 60, 80, 100],
                    rho: [999.7, 998.2, 995.7, 992.2, 988.1, 983.2, 971.8, 958.4], // kg/m¬≥
                    mu: [1.307e-3, 1.002e-3, 0.798e-3, 0.653e-3, 0.547e-3, 0.467e-3, 0.355e-3, 0.282e-3], // Pa¬∑s
                    k: [0.580, 0.598, 0.615, 0.631, 0.644, 0.654, 0.670, 0.680], // W/mK
                    pr: [9.47, 7.01, 5.42, 4.34, 3.56, 2.99, 2.22, 1.76] // Prandtl Number
                };
                const air = { // Properties for air at 1 atm
                    temps: [0, 20, 40, 60, 80, 100],
                    rho: [1.292, 1.204, 1.127, 1.059, 1.000, 0.946], // kg/m¬≥
                    mu: [1.71e-5, 1.81e-5, 1.90e-5, 2.00e-5, 2.09e-5, 2.18e-5], // Pa¬∑s
                    k: [0.0242, 0.0257, 0.0271, 0.0285, 0.0299, 0.0314], // W/mK
                    pr: [0.737, 0.731, 0.726, 0.720, 0.716, 0.711] // Prandtl Number
                };
                
                const data = (fluid === 'water') ? water : air;
                
                // Clamp temperature to data range
                temp_C = Math.max(temp_C, data.temps[0]);
                temp_C = Math.min(temp_C, data.temps[data.temps.length - 1]);

                // Find surrounding temps
                let i = 0;
                while (i < data.temps.length - 1 && data.temps[i+1] < temp_C) {
                    i++;
                }
                
                if (i === data.temps.length - 1) i--; // Handle edge case
                
                const T1 = data.temps[i];
                const T2 = data.temps[i+1];
                const frac = (temp_C - T1) / (T2 - T1);

                // Interpolate
                const interp = (arr) => arr[i] + (arr[i+1] - arr[i]) * frac;
                
                return {
                    rho: interp(data.rho),
                    mu: interp(data.mu),
                    k: interp(data.k),
                    pr: interp(data.pr)
                };
            }
            
            // --- Unit Conversion Functions ---
            const C_to_F = (c) => (c * 9/5) + 32;
            const F_to_C = (f) => (f - 32) * 5/9;
            const C_to_K = (c) => c + 273.15;
            const F_to_K = (f) => (f - 32) * 5/9 + 273.15;
            
            const m_to_ft = (m) => m * 3.28084;
            const ft_to_m = (ft) => ft / 3.28084;
            const mm_to_m = (mm) => mm / 1000;
            const in_to_m = (inch) => inch * 0.0254;
            
            const m2_to_ft2 = (m2) => m2 * 10.7639;
            const ft2_to_m2 = (ft2) => ft2 / 10.7639;
            
            const mps_to_fps = (mps) => mps * 3.28084;
            const fps_to_mps = (fps) => fps / 3.28084;

            const W_to_BTUh = (w) => w * 3.41214;
            const BTUh_to_W = (btuh) => btuh / 3.41214;
            
            const W_mK_to_BTU_ftF = (w) => w * 0.577789; // 1 W/mK = 0.577789 BTU/h ft F
            const BTU_ftF_to_W_mK = (btu) => btu / 0.577789;
            
            const W_m2C_to_BTU_ft2F = (w) => w * 0.17611; // 1 W/m2C = 0.17611 BTU/h ft2 F
            const BTU_ft2F_to_W_m2C = (btu) => btu / 0.17611;


            function updateUI() {
                const unitSystem = unitSystemSelect.value;
                const condGeometry = condGeometrySelect.value;
                const convMode = convModeSelect.value;

                // Toggle geometry inputs
                if (condGeometry === 'flat') {
                    condAreaGroup.style.display = 'block';
                    condDxGroup.style.display = 'block';
                    cylindricalCondInputs.style.display = 'none';
                    condAreaInput.required = true;
                    condDxInput.required = true;
                    condR1Input.required = false;
                    condR2Input.required = false;
                    condLengthInput.required = false;
                } else { // cylindrical
                    condAreaGroup.style.display = 'none';
                    condDxGroup.style.display = 'none';
                    cylindricalCondInputs.style.display = 'grid'; // Use grid for form-row
                    condAreaInput.required = false;
                    condDxInput.required = false;
                    condR1Input.required = true;
                    condR2Input.required = true;
                    condLengthInput.required = true;
                }
                
                // Toggle convection inputs
                if (convMode === 'manual_h') {
                    convHGroup.style.display = 'grid';
                    convCalculateInputs.style.display = 'none';
                    convHInput.required = true;
                    convPipeDiamInput.required = false;
                    convVelocityInput.required = false;
                } else { // calculate_h_pipe
                    convHGroup.style.display = 'none';
                    convCalculateInputs.style.display = 'grid'; // Use grid for form-row
                    convHInput.required = false;
                    convPipeDiamInput.required = true;
                    convVelocityInput.required = true;
                }

                // Update unit labels and default values
                if (unitSystem === 'imperial') {
                    areaUnitLabels.forEach(label => label.innerHTML = `(ft¬≤)`);
                    lengthUnitLabels.forEach(label => label.innerHTML = `(ft)`);
                    smallLengthUnitLabels.forEach(label => label.innerHTML = `(in)`);
                    tempUnitLabels.forEach(label => label.innerHTML = `(¬∞F)`);
                    conductivityUnitLabels.forEach(label => label.innerHTML = `(BTU/h ft¬∞F)`);
                    convectionUnitLabels.forEach(label => label.innerHTML = `(BTU/h ft¬≤¬∞F)`);
                    velocityUnitLabels.forEach(label => label.innerHTML = `(ft/s)`);

                    // --- Auto-convert default values ---
                    if (condAreaInput.value === "1") condAreaInput.value = "10.76"; // m2 to ft2
                    if (condKInput.value === "50") condKInput.value = "28.89"; // W/mK to BTU/h ft F
                    if (condDxInput.value === "10") condDxInput.value = "0.394"; // mm to in
                    if (condR1Input.value === "25") condR1Input.value = "0.984"; // mm to in
                    if (condR2Input.value === "30") condR2Input.value = "1.181"; // mm to in
                    if (condLengthInput.value === "1") condLengthInput.value = "3.28"; // m to ft
                    if (condT1Input.value === "100") condT1Input.value = "212";
                    if (condT2Input.value === "20") condT2Input.value = "68";
                    
                    if (convAreaInput.value === "1") convAreaInput.value = "10.76";
                    if (convHInput.value === "1500") convHInput.value = "264.17"; // W/m2C to BTU/h ft2 F
                    if (convFluidTempInput.value === "50") convFluidTempInput.value = "122";
                    if (convPipeDiamInput.value === "25") convPipeDiamInput.value = "0.984"; // mm to in
                    if (convVelocityInput.value === "1.5") convVelocityInput.value = "4.92"; // m/s to ft/s
                    if (convTsInput.value === "100") convTsInput.value = "212";
                    if (convTfInput.value === "20") convTfInput.value = "68";
                    
                    if (radAreaInput.value === "1") radAreaInput.value = "10.76";
                    if (radT1Input.value === "100") radT1Input.value = "212";
                    if (radT2Input.value === "20") radT2Input.value = "68";

                } else { // Metric
                    areaUnitLabels.forEach(label => label.innerHTML = `(m¬≤)`);
                    lengthUnitLabels.forEach(label => label.innerHTML = `(m)`);
                    smallLengthUnitLabels.forEach(label => label.innerHTML = `(mm)`);
                    tempUnitLabels.forEach(label => label.innerHTML = `(¬∞C)`);
                    conductivityUnitLabels.forEach(label => label.innerHTML = `(W/mK)`);
                    convectionUnitLabels.forEach(label => label.innerHTML = `(W/m¬≤¬∞C)`);
                    velocityUnitLabels.forEach(label => label.innerHTML = `(m/s)`);
                    
                    // --- Auto-convert default values back ---
                    if (condAreaInput.value === "10.76") condAreaInput.value = "1";
                    if (condKInput.value === "28.89") condKInput.value = "50";
                    if (condDxInput.value === "0.394") condDxInput.value = "10";
                    if (condR1Input.value === "0.984") condR1Input.value = "25";
                    if (condR2Input.value === "1.181") condR2Input.value = "30";
                    if (condLengthInput.value === "3.28") condLengthInput.value = "1";
                    if (condT1Input.value === "212") condT1Input.value = "100";
                    if (condT2Input.value === "68") condT2Input.value = "20";
                    
                    if (convAreaInput.value === "10.76") convAreaInput.value = "1";
                    if (convHInput.value === "264.17") convHInput.value = "1500";
                    if (convFluidTempInput.value === "122") convFluidTempInput.value = "50";
                    if (convPipeDiamInput.value === "0.984") convPipeDiamInput.value = "25";
                    if (convVelocityInput.value === "4.92") convVelocityInput.value = "1.5";
                    if (convTsInput.value === "212") convTsInput.value = "100";
                    if (convTfInput.value === "68") convTfInput.value = "20";
                    
                    if (radAreaInput.value === "10.76") radAreaInput.value = "1";
                    if (radT1Input.value === "212") radT1Input.value = "100";
                    if (radT2Input.value === "68") radT2Input.value = "20";
                }
                
                if (window.MathJax && window.MathJax.typeset) {
                    window.MathJax.typeset();
                }
            }

            unitSystemSelect.addEventListener('change', updateUI);
            condGeometrySelect.addEventListener('change', updateUI);
            convModeSelect.addEventListener('change', updateUI);
            updateUI(); // Initial UI update

            calculateBtn.addEventListener('click', function() {
                const unitSystem = unitSystemSelect.value;
                let calculationHtml = '<h4>Detailed Calculation Steps (SI Units):</h4>';
                resultTableBody.innerHTML = ''; // Clear previous results
                
                let power_display_unit = (unitSystem === 'imperial') ? 'BTU/h' : 'W';

                try {
                    // --- Conduction Calculation ---
                    const condK_val = parseFloat(condKInput.value);
                    const condT1_val = parseFloat(condT1Input.value);
                    const condT2_val = parseFloat(condT2Input.value);
                    const condGeometry = condGeometrySelect.value;

                    if (isNaN(condK_val) || condK_val <= 0 || isNaN(condT1_val) || isNaN(condT2_val)) throw new Error("Invalid Conduction inputs.");
                    if (condT1_val <= condT2_val) throw new Error("Conduction: Hot Side Temp must be > Cold Side Temp.");

                    const condK_si = (unitSystem === 'imperial') ? BTU_ftF_to_W_mK(condK_val) : condK_val;
                    const condT1_K = (unitSystem === 'imperial') ? F_to_K(condT1_val) : C_to_K(condT1_val);
                    const condT2_K = (unitSystem === 'imperial') ? F_to_K(condT2_val) : C_to_K(condT2_val);
                    const deltaT_cond_K = condT1_K - condT2_K;
                    
                    let condQ_si;
                    calculationHtml += `<h3>Conduction Calculation:</h3>`;
                    
                    if (condGeometry === 'flat') {
                        const condArea_val = parseFloat(condAreaInput.value);
                        const condDx_val = parseFloat(condDxInput.value);
                        if (isNaN(condArea_val) || condArea_val <= 0 || isNaN(condDx_val) || condDx_val <= 0) throw new Error("Invalid Flat Wall inputs.");

                        const condArea_si = (unitSystem === 'imperial') ? ft2_to_m2(condArea_val) : condArea_val;
                        const condDx_si = (unitSystem === 'imperial') ? in_to_m(condDx_val) : mm_to_m(condDx_val);
                        
                        condQ_si = (condK_si * condArea_si * deltaT_cond_K) / condDx_si;

                        calculationHtml += `<p class="formula">\\( Q_k = \\frac{k A (T_1 - T_2)}{\\Delta x} \\)</p>`;
                        calculationHtml += `<p class="calculation-step">\\( Q_k \\) = \\(\\frac{${condK_si.toFixed(3)} \\times ${condArea_si.toFixed(4)} \\times ${deltaT_cond_K.toFixed(2)}}{${condDx_si.toExponential(3)}}\\) = ${condQ_si.toFixed(2)} W</p>`;
                    
                    } else { // Cylindrical
                        const condR1_val = parseFloat(condR1Input.value);
                        const condR2_val = parseFloat(condR2Input.value);
                        const condLength_val = parseFloat(condLengthInput.value);
                        if (isNaN(condR1_val) || condR1_val <= 0 || isNaN(condR2_val) || condR2_val <= 0 || isNaN(condLength_val) || condLength_val <= 0) throw new Error("Invalid Cylindrical Wall inputs.");
                        if (condR1_val >= condR2_val) throw new Error("Cylindrical Wall: Outer Radius must be > Inner Radius.");

                        const condR1_si = (unitSystem === 'imperial') ? in_to_m(condR1_val) : mm_to_m(condR1_val);
                        const condR2_si = (unitSystem === 'imperial') ? in_to_m(condR2_val) : mm_to_m(condR2_val);
                        const condLength_si = (unitSystem === 'imperial') ? ft_to_m(condLength_val) : condLength_val;

                        condQ_si = (2 * Math.PI * condLength_si * condK_si * deltaT_cond_K) / Math.log(condR2_si / condR1_si);
                        
                        calculationHtml += `<p class="formula">\\( Q_k = \\frac{2 \\pi L k (T_1 - T_2)}{\\ln(r_2/r_1)} \\)</p>`;
                        calculationHtml += `<p class="calculation-step">\\( Q_k \\) = \\(\\frac{2 \\pi \\times ${condLength_si.toFixed(2)} \\times ${condK_si.toFixed(3)} \\times ${deltaT_cond_K.toFixed(2)}}{\\ln(${condR2_si.toExponential(3)} / ${condR1_si.toExponential(3)})}\\) = ${condQ_si.toFixed(2)} W</p>`;
                    }
                    let displayCondQ = (unitSystem === 'imperial') ? W_to_BTUh(condQ_si) : condQ_si;
                    addResultRow("Conduction", `<strong>${displayCondQ.toFixed(2)} ${power_display_unit}</strong>`);

                    // --- Convection Calculation ---
                    const convArea_val = parseFloat(convAreaInput.value);
                    const convTs_val = parseFloat(convTsInput.value);
                    const convTf_val = parseFloat(convTfInput.value);
                    if (isNaN(convArea_val) || convArea_val <= 0 || isNaN(convTs_val) || isNaN(convTf_val)) throw new Error("Invalid Convection inputs.");
                    if (convTs_val === convTf_val) throw new Error("Convection: Surface Temp must be different from Fluid Temp.");
                    
                    const convArea_si = (unitSystem === 'imperial') ? ft2_to_m2(convArea_val) : convArea_val;
                    const convTs_K = (unitSystem === 'imperial') ? F_to_K(convTs_val) : C_to_K(convTs_val);
                    const convTf_K = (unitSystem === 'imperial') ? F_to_K(convTf_val) : C_to_K(convTf_val);
                    const deltaT_conv_K = convTs_K - convTf_K;
                    
                    let convH_si;
                    calculationHtml += `<h3>Convection Calculation:</h3>`;
                    
                    if (convModeSelect.value === 'manual_h') {
                        const convH_val = parseFloat(convHInput.value);
                        if (isNaN(convH_val) || convH_val <= 0) throw new Error("Invalid manual 'h' value.");
                        convH_si = (unitSystem === 'imperial') ? BTU_ft2F_to_W_m2C(convH_val) : convH_val;
                        calculationHtml += `<p class="calculation-step">Mode: Manual \`h\`</p>`;
                        calculationHtml += `<p class="calculation-step">Convection Coefficient (h): ${convH_si.toFixed(2)} W/m¬≤¬∞C</p>`;
                    
                    } else { // 'calculate_h_pipe'
                        const fluid = convFluidSelect.value;
                        const fluidTemp_val = parseFloat(convFluidTempInput.value);
                        const pipeDiam_val = parseFloat(convPipeDiamInput.value);
                        const velocity_val = parseFloat(convVelocityInput.value);
                        if (isNaN(fluidTemp_val) || isNaN(pipeDiam_val) || pipeDiam_val <= 0 || isNaN(velocity_val) || velocity_val <= 0) throw new Error("Invalid inputs for 'h' calculation.");
                        
                        const fluidTemp_C = (unitSystem === 'imperial') ? F_to_C(fluidTemp_val) : fluidTemp_val;
                        const pipeDiam_si = (unitSystem === 'imperial') ? in_to_m(pipeDiam_val) : mm_to_m(pipeDiam_val);
                        const velocity_si = (unitSystem === 'imperial') ? fps_to_mps(velocity_val) : velocity_val;
                        
                        const props = getFluidProperties(fluid, fluidTemp_C);
                        
                        const Re = (props.rho * velocity_si * pipeDiam_si) / props.mu;
                        const Pr = props.pr;
                        
                        let Nu;
                        let flowRegime;
                        if (Re < 2300) {
                            Nu = 4.36; // Assuming constant wall temperature
                            flowRegime = "Laminar";
                        } else {
                            flowRegime = "Turbulent";
                            // Dittus-Boelter
                            const n = (deltaT_conv_K > 0) ? 0.4 : 0.3; // 0.4 for heating fluid, 0.3 for cooling
                            Nu = 0.023 * Math.pow(Re, 0.8) * Math.pow(Pr, n);
                        }
                        
                        convH_si = (Nu * props.k) / pipeDiam_si;
                        
                        calculationHtml += `<p class="calculation-step">Mode: Calculate 'h' (Internal Pipe Flow)</p>`;
                        calculationHtml += `<p class="calculation-step">Fluid: ${fluid} @ ${fluidTemp_C.toFixed(1)}¬∞C</p>`;
                        calculationHtml += `<p class="calculation-step">Reynolds (Re) = ${Re.toExponential(3)} (${flowRegime})</p>`;
                        calculationHtml += `<p class="calculation-step">Prandtl (Pr) = ${Pr.toFixed(3)}</p>`;
                        calculationHtml += `<p class="calculation-step">Nusselt (Nu) = ${Nu.toFixed(2)}</p>`;
                        calculationHtml += `<p class="calculation-step">Calculated (h) = (Nu * k) / D = <strong>${convH_si.toFixed(2)} W/m¬≤¬∞C</strong></p>`;
                    }
                    
                    const convQ_si = convH_si * convArea_si * deltaT_conv_K;
                    calculationHtml += `<p class="formula">\\( Q_h = h A (T_s - T_f) \\)</p>`;
                    calculationHtml += `<p class="calculation-step">\\( Q_h \\) = ${convH_si.toFixed(2)} \\times ${convArea_si.toFixed(4)} \\times ${deltaT_conv_K.toFixed(2)} = ${convQ_si.toFixed(2)} W</p>`;
                    let displayConvQ = (unitSystem === 'imperial') ? W_to_BTUh(convQ_si) : convQ_si;
                    addResultRow("Convection", `<strong>${displayConvQ.toFixed(2)} ${power_display_unit}</strong>`);

                    // --- Radiation Calculation ---
                    const radArea_val = parseFloat(radAreaInput.value);
                    const radEmissivity_val = parseFloat(radEmissivityInput.value);
                    const radT1_val = parseFloat(radT1Input.value);
                    const radT2_val = parseFloat(radT2Input.value);
                    if (isNaN(radArea_val) || radArea_val <= 0 || isNaN(radEmissivity_val) || radEmissivity_val < 0 || radEmissivity_val > 1 || isNaN(radT1_val) || isNaN(radT2_val)) throw new Error("Invalid Radiation inputs.");
                    if (radT1_val === radT2_val) {
                        // Not an error, Q is just 0
                        calculationHtml += `<h3>Radiation Calculation:</h3>`;
                        calculationHtml += `<p class="calculation-step">ŒîT is zero, Q_radiation = 0 W</p>`;
                        addResultRow("Radiation", `<strong>0.00 ${power_display_unit}</strong>`);
                    } else {
                        const radArea_si = (unitSystem === 'imperial') ? ft2_to_m2(radArea_val) : radArea_val;
                        const radT1_K = (unitSystem === 'imperial') ? F_to_K(radT1_val) : C_to_K(radT1_val);
                        const radT2_K = (unitSystem === 'imperial') ? F_to_K(radT2_val) : C_to_K(radT2_val);

                        const radQ_si = radEmissivity_val * STEFAN_BOLTZMANN * radArea_si * (Math.pow(radT1_K, 4) - Math.pow(radT2_K, 4));
                        
                        calculationHtml += `<h3>Radiation Calculation:</h3>`;
                        calculationHtml += `<p class="formula">\\( Q_r = \\epsilon \\sigma A (T_s^4 - T_{\\text{surr}}^4) \\)</p>`;
                        calculationHtml += `<p class="calculation-step">\\( Q_r \\) = ${radEmissivity_val.toFixed(2)} \\times ${STEFAN_BOLTZMANN.toExponential(2)} \\times ${radArea_si.toFixed(4)} \\times (${radT1_K.toFixed(2)}^4 - ${radT2_K.toFixed(2)}^4)</p>`;
                        calculationHtml += `<p class="calculation-step">\\( Q_r \\) = ${radQ_si.toFixed(2)} W</p>`;
                        
                        let displayRadQ = (unitSystem === 'imperial') ? W_to_BTUh(radQ_si) : radQ_si;
                        addResultRow("Radiation", `<strong>${displayRadQ.toFixed(2)} ${power_display_unit}</strong>`);
                    }

                    // Final display setup
                    calculationDetailsDiv.innerHTML = calculationHtml;
                    if (window.MathJax) {
                        window.MathJax.typeset([calculationDetailsDiv, resultTableBody]);
                    }

                    standardReference.innerHTML = "These calculations are based on fundamental heat transfer equations: <ul><li><strong>Conduction: Fourier's Law of Heat Conduction.</strong></li><li><strong>Convection: Newton's Law of Cooling, with 'h' derived from the Dittus-Boelter equation (for turbulent pipe flow).</strong></li><li><strong>Radiation: Stefan-Boltzmann Law.</strong></li></ul>For detailed applications, complex geometries, or specific fluid properties, refer to leading heat transfer textbooks such as <strong>Holman, J. P., 'Heat Transfer'</strong> or <strong>Incropera, F. P., et al., 'Fundamentals of Heat and Mass Transfer'</strong>, and relevant international standards (e.g., ISO, ASHRAE) which provide empirical correlations and guidelines.";

                    resultContainer.style.display = 'block';
                    setTimeout(() => {
                        resultContainer.classList.add('show');
                    }, 10);
                    resultContainer.scrollIntoView({ behavior: 'smooth' });
                    displayMessage("Calculation completed successfully!", "info");

                } catch (e) {
                    displayMessage(e.message, "error");
                    resultContainer.style.display = 'none';
                    resultContainer.classList.remove('show');
                }
            });

            // Helper function to add row to table
            function addResultRow(mode, valueHtml) {
                const row = resultTableBody.insertRow();
                const modeCell = row.insertCell();
                const valueCell = row.insertCell();
                modeCell.innerHTML = mode;
                valueCell.innerHTML = valueHtml;
            }

            // New theme switch logic
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    document.body.classList.toggle('dark-mode');
                    localStorage.setItem('theme', this.checked ? 'dark' : 'light');
                });
            }
        });
    </script>
</body>
</html>
