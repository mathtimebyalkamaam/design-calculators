<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-23Y1V450SR');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chiller Capacity & COP Calculator - Design Calculators - Mechanical</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax for LaTeX rendering -->
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="icon" href="/favicon.ico" type="image/x-icon">

    <script>
        // MathJax configuration to support inline and display LaTeX
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    <style>
        /* CSS Variables for theming (light and dark mode) */
        :root {
            --primary-color: #2196F3;
            --secondary-color: #1976D2;
            --accent-color: #FFC107;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --header-bg: #2C3E50;
            --footer-bg: #34495E;
            --border-color: #cccccc;
            --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            --hover-color: #e2e6ea;
            --primary-color-rgb: 33, 150, 243;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        /* Dark mode overrides */
        body.dark-mode {
            --primary-color: #5DADE2;
            --secondary-color: #2874A6;
            --bg-color: #252D3A;
            --card-bg: #2F3C4C;
            --text-color: #E0E6EB;
            --header-bg: #252D3A;
            --footer-bg: #252D3A;
            --border-color: #4C5C70;
            --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            --hover-color: #3A475C;
            --primary-color-rgb: 93, 173, 226;
            --success-color: #4CAF50;
            --error-color: #F44336;
        }
        /* Base body styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at center, var(--bg-color) 0%, rgba(244, 247, 246, 0.8) 100%);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s, background-image 0.3s;
        }
        /* Container for content width limitation and centering */
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px;
        }
        /* Header styling */
        header {
            background-color: var(--header-bg);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: var(--card-shadow);
            position: relative;
        }
        header h1 {
            margin: 0;
            font-size: 2.8em;
            color: var(--primary-color);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        header .subtitle {
            margin: 8px 0 0;
            font-size: 1.1em;
            color: #bdc3c7;
        }
        /* Main content area styling */
        main {
            padding: 30px 0;
        }
        /* Tool container styling */
        .tool-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            margin-bottom: 25px;
            transition: transform 0.3s ease-in-out;
        }
        .tool-container:hover {
            transform: translateY(-5px);
        }
        .tool-container h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 12px;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 2em;
        }
        .tool-description {
            margin-bottom: 25px;
            color: var(--text-color);
            font-size: 1.05em;
        }
        .tool-description ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
            margin-top: 15px;
        }
        .tool-description ul li {
            margin-bottom: 8px;
        }
        .tool-description strong {
            color: var(--primary-color);
        }
        /* Back button styling */
        .back-button {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            margin-bottom: 25px;
            transition: background-color 0.3s, transform 0.2s ease-in-out;
            font-weight: bold;
        }
        .back-button:hover {
            background-color: var(--secondary-color);
            transform: scale(1.03);
        }
        /* Theme toggle switch styling */
        .theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            display: flex;
            align-items: center;
        }
        .theme-toggle .light-icon,
        .theme-toggle .dark-icon {
            color: white;
            margin: 0 8px;
            font-size: 1.3em;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 65px;
            height: 38px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 30px;
            width: 30px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        input:focus + .slider {
            box-shadow: 0 0 1px var(--primary-color);
        }
        input:checked + .slider:before {
            transform: translateX(27px);
        }
        .slider.round {
            border-radius: 38px;
        }
        .slider.round:before {
            border-radius: 50%;
        }
        /* Footer styling */
        footer {
            background-color: var(--footer-bg);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.2);
            margin-top: 40px;
        }
        footer .disclaimer h3,
        footer .social-share h3 {
            color: var(--primary-color);
            margin-bottom: 12px;
            font-size: 1.3em;
        }
        footer .disclaimer p {
            font-size: 0.95em;
            color: #bdc3c7;
        }
        .social-buttons {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .social-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            font-size: 1.4em;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 15px rgba(0,0,0,0.3);
        }
        /* Specific social button colors */
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .social-btn.reddit { background-color: #FF4500; }
        .social-btn.email { background-color: #7f8c8d; }
        /* Calculator form styling */
        .calculator-form {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            margin-top: 25px;
            box-shadow: var(--card-shadow);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1.05em;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--bg-color);
            color: var(--text-color);
            box-sizing: border-box;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.08);
        }
        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.3);
            outline: none;
        }
        /* Responsive form row layout */
        .form-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap; /* Allows items to wrap on smaller screens */
        }
        .form-row .form-group {
            flex: 1 1 calc(50% - 10px); /* Two columns, with gap */
            min-width: 280px; /* Minimum width before wrapping */
        }
        /* Media query for single column on small screens */
        @media (max-width: 600px) {
            .form-row .form-group {
                flex: 1 1 100%; /* Single column */
            }
        }
        /* Calculate button styling */
        .calculate-btn {
            background-image: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 18px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 17px;
            font-weight: bold;
            margin-top: 20px;
            transition: background-image 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 100%; /* Full width button */
        }
        .calculate-btn:hover {
            background-image: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        /* Result container styling */
        .result-container {
            margin-top: 40px;
            padding: 30px;
            border-radius: 12px;
            background-color: var(--card-bg);
            box-shadow: var(--card-shadow);
            display: block; /* Always block, but opacity controls visibility */
            opacity: 0;
            transition: opacity 0.6s ease-out;
            pointer-events: none; /* Prevents interaction when hidden */
        }
        .result-container.show {
            opacity: 1;
            pointer-events: auto; /* Allows interaction when shown */
        }
        .result-container h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        /* Result table styling */
        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .result-table th, .result-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        .result-table th {
            background-color: var(--hover-color);
            font-weight: bold;
            font-size: 1.1em;
        }
        .result-table tr:last-child td {
            border-bottom: none;
        }
        /* Standard reference text styling */
        .standard-reference {
            margin-top: 25px;
            font-style: italic;
            font-size: 0.95rem;
            line-height: 1.5;
            padding: 10px;
            background-color: var(--bg-color);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        /* Tooltip styling */
        .info-icon {
            color: var(--primary-color);
            margin-left: 8px;
            cursor: help;
            font-size: 1em;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 220px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the element */
            left: 50%;
            margin-left: -110px; /* Center the tooltip */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85em;
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%; /* Arrow at the bottom */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        /* Custom message box for alerts */
        #custom-message-box {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 18px 30px;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            font-weight: bold;
            color: white;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, background-color 0.3s;
            font-size: 1.1em;
        }
        #custom-message-box.info {
            background-color: var(--success-color);
        }
        #custom-message-box.error {
            background-color: var(--error-color);
        }
        #custom-message-box.warning {
            background-color: var(--accent-color);
            color: #333;
        }

        /* Calculation details section styling */
        #calculation-details {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            font-size: 0.98em;
            overflow-x: auto; /* Allow horizontal scrolling for formulas if needed */
        }
        #calculation-details h4 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        #calculation-details p.formula {
            font-family: 'Times New Roman', serif;
            font-style: italic;
            font-size: 1.2em;
            text-align: center;
            padding: 12px 0;
            background-color: var(--hover-color);
            border-radius: 6px;
            margin: 15px 0;
            border: 1px dashed var(--border-color);
            white-space: nowrap; /* Prevent formula from wrapping */
        }
        #calculation-details p.calculation-step {
            font-family: 'Courier New', monospace;
            background-color: var(--hover-color);
            padding: 8px 12px;
            border-radius: 5px;
            margin-bottom: 8px;
            font-size: 0.95em;
            white-space: nowrap; /* Prevent calculation steps from wrapping */
        }
        #calculation-details ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
        }
        #calculation-details ul li {
            margin-bottom: 5px;
        }
        /* Specific styling for required inputs to highlight visually */
        input:required:invalid {
            border-color: var(--error-color);
        }
        input:required:valid {
            border-color: var(--success-color);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Design Calculators - Mechanical</h1>
            <p class="subtitle">Smart Tools for Modern Mechanical Engineers</p>
            <div class="theme-toggle">
                <span class="light-icon"><i class="fas fa-sun"></i></span>
                <label class="switch">
                    <input type="checkbox" id="theme-switch">
                    <span class="slider round"></span>
                </label>
                <span class="dark-icon"><i class="fas fa-moon"></i></span>
            </div>
        </div>
    </header>

    <main class="container">
        <a href="indexMech.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Tools
        </a>

        <div class="tool-container">
            <h2>Chiller Capacity and COP Calculator</h2>
            <div class="tool-description">
                <p>This calculator determines the cooling capacity, Coefficient of Performance (COP), and Energy Efficiency Ratio (EER) of a chiller. It allows input based on chilled water flow rate and temperature difference, or directly from the cooling load and power input.</p>
                <p><strong>Key Inputs:</strong></p>
                <ul>
                    <li><strong>Chilled Water Flow Rate:</strong> Flow rate of water through the chiller evaporator.</li>
                    <li><strong>Chilled Water Inlet Temperature (\(T_{in}\)):</strong> Temperature of water entering the chiller.</li>
                    <li><strong>Chilled Water Outlet Temperature (\(T_{out}\)):</strong> Desired temperature of water leaving the chiller.</li>
                    <li><strong>Chiller Power Input (\(P_{in}\)):</strong> Electrical power consumed by the chiller.</li>
                    <li><strong>Specific Heat of Water (\(c_p\)):</strong> Assumed constant (4.186 kJ/kg&#176;C or 1 Btu/lb&#176;F).</li>
                    <li><strong>Density of Water (\(\rho\)):</strong> Assumed constant (1000 kg/m&#179; or 8.34 lb/gal).</li>
                </ul>
                <p><strong>Calculated Outputs:</strong></p>
                <ul>
                    <li><strong>Cooling Capacity (\(\dot{Q}\)):</strong> The rate of heat removal by the chiller.</li>
                    <li><strong>Coefficient of Performance (COP):</strong> Ratio of cooling output to power input (dimensionless).</li>
                    <li><strong>Energy Efficiency Ratio (EER):</strong> Cooling output in Btu/hr per Watt of power input.</li>
                    <li><strong>kW/ton:</strong> Power input in kW per ton of cooling (Imperial efficiency metric).</li>
                </ul>
            </div>

            <div class="calculator-form">
                <form id="chiller-calculator-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="unit-system">Unit System: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select Metric (&#176;C, kW, m&#179;/hr) or Imperial (&#176;F, Tons, gpm) units.</span></span></label>
                            <select id="unit-system" required>
                                <option value="metric">Metric (&#176;C, kW, m&#179;/hr)</option>
                                <option value="imperial">Imperial (&#176;F, Tons, gpm)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="input-mode">Input Mode: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Choose to calculate capacity from flow/temp, or input capacity directly.</span></span></label>
                            <select id="input-mode" required>
                                <option value="flow-temp-power">Flow Rate, Temp Difference & Power</option>
                                <option value="capacity-power">Direct Capacity & Power Input</option>
                            </select>
                        </div>
                    </div>

                    <div id="flow-temp-power-inputs">
                        <h3>Chilled Water Parameters</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="chilled-water-flow-rate">Chilled Water Flow Rate <span class="flow-unit-label">(m&#179;/hr)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Flow rate of water through the chiller evaporator.</span></span></label>
                                <input type="number" id="chilled-water-flow-rate" step="any" value="50" required min="0.01">
                            </div>
                            <div class="form-group">
                                <label for="chilled-water-inlet-temp">Chilled Water Inlet Temp (\(T_{in}\)) <span class="temp-unit-label">(&#176;C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature of water entering the chiller.</span></span></label>
                                <input type="number" id="chilled-water-inlet-temp" step="any" value="12" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="chilled-water-outlet-temp">Chilled Water Outlet Temp (\(T_{out}\)) <span class="temp-unit-label">(&#176;C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Desired temperature of water leaving the chiller. Must be lower than Inlet Temp.</span></span></label>
                                <input type="number" id="chilled-water-outlet-temp" step="any" value="7" required>
                            </div>
                            <div class="form-group">
                                <label for="chiller-power-input">Chiller Power Input (\(P_{in}\)) <span class="power-unit-label">(kW)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Total electrical power consumed by the chiller (compressor, pump, fan).</span></span></label>
                                <input type="number" id="chiller-power-input" step="any" value="100" required min="0.01">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="specific-heat-water">Specific Heat of Water (\(c_p\)) <span class="specific-heat-unit-label">(kJ/kg&#176;C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Specific heat capacity of water. Default values are typical.</span></span></label>
                                <input type="number" id="specific-heat-water" step="any" value="4.186" required min="0.01">
                            </div>
                            <div class="form-group">
                                <label for="density-water">Density of Water (\(\rho\)) <span class="density-unit-label">(kg/m&#179;)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Density of water at operating conditions. Default values are typical.</span></span></label>
                                <input type="number" id="density-water" step="any" value="1000" required min="0.01">
                            </div>
                        </div>
                    </div>

                    <div id="capacity-power-inputs" style="display: none;">
                        <h3>Direct Capacity & Power Input</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cooling-load-direct">Cooling Capacity (\(\dot{Q}\)) <span class="capacity-unit-label">(kW)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Enter the cooling capacity of the chiller.</span></span></label>
                                <input type="number" id="cooling-load-direct" step="any" value="351.7" required min="0.01">
                            </div>
                            <div class="form-group">
                                <label for="chiller-power-input-direct">Chiller Power Input (\(P_{in}\)) <span class="power-unit-label">(kW)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Total electrical power consumed by the chiller (compressor, pump, fan).</span></span></label>
                                <input type="number" id="chiller-power-input-direct" step="any" value="70" required min="0.01">
                            </div>
                        </div>
                    </div>

                    <button type="button" id="calculate-chiller-btn" class="calculate-btn">Calculate Chiller Performance</button>
                </form>
            </div>

            <div id="result-container" class="result-container">
                <h3>Calculation Results</h3>
                <div id="calculation-details"></div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody id="result-table-body"></tbody>
                </table>
                <div class="standard-reference" id="standard-reference"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="disclaimer">
                <h3>Disclaimer</h3>
                <p>This tool provides a simplified, theoretical estimation for chiller performance based on fundamental principles. It does not account for all complex factors involved in real-world chiller design and operation (e.g., refrigerant properties, compressor efficiency curves, ambient conditions, fouling). For accurate design, selection, and performance validation, always consult industry standards (like ASHRAE, AHRI) and experienced chiller manufacturers or qualified mechanical engineers.</p>
            </div>
            <div class="credit">
                <p>Created by A Sharma</p>
            </div>
            <div class="social-share">
                <h3>Share This Site</h3>
                <div class="social-buttons">
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in&title=Design Calculators - Mechanical" target="_blank" class="social-btn linkedin">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in" target="_blank" class="social-btn facebook">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="https://twitter.com/intent/tweet?text=Check out this amazing Design Calculators - Mechanical!&url=https://designcalculators.co.in" target="_blank" class="social-btn twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://api.whatsapp.com/send?text=Check out this amazing Design Calculators - Mechanical! https://designcalculators.co.in" target="_blank" class="social-btn whatsapp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="https://www.reddit.com/submit?url=https://designcalculators.co.in&title=Design Calculators - Mechanical" target="_blank" class="social-btn reddit">
                        <i class="fab fa-reddit"></i>
                    </a>
                    <a href="mailto:?subject=Check out Design Calculators - Mechanical!&body=I found this amazing Chiller Capacity & COP Calculator and other mechanical tools: https://designcalculators.co.in" class="social-btn email">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get references to DOM elements
            const calculateBtn = document.getElementById('calculate-chiller-btn');
            const resultContainer = document.getElementById('result-container');
            const resultTableBody = document.getElementById('result-table-body');
            const standardReference = document.getElementById('standard-reference');
            const calculationDetailsDiv = document.getElementById('calculation-details');

            // Input fields
            const unitSystemSelect = document.getElementById('unit-system');
            const inputModeSelect = document.getElementById('input-mode');

            const flowTempPowerInputsDiv = document.getElementById('flow-temp-power-inputs');
            const capacityPowerInputsDiv = document.getElementById('capacity-power-inputs');

            const chilledWaterFlowRateInput = document.getElementById('chilled-water-flow-rate');
            const chilledWaterInletTempInput = document.getElementById('chilled-water-inlet-temp');
            const chilledWaterOutletTempInput = document.getElementById('chilled-water-outlet-temp');
            const chillerPowerInput = document.getElementById('chiller-power-input');
            const specificHeatWaterInput = document.getElementById('specific-heat-water');
            const densityWaterInput = document.getElementById('density-water');
            
            const coolingLoadDirectInput = document.getElementById('cooling-load-direct');
            const chillerPowerInputDirect = document.getElementById('chiller-power-input-direct');

            // Unit labels
            const flowUnitLabel = document.querySelector('.flow-unit-label');
            const tempUnitLabels = document.querySelectorAll('.temp-unit-label');
            const powerUnitLabels = document.querySelectorAll('.power-unit-label');
            const specificHeatUnitLabel = document.querySelector('.specific-heat-unit-label');
            const densityUnitLabel = document.querySelector('.density-unit-label');
            const capacityUnitLabel = document.querySelector('.capacity-unit-label');

            /**
             * Displays a custom message box at the top of the screen.
             * @param {string} message - The message to display.
             * @param {string} type - The type of message ('info', 'error', 'warning').
             */
            function displayMessage(message, type = "info") {
                let messageBox = document.getElementById('custom-message-box');
                if (!messageBox) {
                    messageBox = document.createElement('div');
                    messageBox.id = 'custom-message-box';
                    document.body.appendChild(messageBox);
                }
                messageBox.textContent = message;
                messageBox.className = ''; // Clear previous classes
                messageBox.classList.add(type); // Add type class for styling
                messageBox.style.opacity = 1;

                // Hide message after 5 seconds
                setTimeout(() => {
                    messageBox.style.opacity = 0;
                }, 5000);
            }

            /**
             * Updates the unit labels and input values in the UI based on the selected unit system.
             */
            function updateUnitLabelsAndDefaults() {
                const unitSystem = unitSystemSelect.value;

                if (unitSystem === 'metric') {
                    flowUnitLabel.innerHTML = '(m&#179;/hr)';
                    tempUnitLabels.forEach(label => label.innerHTML = '(&#176;C)');
                    powerUnitLabels.forEach(label => label.innerHTML = '(kW)');
                    specificHeatUnitLabel.innerHTML = '(kJ/kg&#176;C)';
                    densityUnitLabel.innerHTML = '(kg/m&#179;)';
                    capacityUnitLabel.innerHTML = '(kW)';

                    // Set metric defaults
                    chilledWaterFlowRateInput.value = "50";
                    chilledWaterInletTempInput.value = "12";
                    chilledWaterOutletTempInput.value = "7";
                    chillerPowerInput.value = "100";
                    specificHeatWaterInput.value = "4.186";
                    densityWaterInput.value = "1000";
                    coolingLoadDirectInput.value = "351.7"; // 100 Tons
                    chillerPowerInputDirect.value = "70";
                } else { // Imperial
                    flowUnitLabel.innerHTML = '(gpm)';
                    tempUnitLabels.forEach(label => label.innerHTML = '(&#176;F)');
                    powerUnitLabels.forEach(label => label.innerHTML = '(kW)'); // Chiller power is typically kW
                    specificHeatUnitLabel.innerHTML = '(Btu/lb&#176;F)';
                    densityUnitLabel.innerHTML = '(lb/gal)';
                    capacityUnitLabel.innerHTML = '(Tons)';

                    // Set imperial defaults
                    chilledWaterFlowRateInput.value = "250";
                    chilledWaterInletTempInput.value = "54";
                    chilledWaterOutletTempInput.value = "44";
                    chillerPowerInput.value = "100"; // kW
                    specificHeatWaterInput.value = "1";
                    densityWaterInput.value = "8.34";
                    coolingLoadDirectInput.value = "100"; // Tons
                    chillerPowerInputDirect.value = "70"; // kW
                }
            }

            /**
             * Toggles visibility of input sections and sets 'required' attributes based on selected input mode.
             */
            function toggleInputModeSections() {
                const selectedMode = inputModeSelect.value;
                if (selectedMode === 'flow-temp-power') {
                    flowTempPowerInputsDiv.style.display = 'block';
                    capacityPowerInputsDiv.style.display = 'none';

                    chilledWaterFlowRateInput.setAttribute('required', 'true');
                    chilledWaterInletTempInput.setAttribute('required', 'true');
                    chilledWaterOutletTempInput.setAttribute('required', 'true');
                    chillerPowerInput.setAttribute('required', 'true');
                    specificHeatWaterInput.setAttribute('required', 'true');
                    densityWaterInput.setAttribute('required', 'true');
                    
                    coolingLoadDirectInput.removeAttribute('required');
                    chillerPowerInputDirect.removeAttribute('required');

                } else { // capacity-power mode
                    flowTempPowerInputsDiv.style.display = 'none';
                    capacityPowerInputsDiv.style.display = 'block';

                    coolingLoadDirectInput.setAttribute('required', 'true');
                    chillerPowerInputDirect.setAttribute('required', 'true');

                    chilledWaterFlowRateInput.removeAttribute('required');
                    chilledWaterInletTempInput.removeAttribute('required');
                    chilledWaterOutletTempInput.removeAttribute('required');
                    chillerPowerInput.removeAttribute('required');
                    specificHeatWaterInput.removeAttribute('required');
                    densityWaterInput.removeAttribute('required');
                }
            }

            // Event listeners for unit system and input mode changes
            unitSystemSelect.addEventListener('change', updateUnitLabelsAndDefaults);
            inputModeSelect.addEventListener('change', toggleInputModeSections);

            // Initial UI update on load
            updateUnitLabelsAndDefaults();
            toggleInputModeSections();

            /**
             * Adds a row to the result table.
             * @param {string} parameterHtml - The HTML content for the parameter column.
             * @param {string} valueHtml - The HTML content for the value column.
             */
            function addResultRow(parameterHtml, valueHtml) {
                const row = resultTableBody.insertRow();
                const paramCell = row.insertCell();
                const valueCell = row.insertCell();
                paramCell.innerHTML = parameterHtml;
                valueCell.innerHTML = valueHtml;
            }

            // Event listener for the calculate button
            calculateBtn.addEventListener('click', function() {
                // Validate all required fields
                const form = document.getElementById('chiller-calculator-form');
                if (!form.checkValidity()) {
                    displayMessage("Please fill in all required fields correctly.", "error");
                    form.reportValidity(); // Show native browser validation messages
                    return;
                }

                const unitSystem = unitSystemSelect.value;
                const inputMode = inputModeSelect.value;

                let coolingCapacity_kW = 0; // Standardize to kW for internal calculation
                let chillerPowerInput_kW = 0; // Standardize to kW for internal calculation

                let calculationHtml = '<h4>Detailed Calculation Steps:</h4>';

                if (inputMode === 'flow-temp-power') {
                    const V_dot_input = parseFloat(chilledWaterFlowRateInput.value);
                    const Tin = parseFloat(chilledWaterInletTempInput.value);
                    const Tout = parseFloat(chilledWaterOutletTempInput.value);
                    chillerPowerInput_kW = parseFloat(chillerPowerInput.value); // Already kW if metric, convert later if imperial
                    const c_p = parseFloat(specificHeatWaterInput.value);
                    const rho = parseFloat(densityWaterInput.value);

                    if (Tin <= Tout) {
                        displayMessage("Chilled Water Inlet Temperature (Tin) must be greater than Chilled Water Outlet Temperature (Tout).", "error");
                        return;
                    }

                    const deltaT = Tin - Tout;

                    calculationHtml += `<p><strong>1. Input Parameters (Flow Rate, Temp Difference & Power):</strong></p>`;
                    calculationHtml += `<ul>
                        <li>Chilled Water Flow Rate: ${V_dot_input} ${unitSystem === 'metric' ? 'm&#179;/hr' : 'gpm'}</li>
                        <li>Chilled Water Inlet Temp (\\(T_{in}\\)): ${Tin} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}</li>
                        <li>Chilled Water Outlet Temp (\\(T_{out}\\)): ${Tout} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}</li>
                        <li>Chiller Power Input (\\(P_{in}\\)): ${chillerPowerInput_kW} ${unitSystem === 'metric' ? 'kW' : 'kW'}</li>
                        <li>Specific Heat of Water (\\(c_p\\)): ${c_p} ${unitSystem === 'metric' ? 'kJ/kg&#176;C' : 'Btu/lb&#176;F'}</li>
                        <li>Density of Water (\\(\rho\\)): ${rho} ${unitSystem === 'metric' ? 'kg/m&#179;' : 'lb/gal'}</li>
                    </ul>`;

                    calculationHtml += `<p><strong>2. Calculate Temperature Difference:</strong></p>`;
                    calculationHtml += `<p class="formula">\\[ \\Delta T = T_{in} - T_{out} \\]</p>`;
                    calculationHtml += `<p class="calculation-step">
                        \\( \\Delta T \\) = ${Tin} - ${Tout} = ${deltaT.toFixed(2)} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}
                    </p>`;

                    let m_dot; // Mass flow rate

                    if (unitSystem === 'metric') {
                        // V_dot_input is in m3/hr
                        m_dot = rho * V_dot_input / 3600; // kg/s
                        coolingCapacity_kW = m_dot * c_p * deltaT; // kW

                        calculationHtml += `<p><strong>3. Calculate Mass Flow Rate:</strong></p>`;
                        calculationHtml += `<p class="formula">\\[ \\dot{m} = \\rho \\cdot \\dot{V}_{input} / 3600 \\text{ (for m\u00B3/hr to kg/s)} \\]</p>`;
                        calculationHtml += `<p class="calculation-step">
                            \\( \\dot{m} \\) = ${rho} kg/m&#179; \\times ${V_dot_input} m&#179;/hr / 3600 s/hr = ${m_dot.toFixed(3)} kg/s
                        </p>`;

                        calculationHtml += `<p><strong>4. Calculate Cooling Capacity:</strong></p>`;
                        calculationHtml += `<p class="formula">\\[ \\dot{Q} = \\dot{m} \\cdot c_p \\cdot \\Delta T \\]</p>`;
                        calculationHtml += `<p class="calculation-step">
                            \\( \\dot{Q} \\) = ${m_dot.toFixed(3)} kg/s \\times ${c_p} kJ/kg&#176;C \\times ${deltaT.toFixed(2)} &#176;C = ${coolingCapacity_kW.toFixed(2)} kW
                        </p>`;

                    } else { // Imperial
                        // V_dot_input is in gpm
                        m_dot = rho * V_dot_input * 60; // lb/hr (since rho is lb/gal and V_dot_input is gal/min, 60 min/hr)
                        // Q_Btu_hr = m_dot * c_p * deltaT
                        coolingCapacity_kW = (m_dot * c_p * deltaT) / 3412.14; // Convert Btu/hr to kW

                        calculationHtml += `<p><strong>3. Calculate Mass Flow Rate:</strong></p>`;
                        calculationHtml += `<p class="formula">\\[ \\dot{m} = \\rho \\cdot \\dot{V}_{input} \\cdot 60 \\text{ (for gpm to lb/hr)} \\]</p>`;
                        calculationHtml += `<p class="calculation-step">
                            \\( \\dot{m} \\) = ${rho} lb/gal \\times ${V_dot_input} gpm \\times 60 min/hr = ${m_dot.toFixed(2)} lb/hr
                        </p>`;

                        calculationHtml += `<p><strong>4. Calculate Cooling Capacity:</strong></p>`;
                        calculationHtml += `<p class="formula">\\[ \\dot{Q}_{Btu/hr} = \\dot{m} \\cdot c_p \\cdot \\Delta T \\]</p>`;
                        calculationHtml += `<p class="calculation-step">
                            \\( \\dot{Q}_{Btu/hr} \\) = ${m_dot.toFixed(2)} lb/hr \\times ${c_p} Btu/lb&#176;F \\times ${deltaT.toFixed(2)} &#176;F = ${(m_dot * c_p * deltaT).toFixed(2)} Btu/hr
                        </p>`;
                         calculationHtml += `<p class="formula">\\[ \\dot{Q}_{kW} = \\dot{Q}_{Btu/hr} / 3412.14 \\]</p>`;
                         calculationHtml += `<p class="calculation-step">
                            \\( \\dot{Q}_{kW} \\) = ${(m_dot * c_p * deltaT).toFixed(2)} Btu/hr / 3412.14 = ${coolingCapacity_kW.toFixed(2)} kW
                        </p>`;
                    }

                } else { // inputMode === 'capacity-power'
                    const coolingLoadInput = parseFloat(coolingLoadDirectInput.value);
                    chillerPowerInput_kW = parseFloat(chillerPowerInputDirect.value);

                    if (unitSystem === 'metric') {
                        coolingCapacity_kW = coolingLoadInput;
                    } else {
                        // If imperial, coolingLoadInput is in Tons, convert to kW
                        coolingCapacity_kW = coolingLoadInput * 3.517;
                    }

                    calculationHtml += `<p><strong>1. Input Parameters (Direct Capacity & Power):</strong></p>`;
                    calculationHtml += `<ul>
                        <li>Cooling Capacity (\\(\dot{Q}\\)): ${coolingLoadInput} ${unitSystem === 'metric' ? 'kW' : 'Tons'}</li>
                        <li>Chiller Power Input (\\(P_{in}\\)): ${chillerPowerInput_kW} kW</li>
                    </ul>`;
                    calculationHtml += `<p>Cooling capacity and power input directly provided. No further capacity calculation steps.</p>`;
                }

                // Calculate COP
                let cop = 0;
                if (chillerPowerInput_kW > 0) {
                    cop = coolingCapacity_kW / chillerPowerInput_kW;
                } else {
                    displayMessage("Chiller Power Input cannot be zero for COP calculation.", "error");
                    return;
                }

                // Calculate EER
                const eer = cop * 3.412; // 1 kW = 3412.14 Btu/hr, 1 Watt = 3.412 Btu/hr/Watt

                // Calculate kW/ton (Imperial efficiency metric)
                let kW_per_ton = null;
                if (unitSystem === 'imperial') {
                    if (coolingCapacity_kW > 0) {
                        kW_per_ton = chillerPowerInput_kW / (coolingCapacity_kW / 3.517); // coolingCapacity_kW / 3.517 converts kW to Tons
                    } else {
                        displayMessage("Cooling Capacity cannot be zero for kW/ton calculation.", "error");
                        return;
                    }
                }

                calculationHtml += `<p><strong>5. Calculate COP (Coefficient of Performance):</strong></p>`;
                calculationHtml += `<p class="formula">\\[ COP = \\frac{\\dot{Q}_{kW}}{P_{in,kW}} \\]</p>`;
                calculationHtml += `<p class="calculation-step">
                    \\( COP \\) = ${coolingCapacity_kW.toFixed(2)} kW / ${chillerPowerInput_kW.toFixed(2)} kW = ${cop.toFixed(3)}
                </p>`;

                calculationHtml += `<p><strong>6. Calculate EER (Energy Efficiency Ratio):</strong></p>`;
                calculationHtml += `<p class="formula">\\[ EER = COP \\times 3.412 \\]</p>`;
                calculationHtml += `<p class="calculation-step">
                    \\( EER \\) = ${cop.toFixed(3)} \\times 3.412 = ${eer.toFixed(2)} Btu/Wh
                </p>`;

                if (unitSystem === 'imperial') {
                    calculationHtml += `<p><strong>7. Calculate kW/ton:</strong></p>`;
                    calculationHtml += `<p class="formula">\\[ \\text{kW/ton} = \\frac{P_{in,kW}}{\\dot{Q}_{Tons}} \\]</p>`;
                    calculationHtml += `<p class="calculation-step">
                        \\( \\text{kW/ton} \\) = ${chillerPowerInput_kW.toFixed(2)} kW / ${(coolingCapacity_kW / 3.517).toFixed(2)} Tons = ${kW_per_ton.toFixed(2)}
                    </p>`;
                }

                // Prepare results for display
                resultTableBody.innerHTML = ''; // Clear previous results
                calculationDetailsDiv.innerHTML = calculationHtml;

                addResultRow("Unit System", unitSystem === 'imperial' ? 'Imperial' : 'Metric');
                addResultRow("Chiller Power Input (\\(P_{in}\\))", `\\( ${chillerPowerInput_kW.toFixed(2)} \\) kW`);

                if (unitSystem === 'metric') {
                    addResultRow("Cooling Capacity (\\(\\dot{Q}\\))", `<strong>\\( ${coolingCapacity_kW.toFixed(2)} \\) kW</strong>`);
                } else { // Imperial
                    addResultRow("Cooling Capacity (\\(\\dot{Q}\\))", `<strong>\\( ${(coolingCapacity_kW / 3.517).toFixed(2)} \\) Tons</strong>`);
                }
                
                addResultRow("Coefficient of Performance (COP)", `\\( ${cop.toFixed(3)} \\)`);
                addResultRow("Energy Efficiency Ratio (EER)", `\\( ${eer.toFixed(2)} \\) Btu/Wh`);
                if (unitSystem === 'imperial') {
                    addResultRow("kW/ton", `\\( ${kW_per_ton.toFixed(2)} \\)`);
                }

                // Re-render MathJax equations - ensure MathJax is fully loaded
                if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                    window.MathJax.typesetPromise([calculationDetailsDiv, resultTableBody]);
                }

                // Display standard reference
                standardReference.innerHTML = "This tool provides a simplified, theoretical estimation for chiller performance based on fundamental principles. For accurate design, selection, and performance validation, always consult industry standards (like ASHRAE, AHRI) and experienced chiller manufacturers or qualified mechanical engineers.";

                // Show results container
                resultContainer.style.display = 'block';
                setTimeout(() => {
                    resultContainer.classList.add('show');
                }, 10);
                resultContainer.scrollIntoView({ behavior: 'smooth' });

                displayMessage("Chiller Performance Calculation completed successfully!", "info");
            });

            // Theme switch functionality
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-mode');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.body.classList.remove('dark-mode');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        });
    </script>
</body>

</html>

