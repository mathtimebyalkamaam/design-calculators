<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hydrostatic Level Calculator - Design Calculators - Instrumentation</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="Professional hydrostatic level calculator for open and closed tanks. Calculates liquid level from pressure, density, and gravity per P=ρgh in metric/imperial units.">
    <meta name="keywords" content="hydrostatic level calculator, pressure, level measurement, P=ρgh, instrumentation, open tank, closed tank, specific gravity">
    <meta name="author" content="Design Calculators">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://designcalculators.co.in/hydrostatic-level.html" />
    <!-- AdSense & Analytics -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
    <script async src="https://www.googlesyndication.com/gtag/js?id=G-23Y1V450SR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-23Y1V450SR');
    </script>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax for Formulas -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']]
            },
            svg: { fontCache: 'global' }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.3/jspdf.plugin.autotable.min.js"></script>
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <style>
        /* Base styles from 4-20mA Calculator */
        :root {
            --primary: #1E3A8A;
            --secondary: #2563EB;
            --accent: #F59E0B;
            --success: #10B981;
            --danger: #DC2626;
            --warning: #F59E0B;
            --bg: #F8FAFC;
            --card: #FFFFFF;
            --text: #4B5563;
            --heading: #111827;
            --footer-bg: #0F172A;
            --border: #E2E8F0;
            --grad: linear-gradient(135deg, var(--primary), var(--secondary));
            --grad-dark: linear-gradient(135deg, #0F172A, #1E293B);
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
            /* Liquid colors for tank visualization */
            --liquid-color: #3498db;
            --liquid-color-dark: #2980b9;
        }

        body.dark-mode {
            --primary: #10B981;
            --secondary: #34D399;
            --bg: #0F172A;
            --card: #1E293B;
            --text: #CBD5E1;
            --heading: #F1F5F9;
            --footer-bg: #020617;
            --border: #334155;
            /* Dark mode liquid colors */
            --liquid-color: #6dd5ed;
            --liquid-color-dark: #2193b0;
        }

        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.7;
            margin: 0;
            padding: 0;
        }

        .container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

        /* Header & Nav */
        header {
            background: var(--grad);
            color: white;
            padding: 24px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: white;
        }
        .logo-text {
            font-size: 1.75rem;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
        }
        .logo-subtitle {
            font-size: 0.8rem;
            margin: 4px 0 0 0;
            color: #E0E7FF;
            opacity: 0.9;
        }
        .nav-links {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--accent); }
        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .switch {
            position: relative;
            width: 56px;
            height: 30px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.2);
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--accent);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Main Content & Cards */
        main { padding: 40px 0; }
        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        h2 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 15px;
            margin-top: 0;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        h3 {
            color: var(--heading);
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            margin-top: 25px;
            margin-bottom: 20px;
        }
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--heading);
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background-color: var(--bg);
            color: var(--text);
            font-size: 1rem;
        }
        .form-group input:focus,
        .form-group select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }
        body.dark-mode .form-group input:focus {
             box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .btn {
            background: var(--grad);
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
            transition: all 0.3s;
            width: 100%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
        }
        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .btn-group .btn {
            flex: 1;
            min-width: 150px;
        }
        .btn.secondary {
            background: var(--secondary);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        .btn.accent {
            background: var(--accent);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }
        
        /* Results Table */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-radius: 8px;
            overflow: hidden;
        }
        .results-table th,
        .results-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        .results-table th {
            background: var(--grad);
            color: white;
            font-weight: 700;
        }
        .results-table tr:nth-child(even) {
            background-color: var(--bg);
        }
        .results-table td:first-child {
            font-weight: 600;
            color: var(--heading);
        }
        .results-table .highlight {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--success);
        }
        
        /* Message Box */
        .message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 16px 28px;
            border-radius: 8px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
            z-index: 10000;
            font-weight: 600;
            color: white;
            opacity: 0;
            transition: all 0.4s;
            display: none;
        }
        .message-box.show {
            display: block;
            opacity: 1;
            top: 30px;
        }

        /* Footer */
        footer {
            background: var(--grad-dark);
            color: #CBD5E1;
            padding: 50px 0 20px 0;
            margin-top: 60px;
        }
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 30px;
        }
        .footer-col {
            flex: 1;
            min-width: 200px;
        }
        .footer-col h4 {
            color: white;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .footer-col ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-col a {
            color: #CBD5E1;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-col a:hover {
            color: var(--accent);
        }
        .social-buttons {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        .social-btn {
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border-radius: 50%;
            font-size: 1.1rem;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-4px);
        }
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.youtube { background-color: #FF0000; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .footer-disclaimer {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid #334155;
            max-width: 800px;
            margin: 0 auto;
            font-size: 0.9rem;
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            font-size: 0.9rem;
            color: #94A3B8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            .navbar { flex-direction: column; gap: 20px; }
            .nav-links { flex-direction: column; gap: 12px; text-align: center; }
            .form-row { grid-template-columns: 1fr; }
            .card { padding: 20px; }
            .footer-content { flex-direction: column; gap: 25px; }
            .btn-group { flex-direction: column; }
        }
        .hidden { display: none; }

        /* Tooltip */
        .info-icon {
            color: var(--primary);
            margin-left: 5px;
            cursor: help;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(10px);
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Hydrostatic Calc Specific Styles --- */
        .tool-description {
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .form-section {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 25px; /* Space between sections */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .form-section h3 {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px dashed var(--border);
            padding-bottom: 10px;
        }
        body.dark-mode .form-section h3 {
            color: var(--primary);
        }
        
        /* Styles for calculation details */
        #calculation-details {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            font-size: 1rem;
            color: var(--text);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }
        #calculation-details h4 {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            text-align: left;
            font-size: 1.2em;
        }
        body.dark-mode #calculation-details h4 {
             color: var(--primary);
        }
        #calculation-details p.formula-wrapper {
            text-align: center;
            padding: 15px 10px;
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-left: 3px solid var(--accent);
            border-radius: 6px;
            margin: 15px 0;
            overflow-x: auto;
            font-size: 1.25rem; /* Larger font for formulas */
        }
        #calculation-details p.calculation-step {
            font-family: 'Courier New', monospace;
            background-color: var(--bg);
            border: 1px solid var(--border);
            padding: 8px 15px;
            border-radius: 4px;
            margin-bottom: 8px;
            color: var(--text);
            white-space: pre-wrap;
            word-break: break-word;
        }

        /* Specific styles for selectors */
        .unit-system-selector, .density-input-selector, .system-type-selector {
            margin-bottom: 20px;
            background-color: var(--bg);
            border-radius: 8px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }
        .unit-system-selector label, .density-input-selector label, .system-type-selector label {
            font-weight: bold;
            color: var(--heading);
            cursor: pointer;
        }
        .density-input-selector input[type="radio"], .system-type-selector input[type="radio"] {
            margin-right: 8px;
            transform: scale(1.2);
            cursor: pointer;
        }

        #density-input-group, #specific-gravity-input-group, #vapor-pressure-group {
            display: none; /* Hidden by default */
        }
        #density-input-group.active, #specific-gravity-input-group.active, #vapor-pressure-group.active {
            display: grid; /* Use grid to match form-row */
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        /* Need to override the display:grid for the single-input groups */
         #density-input-group.active, #specific-gravity-input-group.active, #vapor-pressure-group.active {
            display: block; 
            margin-top: 0;
            border-top: none;
            padding-top: 0;
         }

        /* Tank Visualization */
        .tank-visualization-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
            margin-bottom: 20px;
            padding: 20px;
            background-color: var(--bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
            flex-direction: column;
            border: 1px solid var(--border);
        }
        .tank-svg {
            width: 150px;
            height: 250px;
            border: 3px solid var(--primary);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            background-color: var(--card);
        }
        .tank-liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, var(--liquid-color-dark), var(--liquid-color));
            transition: height 1.5s ease-out;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }
        .tank-level-label {
            margin-top: 10px;
            font-weight: bold;
            color: var(--heading);
            font-size: 1.1em;
        }
        
        /* Educational Section */
        .education-section {
            margin-top: 60px;
        }
        .insight-card {
            background: linear-gradient(135deg, var(--card), rgba(37,99,235,0.03));
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        .insight-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .insight-card h4 {
            color: var(--secondary);
            font-size: 1.3rem;
            margin: 0 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .insight-card h4 i {
            font-size: 1.5rem;
        }
        .insight-card p, .insight-card ul {
            margin: 10px 0;
            line-height: 1.8;
            font-size: 1.1rem;
        }
        .insight-card ul {
            padding-left: 20px;
        }
        .insight-card li {
            margin-bottom: 10px;
        }
        .danger-box {
            background: linear-gradient(135deg, rgba(220,38,38,0.1), rgba(220,38,38,0.05));
            border-left: 5px solid var(--danger);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .danger-box h4 {
            color: var(--danger);
            margin-top: 0;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .success-box {
            background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05));
            border-left: 5px solid var(--success);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .success-box h4 {
            color: var(--success);
            margin-top: 0;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
    <link rel="stylesheet" href="styles.css">
    <meta property="og:title" content="Hydrostatic Level Calculator - Design Calculators - Instrumentation">
    <meta property="og:description" content="Professional hydrostatic level calculator for open and closed tanks. Calculates liquid level from pressure, density, and gravity per P=ρgh in metric/imperial units.">
</head>
<body>
    <div id="message-box" class="message-box"></div>

    <header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

    <main class="container">
        <div class="card">
            <h2><i class="fas fa-ruler-vertical"></i> Hydrostatic Level Calculator</h2>
            <div class="tool-description">
                <p>This professional tool calculates the liquid level based on measured pressure head, fluid density, and local gravity. It is fundamental for understanding hydrostatic pressure (the $P = \rho g h$ principle) and its application in level measurement across all industries worldwide.</p>
            </div>

            <div class="calculator-form">
                <form id="hydrostatic-level-form">
                    <!-- Unit System Selection -->
                    <div class="form-section unit-system-selector">
                        <label for="unit-system">Select Unit System:</label>
                        <select id="unit-system" required>
                            <option value="metric">Metric (m, Pa, kg/m³)</option>
                            <option value="imperial">Imperial (ft, psi, lb/ft³)</option>
                        </select>
                    </div>

                    <!-- System Type Selection -->
                    <div class="form-section system-type-selector">
                        <h3>System Type</h3>
                        <label>
                            <input type="radio" name="system-type" value="open" checked> <i class="fas fa-cloud-sun" style="margin:0 5px;"></i> Open to Atmosphere
                        </label>
                        <label>
                            <input type="radio" name="system-type" value="closed"> <i class="fas fa-lock" style="margin:0 5px;"></i> Closed/Pressurized
                        </label>
                    </div>

                    <!-- Input Parameters -->
                    <div class="form-section">
                        <h3>Measurement Parameters</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="measured-pressure" id="label-measured-pressure">Measured Pressure (P) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-measured-pressure">The pressure measured by the sensor. Use Gauge Pressure for open tanks, Absolute Pressure for closed.</span></span></label>
                                <input type="number" id="measured-pressure" step="0.01" value="9806.65" required>
                            </div>
                            <div class="form-group" id="vapor-pressure-group">
                                <label for="vapor-pressure" id="label-vapor-pressure">Vapor Pressure (P<sub>vapor</sub>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-vapor-pressure">The absolute pressure of the vapor space above the liquid in a closed tank.</span></span></label>
                                <input type="number" id="vapor-pressure" step="0.01" value="0.0" required>
                            </div>
                            <div class="form-group">
                                <label for="fluid-temperature" id="label-fluid-temperature">Fluid Temperature <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-fluid-temperature">The operating temperature of the fluid. Important for accurate density.</span></span></label>
                                <input type="number" id="fluid-temperature" step="0.1" value="25.0" required>
                            </div>
                            <div class="form-group">
                                <label for="max-level" id="label-max-level">Maximum Tank Level (H<sub>max</sub>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-max-level">The maximum possible liquid level in the tank, used for visualization scaling.</span></span></label>
                                <input type="number" id="max-level" step="0.01" value="2.0" required>
                            </div>
                            <div class="form-group">
                                <label for="local-gravity" id="label-local-gravity">Local Gravity (g) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-local-gravity">The local acceleration due to gravity. Standard is 9.80665 m/s² or 32.174 ft/s².</span></span></label>
                                <input type="number" id="local-gravity" step="0.001" value="9.80665" required>
                            </div>
                        </div>
                    </div>

                    <!-- Fluid Density Input Method -->
                    <div class="form-section density-input-selector">
                        <h3>Fluid Density Input Method</h3>
                        <label>
                            <input type="radio" name="density-input-method" value="density" checked> Direct Density
                        </label>
                        <label>
                            <input type="radio" name="density-input-method" value="specific-gravity"> Specific Gravity (SG)
                        </label>
                    </div>
                    
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group" id="density-input-group">
                                <label for="fluid-density" id="label-fluid-density-actual">Fluid Density (ρ<sub>fluid</sub>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-fluid-density-actual">The density of the liquid at operating conditions.</span></span></label>
                                <input type="number" id="fluid-density" step="0.01" value="1000.0" required>
                            </div>
                            <div class="form-group" id="specific-gravity-input-group">
                                <label for="specific-gravity" id="label-specific-gravity">Specific Gravity (SG) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext" id="tooltip-specific-gravity">The ratio of the fluid's density to the density of water at 4°C.</span></span></label>
                                <input type="number" id="specific-gravity" step="0.001" value="1.0" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="btn-group" style="margin-top: 25px;">
                        <button type="button" id="calculate-level-btn" class="btn"><i class="fas fa-calculator"></i> Calculate Level</button>
                        <button type="button" id="reset-form-btn" class="btn accent"><i class="fas fa-sync-alt"></i> Reset Form</button>
                        <button type="button" id="pdf-btn" class="btn secondary" style="display: none;"><i class="fas fa-file-pdf"></i> Download PDF</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="card hidden">
            <h3><i class="fas fa-clipboard-check"></i> Level Calculation Results</h3>
            
            <div class="tank-visualization-container">
                <div class="tank-svg">
                    <div class="tank-liquid" style="height: 0%;"></div>
                </div>
                <p class="tank-level-label">Current Level: <span id="current-level-display">0.00</span></p>
            </div>
            
            <div id="calculation-details" class="math-content">
                <!-- Calculation steps will be inserted here -->
            </div>
            
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody id="result-table-body">
                    <!-- Results will be dynamically inserted here -->
                </tbody>
            </table>
        </div>

        <!-- NEW/EXPANDED EDUCATIONAL INSIGHTS SECTION -->
        <div id="education-section" class="education-section card">
            <h2><i class="fas fa-lightbulb"></i> Professional Insights: Hydrostatic Level</h2>

            <div class="insight-card">
                <h4><i class="fas fa-balance-scale"></i> The Core Principle: $P = \rho g h$</h4>
                <p>Hydrostatic level measurement is one of the most common and reliable methods used in industry. It's based on a simple, fundamental principle of physics: the pressure exerted by a column of liquid is directly proportional to its height.</p>
                <p>The formula is known as the <strong>Hydrostatic Equation</strong>:</p>
                <div class="math-content" style="padding: 20px; background: var(--bg); border-radius: 8px; border: 1px solid var(--border);">
                    <p style="text-align: center; font-size: 1.5rem; overflow-x: auto;">
                        $$P = \rho \times g \times h$$
                    </p>
                </div>
                <p style="margin-top: 20px;">Let's break this down:</p>
                <ul>
                    <li><strong>$P$:</strong> <strong>Hydrostatic Pressure</strong> (e.g., in Pascals or PSI). This is the force per unit area exerted by the liquid at the point of measurement (usually the bottom of the tank).</li>
                    <li><strong>$\rho$:</strong> <strong>Fluid Density</strong> (rho) (e.g., in kg/m³ or lb/ft³). This is a critical variable. If the density of the fluid changes (e.g., with temperature or composition), the pressure reading will change *even if the level stays the same*.</li>
                    <li><strong>$g$:</strong> <strong>Local Gravity</strong>. The acceleration due to gravity. This is usually considered a constant (like 9.80665 m/s²), but it does vary slightly across the Earth's surface. For high-precision applications, using the local value is essential.</li>
                    <li><strong>$h$:</strong> <strong>Height (Level)</strong> (e.g., in meters or feet). This is the vertical height of the liquid column *above* the pressure sensor.</li>
                </ul>
                <p>This calculator simply rearranges the formula to solve for the level ($h$):</p>
                <div class="math-content" style="padding: 20px; background: var(--bg); border-radius: 8px; border: 1px solid var(--border);">
                    <p style="text-align: center; font-size: 1.5rem; overflow-x: auto;">
                        $$h = \frac{P}{\rho \times g}$$
                    </p>
                </div>
            </div>

            <div class="insight-card">
                <h4><i class="fas fa-tasks"></i> Open vs. Closed Tanks: Handling Pressure</h4>
                <p>How you use the $P = \rho g h$ formula depends entirely on your tank setup. The sensor *only* cares about the pressure from the liquid ($P_{liquid}$), but it measures *total* pressure.</p>
                
                <h5 style="color: var(--heading); font-size: 1.2rem; margin-top: 15px;">1. Open Tanks (Vented to Atmosphere)</h5>
                <p>An open tank has a vent, so the surface of the liquid is exposed to the local atmospheric pressure ($P_{atm}$).</p>
                <ul>
                    <li>A <strong>Gauge Pressure Sensor</strong> is used. This type of sensor automatically references the atmosphere, meaning it subtracts $P_{atm}$ from its reading.</li>
                    <li>The sensor reads: $P_{total} - P_{atm} = (P_{liquid} + P_{atm}) - P_{atm} = P_{liquid}$.</li>
                    <li>In this case, the sensor's reading ($P$) is *exactly* the hydrostatic pressure, $P_{liquid}$. The calculation is simple: $h = P / (\rho g)$.</li>
                </ul>

                <h5 style="color: var(--heading); font-size: 1.2rem; margin-top: 15px;">2. Closed Tanks (Sealed or Pressurized)</h5>
                <p>A closed tank is sealed. The space above the liquid (the "vapor space" or "headspace") has its own pressure ($P_{vapor}$). This pressure is *added* to the liquid pressure.</p>
                <ul>
                    <li>The total pressure at the bottom is $P_{total} = P_{liquid} + P_{vapor}$.</li>
                    <li>If you only use one pressure sensor, it will read $P_{total}$, which is incorrect. You cannot distinguish between a rise in level ($P_{liquid}$) and a rise in vapor pressure ($P_{vapor}$).</li>
                    <li><strong>The Solution:</strong> You must subtract the vapor pressure. This calculator assumes you have a separate sensor measuring $P_{vapor}$ and are inputting it manually. The effective pressure is: $P_{effective} = P_{measured} - P_{vapor}$.</li>
                    <li>The calculation then becomes: $h = (P_{measured} - P_{vapor}) / (\rho g)$.</li>
                    <li>This is the exact principle behind a <strong>Differential Pressure (DP) Transmitter</strong>, which measures $P_{measured}$ on its "high" side and $P_{vapor}$ on its "low" side, outputting the difference.</li>
                </ul>
            </div>

            <div class="danger-box">
                <h4><i class="fas fa-exclamation-triangle"></i> The Density Dilemma: The Biggest Source of Error</h4>
                <p>The $P = \rho g h$ calculation is perfect, but it relies on a perfect input for density ($\rho$). In the real world, density is *not* constant. Good measurement practice *requires* density compensation.</p>
                <ul>
                    <li><strong>Temperature:</strong> This is the most common culprit. As most liquids get warmer, they expand, and their density *decreases*. If your process fluid temperature changes from 20°C to 80°C, its density could drop by 5-10%. If you don't update the $\rho$ value in your calculation, your level reading will become 5-10% *inaccurate* (it will read high).</li>
                    <li><strong>Composition:</strong> If you are mixing products in a tank (e.g., water and a concentrate), the density of the mixture changes. A tank full of pure water and a tank full of brine at the same level will produce very different pressure readings.</li>
                    <li><strong>Specific Gravity (SG):</strong> This is just another way to express density. It's the ratio of the fluid's density to the density of water at a reference temperature (usually 4°C). $SG = \rho_{fluid} / \rho_{water}$. It's a dimensionless number, but you must know *which* reference density to use (e.g., 1000 kg/m³ or 62.43 lb/ft³).</li>
                </ul>
            </div>

            <div class="success-box">
                <h4><i class="fas fa-check-circle"></i> Best Practices for Installation</h4>
                <ul>
                    <li><strong>Sensor Location:</strong> Always install the pressure sensor at the *lowest* point you wish to measure. This becomes your 0% level.</li>
                    <li><strong>Open Tanks:</strong> Use a gauge pressure transmitter. Ensure the vent line (the "low" side of the sensor) is open to the same atmosphere as the tank and cannot get clogged or filled with water.</li>
                    <li><strong>Closed Tanks:</strong> Use a differential pressure (DP) transmitter. The "high" side tap should be at the 0% level. The "low" side tap (the one measuring $P_{vapor}$) must be at the *very top* of the tank, above the maximum liquid level, in the vapor space.</li>
                    <li><strong>Avoid Nozzles:</strong> Do not install the sensor diaphragm directly in line with a fill nozzle or mixer. The fluid velocity will create a dynamic pressure ($\frac{1}{2}\rho v^2$) that adds to (or subtracts from) the static pressure, causing false readings.</li>
                </ul>
            </div>
        </div>

    </main>

        <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Element Cache ---
            const unitSystemSelect = document.getElementById('unit-system');
            const densityInputMethodRadios = document.querySelectorAll('input[name="density-input-method"]');
            const systemTypeRadios = document.querySelectorAll('input[name="system-type"]');
            
            const fluidDensityInput = document.getElementById('fluid-density');
            const specificGravityInput = document.getElementById('specific-gravity');
            const measuredPressureInput = document.getElementById('measured-pressure');
            const fluidTemperatureInput = document.getElementById('fluid-temperature');
            const maxLevelInput = document.getElementById('max-level');
            const localGravityInput = document.getElementById('local-gravity');
            const vaporPressureInput = document.getElementById('vapor-pressure');

            const densityInputGroup = document.getElementById('density-input-group');
            const specificGravityInputGroup = document.getElementById('specific-gravity-input-group');
            const vaporPressureGroup = document.getElementById('vapor-pressure-group');

            const labelFluidDensityActual = document.getElementById('label-fluid-density-actual');
            const labelSpecificGravity = document.getElementById('label-specific-gravity');
            const labelMeasuredPressure = document.getElementById('label-measured-pressure');
            const labelFluidTemperature = document.getElementById('label-fluid-temperature');
            const labelMaxLevel = document.getElementById('label-max-level');
            const labelLocalGravity = document.getElementById('label-local-gravity');
            const labelVaporPressure = document.getElementById('label-vapor-pressure');

            const calculateLevelBtn = document.getElementById('calculate-level-btn');
            const resetFormBtn = document.getElementById('reset-form-btn');
            const pdfBtn = document.getElementById('pdf-btn');
            
            const resultsSection = document.getElementById('results-section');
            const resultTableBody = document.getElementById('result-table-body');
            const calculationDetailsDiv = document.getElementById('calculation-details');
            
            const tankLiquid = document.querySelector('.tank-liquid');
            const currentLevelDisplay = document.getElementById('current-level-display');
            const messageBox = document.getElementById('message-box');
            const themeSwitch = document.getElementById('theme-switch');

            let lastInputs = null; // For PDF generation

            // --- Constants ---
            const GRAVITY_SI_DEFAULT = 9.80665; // m/s²
            const GRAVITY_IMPERIAL_DEFAULT = 32.174; // ft/s²
            const WATER_DENSITY_SI_REF = 1000; // kg/m³ (water at 4°C)
            const WATER_DENSITY_IMPERIAL_REF = 62.43; // lb/ft³ (water at 4°C)

            // Default values for resetting form (Metric)
            const defaultValues = {
                'unit-system': 'metric',
                'density-input-method': 'density',
                'system-type': 'open',
                'fluid-density': 1000.0, // kg/m³
                'specific-gravity': 1.0,
                'measured-pressure': 9806.65, // Pa (for 1m water)
                'fluid-temperature': 25.0, // °C
                'max-level': 2.0, // m
                'local-gravity': GRAVITY_SI_DEFAULT,
                'vapor-pressure': 0.0
            };

            // Unit configurations
            const unitsConfig = {
                'metric': {
                    length: { label: 'm', tooltip: 'meters', toSI: 1 },
                    pressure: { label: 'Pa', tooltip: 'Pascals', toSI: 1 },
                    density: { label: 'kg/m³', tooltip: 'kilograms per cubic meter', toSI: 1 },
                    temperature: { label: '°C', tooltip: 'Celsius' },
                    gravity_unit: 'm/s²',
                    gravity_toSI: 1,
                    waterDensityRef: WATER_DENSITY_SI_REF,
                    levelPrecision: 3,
                    pressurePrecision: 2,
                    densityPrecision: 2,
                    tempPrecision: 1,
                    gravityPrecision: 5
                },
                'imperial': {
                    length: { label: 'ft', tooltip: 'feet', toSI: 0.3048 }, // ft to meters
                    pressure: { label: 'psi', tooltip: 'pounds per square inch', toSI: 6894.76 }, // psi to Pa
                    density: { label: 'lb/ft³', tooltip: 'pounds per cubic foot', toSI: 16.0185 }, // lb/ft³ to kg/m³
                    temperature: { label: '°F', tooltip: 'Fahrenheit' },
                    gravity_unit: 'ft/s²',
                    gravity_toSI: 0.3048, // ft/s² to m/s²
                    waterDensityRef: WATER_DENSITY_IMPERIAL_REF,
                    levelPrecision: 3,
                    pressurePrecision: 3,
                    densityPrecision: 3,
                    tempPrecision: 1,
                    gravityPrecision: 3
                }
            };

            // --- Event Listeners ---
            unitSystemSelect.addEventListener('change', updateUnitLabelsAndTooltips);
            densityInputMethodRadios.forEach(radio => radio.addEventListener('change', updateDensityInputMethodVisibility));
            systemTypeRadios.forEach(radio => radio.addEventListener('change', updateSystemTypeVisibility));
            calculateLevelBtn.addEventListener('click', calculateLevel);
            resetFormBtn.addEventListener('click', resetForm);
            pdfBtn.addEventListener('click', generatePDF);

            // Theme Toggle
            if (localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark-mode');
                themeSwitch.checked = true;
            }
            themeSwitch.addEventListener('change', function() {
                if (this.checked) {
                    document.body.classList.add('dark-mode');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.body.classList.remove('dark-mode');
                    localStorage.setItem('theme', 'light');
                }
            });

            // --- Initial Setup ---
            updateUnitLabelsAndTooltips();
            updateDensityInputMethodVisibility();
            updateSystemTypeVisibility();

            // --- Utility Functions ---
            function showMessage(msg, type = 'success') {
                messageBox.textContent = msg;
                messageBox.style.color = 'white'; // Default
                if (type === 'error') {
                    messageBox.style.backgroundColor = 'var(--danger)';
                } else if (type === 'warning') {
                     messageBox.style.backgroundColor = 'var(--warning)';
                     messageBox.style.color = '#333'; // Dark text for yellow bg
                } else {
                    messageBox.style.backgroundColor = 'var(--success)';
                }
                messageBox.classList.add('show');
                setTimeout(() => messageBox.classList.remove('show'), 4000);
            }

            function format(num, decimals = 3) {
                if (isNaN(num)) return 'N/A';
                return parseFloat(num.toFixed(decimals)).toString();
            }
            
            function addResultRow(parameter, value) {
                const row = resultTableBody.insertRow();
                const paramCell = row.insertCell();
                const valueCell = row.insertCell();
                paramCell.innerHTML = parameter;
                valueCell.innerHTML = value;
            }

            // --- UI Update Functions ---
            function updateUnitLabelsAndTooltips() {
                const selectedSystem = unitSystemSelect.value;
                const config = unitsConfig[selectedSystem];
                const densityInputMethod = document.querySelector('input[name="density-input-method"]:checked').value;
                const systemType = document.querySelector('input[name="system-type"]:checked').value;

                labelMeasuredPressure.innerHTML = `Measured Pressure (P) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Unit: ${config.pressure.tooltip}.</span></span>`;
                labelFluidTemperature.innerHTML = `Fluid Temperature <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Unit: ${config.temperature.tooltip}.</span></span>`;
                labelMaxLevel.innerHTML = `Maximum Tank Level (H<sub>max</sub>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Unit: ${config.length.tooltip}.</span></span>`;
                labelLocalGravity.innerHTML = `Local Gravity (g) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Unit: ${config.gravity_unit}. Standard is ${GRAVITY_SI_DEFAULT} m/s² or ${GRAVITY_IMPERIAL_DEFAULT} ft/s².</span></span>`;

                if (densityInputMethod === 'density') {
                    labelFluidDensityActual.innerHTML = `Fluid Density (ρ<sub>fluid</sub>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Unit: ${config.density.tooltip}.</span></span>`;
                } else {
                    labelSpecificGravity.innerHTML = `Specific Gravity (SG) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Ratio of fluid density to water density at 4°C.</span></span>`;
                }
                if (systemType === 'closed') {
                    labelVaporPressure.innerHTML = `Vapor Pressure (P<sub>vapor</sub>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Unit: ${config.pressure.tooltip}.</span></span>`;
                }
                
                // Update default gravity value and placeholders
                if (selectedSystem === 'metric') {
                    localGravityInput.value = defaultValues['local-gravity'];
                    localGravityInput.placeholder = `e.g., ${GRAVITY_SI_DEFAULT}`;
                } else {
                    localGravityInput.value = GRAVITY_IMPERIAL_DEFAULT;
                    localGravityInput.placeholder = `e.g., ${GRAVITY_IMPERIAL_DEFAULT}`;
                }
                measuredPressureInput.placeholder = `e.g., ${config.pressure.label}`;
                fluidTemperatureInput.placeholder = `e.g., ${config.temperature.label}`;
                maxLevelInput.placeholder = `e.g., ${config.length.label}`;
                fluidDensityInput.placeholder = `e.g., ${config.density.label}`;
                specificGravityInput.placeholder = `e.g., 1.0`;
                vaporPressureInput.placeholder = `e.g., 0.0 ${config.pressure.label}`;
            }

            function updateDensityInputMethodVisibility() {
                const selectedMethod = document.querySelector('input[name="density-input-method"]:checked').value;
                if (selectedMethod === 'density') {
                    densityInputGroup.classList.add('active');
                    specificGravityInputGroup.classList.remove('active');
                    fluidDensityInput.setAttribute('required', 'required');
                    specificGravityInput.removeAttribute('required');
                } else {
                    densityInputGroup.classList.remove('active');
                    specificGravityInputGroup.classList.add('active');
                    fluidDensityInput.removeAttribute('required');
                    specificGravityInput.setAttribute('required', 'required');
                }
                updateUnitLabelsAndTooltips();
                clearResults();
            }

            function updateSystemTypeVisibility() {
                const selectedSystemType = document.querySelector('input[name="system-type"]:checked').value;
                if (selectedSystemType === 'closed') {
                    vaporPressureGroup.classList.add('active');
                    vaporPressureInput.setAttribute('required', 'required');
                } else {
                    vaporPressureGroup.classList.remove('active');
                    vaporPressureInput.removeAttribute('required');
                    vaporPressureInput.value = defaultValues['vapor-pressure'];
                }
                updateUnitLabelsAndTooltips();
                clearResults();
            }

            // --- Form & Calculation Logic ---
            function clearResults() {
                resultsSection.classList.add('hidden');
                resultTableBody.innerHTML = '';
                calculationDetailsDiv.innerHTML = '';
                tankLiquid.style.height = '0%';
                currentLevelDisplay.textContent = '0.00';
                pdfBtn.style.display = 'none';
                lastInputs = null;
            }

            function resetForm() {
                unitSystemSelect.value = defaultValues['unit-system'];
                document.querySelector(`input[name="density-input-method"][value="${defaultValues['density-input-method']}"]`).checked = true;
                document.querySelector(`input[name="system-type"][value="${defaultValues['system-type']}"]`).checked = true;
                
                fluidDensityInput.value = defaultValues['fluid-density'];
                specificGravityInput.value = defaultValues['specific-gravity'];
                measuredPressureInput.value = defaultValues['measured-pressure'];
                fluidTemperatureInput.value = defaultValues['fluid-temperature'];
                maxLevelInput.value = defaultValues['max-level'];
                localGravityInput.value = defaultValues['local-gravity'];
                vaporPressureInput.value = defaultValues['vapor-pressure'];
                
                updateDensityInputMethodVisibility();
                updateSystemTypeVisibility();
                updateUnitLabelsAndTooltips(); // Ensure gravity resets
                clearResults();
                showMessage("Form reset to default values (Metric, Open).", "success");
            }

            function calculateLevel() {
                clearResults();
                try {
                    const selectedSystem = unitSystemSelect.value;
                    const config = unitsConfig[selectedSystem];

                    // Get Inputs
                    let fluidDensity_in = parseFloat(fluidDensityInput.value);
                    let specificGravity_in = parseFloat(specificGravityInput.value);
                    let measuredPressure_in = parseFloat(measuredPressureInput.value);
                    let fluidTemperature_in = parseFloat(fluidTemperatureInput.value);
                    let maxLevel_in = parseFloat(maxLevelInput.value);
                    let localGravity_in = parseFloat(localGravityInput.value);
                    let vaporPressure_in = parseFloat(vaporPressureInput.value);
                    
                    const densityInputMethod = document.querySelector('input[name="density-input-method"]:checked').value;
                    const systemType = document.querySelector('input[name="system-type"]:checked').value;

                    // Validation
                    if (densityInputMethod === 'density' && (isNaN(fluidDensity_in) || fluidDensity_in <= 0)) throw new Error("Fluid Density must be a positive number.");
                    if (densityInputMethod === 'specific-gravity' && (isNaN(specificGravity_in) || specificGravity_in <= 0)) throw new Error("Specific Gravity must be a positive number.");
                    if (isNaN(measuredPressure_in)) throw new Error("Measured Pressure must be a valid number.");
                    if (isNaN(fluidTemperature_in)) throw new Error("Fluid Temperature must be a valid number.");
                    if (isNaN(maxLevel_in) || maxLevel_in <= 0) throw new Error("Maximum Tank Level must be a positive number.");
                    if (isNaN(localGravity_in) || localGravity_in <= 0) throw new Error("Local Gravity must be a positive number.");
                    if (systemType === 'closed' && isNaN(vaporPressure_in)) throw new Error("Vapor Pressure must be a valid number for a closed system.");

                    // --- Calculations in SI Units ---
                    let fluidDensity_si, fluidDensity_display_val, fluidDensity_display_unit;
                    
                    if (densityInputMethod === 'density') {
                        fluidDensity_si = fluidDensity_in * config.density.toSI;
                        fluidDensity_display_val = format(fluidDensity_in, config.densityPrecision);
                        fluidDensity_display_unit = config.density.label;
                    } else {
                        fluidDensity_si = (specificGravity_in * config.waterDensityRef) * config.density.toSI;
                        fluidDensity_display_val = format(specificGravity_in, 3);
                        fluidDensity_display_unit = 'SG';
                    }

                    const measuredPressure_si = measuredPressure_in * config.pressure.toSI;
                    const vaporPressure_si = (systemType === 'closed') ? (vaporPressure_in * config.pressure.toSI) : 0;
                    const maxLevel_si = maxLevel_in * config.length.toSI;
                    const localGravity_si = localGravity_in * config.gravity_toSI;
                    
                    let calculationHtml = '<h4>Detailed Calculation Steps:</h4>';
                    calculationHtml += `<p><strong>1. Convert Inputs to SI Units:</strong></p>`;
                    calculationHtml += `<p class="calculation-step">Fluid Density (ρ) = ${fluidDensity_display_val} ${fluidDensity_display_unit} = ${format(fluidDensity_si, 3)} kg/m³</p>`;
                    calculationHtml += `<p class="calculation-step">Measured Pressure (P) = ${format(measuredPressure_in, config.pressurePrecision)} ${config.pressure.label} = ${format(measuredPressure_si, 2)} Pa</p>`;
                    if (systemType === 'closed') {
                        calculationHtml += `<p class="calculation-step">Vapor Pressure (Pᵥ) = ${format(vaporPressure_in, config.pressurePrecision)} ${config.pressure.label} = ${format(vaporPressure_si, 2)} Pa</p>`;
                    }
                    calculationHtml += `<p class="calculation-step">Local Gravity (g) = ${format(localGravity_in, config.gravityPrecision)} ${config.gravity_unit} = ${format(localGravity_si, 5)} m/s²</p>`;

                    // Calculate Effective Pressure
                    const effectivePressure_si = measuredPressure_si - vaporPressure_si;
                    
                    calculationHtml += `<p><strong>2. Calculate Effective Hydrostatic Pressure (Pₑ):</strong></p>`;
                    if (systemType === 'closed') {
                        calculationHtml += `<p class="formula-wrapper">$$P_e = P_{measured} - P_{vapor}$$</p>`;
                        calculationHtml += `<p class="calculation-step">Pₑ = ${format(measuredPressure_si, 2)} Pa - ${format(vaporPressure_si, 2)} Pa = ${format(effectivePressure_si, 2)} Pa</p>`;
                    } else {
                        calculationHtml += `<p class="formula-wrapper">$$P_e = P_{measured}$$</p>`;
                        calculationHtml += `<p class="calculation-step">Pₑ = ${format(effectivePressure_si, 2)} Pa (for open tank)</p>`;
                    }
                    
                    if (effectivePressure_si < 0) {
                        showMessage("Warning: Vapor pressure is greater than measured pressure. Calculated level will be zero.", "warning");
                    }

                    // Calculate Level
                    let calculatedLevel_si = 0;
                    if (effectivePressure_si > 0 && fluidDensity_si > 0 && localGravity_si > 0) {
                        calculatedLevel_si = effectivePressure_si / (fluidDensity_si * localGravity_si);
                    }

                    calculationHtml += `<p><strong>3. Calculate Level (h) in SI:</strong></p>`;
                    calculationHtml += `<p class="formula-wrapper">$$h = \frac{P_e}{\rho \times g}$$</p>`;
                    calculationHtml += `<p class="calculation-step">h = ${format(effectivePressure_si, 2)} Pa / (${format(fluidDensity_si, 3)} kg/m³ &times; ${format(localGravity_si, 5)} m/s²) = ${format(calculatedLevel_si, 3)} m</p>`;

                    // Convert back to display units
                    const finalLevel_display = calculatedLevel_si / config.length.toSI;
                    
                    calculationHtml += `<p><strong>4. Convert to Display Units:</strong></p>`;
                    calculationHtml += `<p class="calculation-step">Final Level = ${format(calculatedLevel_si, 3)} m / ${format(config.length.toSI, 4)} = ${format(finalLevel_display, config.levelPrecision)} ${config.length.label}</p>`;
                    
                    calculationDetailsDiv.innerHTML = calculationHtml;

                    // --- Populate Results Table ---
                    resultTableBody.innerHTML = '';
                    addResultRow("System Type", systemType === 'open' ? 'Open to Atmosphere' : 'Closed/Pressurized');
                    addResultRow("Fluid Density Input", `${fluidDensity_display_val} ${fluidDensity_display_unit}`);
                    addResultRow("Local Gravity (g)", `${format(localGravity_in, config.gravityPrecision)} ${config.gravity_unit}`);
                    addResultRow("Measured Pressure (P)", `${format(measuredPressure_in, config.pressurePrecision)} ${config.pressure.label}`);
                    if (systemType === 'closed') {
                        addResultRow("Vapor Pressure (Pᵥ)", `${format(vaporPressure_in, config.pressurePrecision)} ${config.pressure.label}`);
                        addResultRow("Effective Pressure (Pₑ)", `${format(effectivePressure_si / config.pressure.toSI, config.pressurePrecision)} ${config.pressure.label}`);
                    }
                    addResultRow("<strong>Calculated Level (h)</strong>", `<strong class="highlight">${format(finalLevel_display, config.levelPrecision)} ${config.length.label}</strong>`);

                    // Update Tank Visualization
                    let clamped_level_si = Math.max(0, Math.min(maxLevel_si, calculatedLevel_si));
                    let level_percentage = (maxLevel_si > 0) ? (clamped_level_si / maxLevel_si) : 0;
                    
                    tankLiquid.style.height = `${level_percentage * 100}%`;
                    currentLevelDisplay.textContent = `${format(finalLevel_display, config.levelPrecision)} ${config.length.label}`;
                    
                    if (finalLevel_display > maxLevel_in) {
                         showMessage("Warning: Calculated level exceeds maximum tank level.", "warning");
                    }

                    // Store for PDF
                    lastInputs = {
                        config,
                        systemType,
                        fluidDensity_display_val, fluidDensity_display_unit,
                        localGravity_in,
                        measuredPressure_in,
                        vaporPressure_in: (systemType === 'closed') ? vaporPressure_in : null,
                        effectivePressure_si,
                        finalLevel_display
                    };

                    // --- Show Results ---
                    resultsSection.classList.remove('hidden');
                    pdfBtn.style.display = 'inline-flex';
                    
                    if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                        setTimeout(() => {
                            window.MathJax.typesetPromise([calculationDetailsDiv]);
                        }, 50);
                    }
                    
                    setTimeout(() => {
                        resultsSection.scrollIntoView({ behavior: 'smooth' });
                    }, 100);
                    showMessage("Calculation successful!", "success");

                } catch (e) {
                    showMessage(e.message, "error");
                    clearResults();
                }
            }

            // --- PDF Generation ---
            function generatePDF() {
                if (!lastInputs) {
                    showMessage('Please run a calculation first.', 'error');
                    return;
                }

                try {
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    let y = 15;
                    const { config, ...inputs } = lastInputs;

                    pdf.setFont('helvetica', 'bold');
                    pdf.setFontSize(16);
                    pdf.text('Hydrostatic Level Report', 105, y, { align: 'center' });
                    y += 8;
                    pdf.setFont('helvetica', 'normal');
                    pdf.setFontSize(9);
                    pdf.text(`Generated by Design Calculators | ${new Date().toLocaleString()}`, 105, y, { align: 'center' });
                    y += 10;

                    pdf.setFont('helvetica', 'bold');
                    pdf.setFontSize(12);
                    pdf.text('Input Parameters', 14, y);
                    y += 2;

                    let inputRows = [
                        ["Unit System", unitSystemSelect.value],
                        ["System Type", inputs.systemType === 'open' ? 'Open to Atmosphere' : 'Closed/Pressurized'],
                        ["Fluid Density Input", `${inputs.fluidDensity_display_val} ${inputs.fluidDensity_display_unit}`],
                        ["Local Gravity (g)", `${format(inputs.localGravity_in, config.gravityPrecision)} ${config.gravity_unit}`],
                        ["Measured Pressure (P)", `${format(inputs.measuredPressure_in, config.pressurePrecision)} ${config.pressure.label}`],
                    ];
                    
                    if (inputs.systemType === 'closed') {
                        inputRows.push(["Vapor Pressure (Pᵥ)", `${format(inputs.vaporPressure_in, config.pressurePrecision)} ${config.pressure.label}`]);
                    }

                    pdf.autoTable({
                        startY: y,
                        head: [['Parameter', 'Value']],
                        body: inputRows,
                        margin: { left: 14, right: 14 },
                        theme: 'grid',
                        headStyles: { fillColor: [30, 58, 138] }
                    });
                    y = pdf.autoTable.previous.finalY + 10;

                    // Add Results
                    pdf.setFont('helvetica', 'bold');
                    pdf.setFontSize(12);
                    pdf.text('Calculation Summary', 14, y);
                    y += 2;

                    let resultRows = [];
                    if (inputs.systemType === 'closed') {
                         resultRows.push(["Effective Pressure (Pₑ)", `${format(inputs.effectivePressure_si / config.pressure.toSI, config.pressurePrecision)} ${config.pressure.label}`]);
                    }
                    resultRows.push(["Calculated Level (h)", `${format(inputs.finalLevel_display, config.levelPrecision)} ${config.length.label}`]);

                    pdf.autoTable({
                        startY: y,
                        head: [['Parameter', 'Value']],
                        body: resultRows,
                        margin: { left: 14, right: 14 },
                        theme: 'grid',
                        headStyles: { fillColor: [30, 58, 138] },
                        didParseCell: function (data) {
                            if (data.cell.text[0].includes('Calculated Level')) {
                                data.cell.styles.textColor = [16, 185, 129]; // Green
                                data.cell.styles.fontStyle = 'bold';
                                data.row.cells[1].styles.textColor = [16, 185, 129];
                                data.row.cells[1].styles.fontStyle = 'bold';
                            }
                        }
                    });
                    y = pdf.autoTable.previous.finalY + 15;

                    // Add footer
                    pdf.setFont('helvetica', 'normal');
                    pdf.setFontSize(10);
                    pdf.setTextColor(40, 40, 40);
                    pdf.text('For more calculators and information, visit http://designcalculators.co.in', 105, y, { align: 'center' });
                    y += 5;
                    pdf.setFontSize(8);
                    pdf.setTextColor(100, 100, 100);
                    pdf.text('This report is for guidance only. Always verify calculations against process data.', 105, y, { align: 'center' });

                    pdf.save('Hydrostatic-Level-Report.pdf');
                    showMessage('PDF downloaded successfully');

                } catch (e) {
                    showMessage(`Error generating PDF: ${e.message}`, 'error');
                }
            }
        });
    </script>
</body>
</html>

