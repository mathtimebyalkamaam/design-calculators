<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-23Y1V450SR');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thermal Expansion Calculator - Design Calculators - Mechanical</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax for LaTeX rendering -->
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="icon" href="/favicon.ico" type="image/x-icon">

    <script>
        // MathJax configuration to support inline and display LaTeX
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    <style>
        /* CSS Variables for theming (light and dark mode) */
        :root {
            --primary-color: #2196F3;
            --secondary-color: #1976D2;
            --accent-color: #FFC107;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --header-bg: #2C3E50;
            --footer-bg: #34495E;
            --border-color: #cccccc;
            --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            --hover-color: #e2e6ea;
            --primary-color-rgb: 33, 150, 243;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        /* Dark mode overrides */
        body.dark-mode {
            --primary-color: #5DADE2;
            --secondary-color: #2874A6;
            --bg-color: #252D3A;
            --card-bg: #2F3C4C;
            --text-color: #E0E6EB;
            --header-bg: #252D3A;
            --footer-bg: #252D3A;
            --border-color: #4C5C70;
            --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            --hover-color: #3A475C;
            --primary-color-rgb: 93, 173, 226;
            --success-color: #4CAF50;
            --error-color: #F44336;
        }
        /* Base body styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at center, var(--bg-color) 0%, rgba(244, 247, 246, 0.8) 100%);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s, background-image 0.3s;
        }
        /* Container for content width limitation and centering */
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px;
        }
        /* Header styling */
        header {
            background-color: var(--header-bg);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: var(--card-shadow);
            position: relative;
        }
        header h1 {
            margin: 0;
            font-size: 2.8em;
            color: var(--primary-color);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        header .subtitle {
            margin: 8px 0 0;
            font-size: 1.1em;
            color: #bdc3c7;
        }
        /* Main content area styling */
        main {
            padding: 30px 0;
        }
        /* Tool container styling */
        .tool-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            margin-bottom: 25px;
            transition: transform 0.3s ease-in-out;
        }
        .tool-container:hover {
            transform: translateY(-5px);
        }
        .tool-container h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 12px;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 2em;
        }
        .tool-description {
            margin-bottom: 25px;
            color: var(--text-color);
            font-size: 1.05em;
        }
        .tool-description ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
            margin-top: 15px;
        }
        .tool-description ul li {
            margin-bottom: 8px;
        }
        .tool-description strong {
            color: var(--primary-color);
        }
        /* Back button styling */
        .back-button {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            margin-bottom: 25px;
            transition: background-color 0.3s, transform 0.2s ease-in-out;
            font-weight: bold;
        }
        .back-button:hover {
            background-color: var(--secondary-color);
            transform: scale(1.03);
        }
        /* Theme toggle switch styling */
        .theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            display: flex;
            align-items: center;
        }
        .theme-toggle .light-icon,
        .theme-toggle .dark-icon {
            color: white;
            margin: 0 8px;
            font-size: 1.3em;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 65px;
            height: 38px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 30px;
            width: 30px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        input:focus + .slider {
            box-shadow: 0 0 1px var(--primary-color);
        }
        input:checked + .slider:before {
            transform: translateX(27px);
        }
        .slider.round {
            border-radius: 38px;
        }
        .slider.round:before {
            border-radius: 50%;
        }
        /* Footer styling */
        footer {
            background-color: var(--footer-bg);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.2);
            margin-top: 40px;
        }
        footer .disclaimer h3,
        footer .social-share h3 {
            color: var(--primary-color);
            margin-bottom: 12px;
            font-size: 1.3em;
        }
        footer .disclaimer p {
            font-size: 0.95em;
            color: #bdc3c7;
        }
        .social-buttons {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .social-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            font-size: 1.4em;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 15px rgba(0,0,0,0.3);
        }
        /* Specific social button colors */
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .social-btn.reddit { background-color: #FF4500; }
        .social-btn.email { background-color: #7f8c8d; }
        /* Calculator form styling */
        .calculator-form {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            margin-top: 25px;
            box-shadow: var(--card-shadow);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1.05em;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--bg-color);
            color: var(--text-color);
            box-sizing: border-box;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.08);
        }
        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.3);
            outline: none;
        }
        /* Responsive form row layout */
        .form-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap; /* Allows items to wrap on smaller screens */
        }
        .form-row .form-group {
            flex: 1 1 calc(50% - 10px); /* Two columns, with gap */
            min-width: 280px; /* Minimum width before wrapping */
        }
        /* Media query for single column on small screens */
        @media (max-width: 600px) {
            .form-row .form-group {
                flex: 1 1 100%; /* Single column */
            }
        }
        /* Calculate button styling */
        .calculate-btn {
            background-image: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 18px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 17px;
            font-weight: bold;
            margin-top: 20px;
            transition: background-image 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 100%; /* Full width button */
        }
        .calculate-btn:hover {
            background-image: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        /* Result container styling */
        .result-container {
            margin-top: 40px;
            padding: 30px;
            border-radius: 12px;
            background-color: var(--card-bg);
            box-shadow: var(--card-shadow);
            display: block; /* Always block, but opacity controls visibility */
            opacity: 0;
            transition: opacity 0.6s ease-out;
            pointer-events: none; /* Prevents interaction when hidden */
        }
        .result-container.show {
            opacity: 1;
            pointer-events: auto; /* Allows interaction when shown */
        }
        .result-container h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        /* Result table styling */
        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .result-table th, .result-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        .result-table th {
            background-color: var(--hover-color);
            font-weight: bold;
            font-size: 1.1em;
        }
        .result-table tr:last-child td {
            border-bottom: none;
        }
        /* Standard reference text styling */
        .standard-reference {
            margin-top: 25px;
            font-style: italic;
            font-size: 0.95rem;
            line-height: 1.5;
            padding: 10px;
            background-color: var(--bg-color);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        /* Tooltip styling */
        .info-icon {
            color: var(--primary-color);
            margin-left: 8px;
            cursor: help;
            font-size: 1em;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 220px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the element */
            left: 50%;
            margin-left: -110px; /* Center the tooltip */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85em;
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%; /* Arrow at the bottom */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        /* Custom message box for alerts */
        #custom-message-box {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 18px 30px;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            font-weight: bold;
            color: white;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, background-color 0.3s;
            font-size: 1.1em;
        }
        #custom-message-box.info {
            background-color: var(--success-color);
        }
        #custom-message-box.error {
            background-color: var(--error-color);
        }
        #custom-message-box.warning {
            background-color: var(--accent-color);
            color: #333;
        }

        /* Calculation details section styling */
        #calculation-details {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            font-size: 0.98em;
            overflow-x: auto; /* Allow horizontal scrolling for formulas if needed */
        }
        #calculation-details h4 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        #calculation-details p.formula {
            font-family: 'Times New Roman', serif;
            font-style: italic;
            font-size: 1.2em;
            text-align: center;
            padding: 12px 0;
            background-color: var(--hover-color);
            border-radius: 6px;
            margin: 15px 0;
            border: 1px dashed var(--border-color);
            white-space: nowrap; /* Prevent formula from wrapping */
        }
        #calculation-details p.calculation-step {
            font-family: 'Courier New', monospace;
            background-color: var(--hover-color);
            padding: 8px 12px;
            border-radius: 5px;
            margin-bottom: 8px;
            font-size: 0.95em;
            white-space: nowrap; /* Prevent calculation steps from wrapping */
        }
        #calculation-details ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
        }
        #calculation-details ul li {
            margin-bottom: 5px;
        }
        /* Specific styling for required inputs to highlight visually */
        input:required:invalid {
            border-color: var(--error-color);
        }
        input:required:valid {
            border-color: var(--success-color);
        }
         /* Checkbox styling */
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .checkbox-group label {
            margin-bottom: 0; /* Override default label margin */
            margin-left: 10px;
            font-weight: normal; /* Keep label text normal weight */
        }

        .checkbox-group input[type="checkbox"] {
            width: auto; /* Adjust width for checkbox */
            margin: 0;
            transform: scale(1.3); /* Make checkbox slightly larger */
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Design Calculators - Mechanical</h1>
            <p class="subtitle">Smart Tools for Modern Mechanical Engineers</p>
            <div class="theme-toggle">
                <span class="light-icon"><i class="fas fa-sun"></i></span>
                <label class="switch">
                    <input type="checkbox" id="theme-switch">
                    <span class="slider round"></span>
                </label>
                <span class="dark-icon"><i class="fas fa-moon"></i></span>
            </div>
        </div>
    </header>

    <main class="container">
        <a href="indexMech.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Tools
        </a>

        <div class="tool-container">
            <h2>Thermal Expansion Calculator</h2>
            <div class="tool-description">
                <p>This calculator determines the change in length (elongation or contraction) of a material due to temperature changes, and estimates thermal stress if the material's expansion is constrained. It's a fundamental tool for various engineering applications.</p>
                <p><strong>Key Inputs:</strong></p>
                <ul>
                    <li><strong>Original Length (\(L_0\)):</strong> Initial length of the material.</li>
                    <li><strong>Initial Temperature (\(T_1\)):</strong> Starting temperature of the material.</li>
                    <li><strong>Final Temperature (\(T_2\)):</strong> Temperature after change.</li>
                    <li><strong>Material Type:</strong> Selection for common materials to auto-populate properties, or custom input.</li>
                    <li><strong>Coefficient of Thermal Expansion (\(\alpha\)):</strong> Material property representing its tendency to expand/contract with temperature.</li>
                    <li><strong>Young's Modulus (\(E\)):</strong> Material property representing its stiffness (required for thermal stress).</li>
                    <li><strong>Calculate Thermal Stress (Checkbox):</strong> Option to include thermal stress calculation.</li>
                </ul>
                <p><strong>Calculated Outputs:</strong></p>
                <ul>
                    <li><strong>Temperature Change (\(\Delta T\)):</strong> Difference between final and initial temperatures.</li>
                    <li><strong>Change in Length (\(\Delta L\)):</strong> The elongation (positive) or contraction (negative) of the material.</li>
                    <li><strong>Final Length (\(L_f\)):</strong> The length of the material after the temperature change.</li>
                    <li><strong>Thermal Stress (\(\sigma_t\)):</strong> The stress developed if expansion is fully constrained (only if selected).</li>
                </ul>
            </div>

            <div class="calculator-form">
                <form id="thermal-expansion-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="unit-system">Unit System: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select Metric (m, mm, &#176;C, MPa) or Imperial (ft, inches, &#176;F, psi) units.</span></span></label>
                            <select id="unit-system" required>
                                <option value="metric">Metric (m, &#176;C, MPa)</option>
                                <option value="imperial">Imperial (inches, &#176;F, psi)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="material-select">Material Type: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select a common material or choose 'Custom' to input your own properties.</span></span></label>
                            <select id="material-select" required>
                                <option value="steel">Steel (Carbon)</option>
                                <option value="aluminum">Aluminum</option>
                                <option value="copper">Copper</option>
                                <option value="custom">Custom Material</option>
                            </select>
                        </div>
                    </div>

                    <h3>Dimensions & Temperature</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="original-length">Original Length (\(L_0\)) <span class="length-unit-label">(m)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">The initial length of the material.</span></span></label>
                            <input type="number" id="original-length" step="any" value="10" required min="0.001">
                        </div>
                        <div class="form-group">
                            <label for="initial-temp">Initial Temperature (\(T_1\)) <span class="temp-unit-label">(&#176;C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">The starting temperature of the material.</span></span></label>
                            <input type="number" id="initial-temp" step="any" value="20" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="final-temp">Final Temperature (\(T_2\)) <span class="temp-unit-label">(&#176;C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">The final temperature after change.</span></span></label>
                            <input type="number" id="final-temp" step="any" value="100" required>
                        </div>
                    </div>

                    <h3>Material Properties</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="custom-alpha">Coefficient of Thermal Expansion (\(\alpha\)) <span class="alpha-unit-label">(/&#176;C)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Material's thermal expansion coefficient (e.g., $12 \times 10^{-6}$ for steel). Enter as a decimal (e.g., 0.000012).</span></span></label>
                            <input type="number" id="custom-alpha" step="any" value="0.000012" required min="0">
                        </div>
                        <div class="form-group">
                            <label for="custom-young-modulus">Young's Modulus (\(E\)) <span class="young-modulus-unit-label">(MPa)</span>: <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Material's stiffness (e.g., 200000 MPa for steel, or 29e6 psi). Only needed for thermal stress calculation.</span></span></label>
                            <input type="number" id="custom-young-modulus" step="any" value="200000" required min="0">
                        </div>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="calculate-thermal-stress">
                        <label for="calculate-thermal-stress">Calculate Thermal Stress (Assumes Full Restraint)</label>
                    </div>

                    <button type="button" id="calculate-thermal-btn" class="calculate-btn">Calculate Thermal Expansion</button>
                </form>
            </div>

            <div id="result-container" class="result-container">
                <h3>Calculation Results</h3>
                <div id="calculation-details"></div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody id="result-table-body"></tbody>
                </table>
                <div class="standard-reference" id="standard-reference"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="disclaimer">
                <h3>Disclaimer</h3>
                <p>This tool provides theoretical estimations for thermal expansion and stress based on fundamental material science principles. It assumes constant material properties over the temperature range and perfect restraint for thermal stress calculation.</p>
                <p>For accurate design and real-world industrial applications, it is <strong>imperative</strong> to consult comprehensive industry standards (e.g., ASTM for material properties, ASME Boiler and Pressure Vessel Code for design under thermal loads), specialized engineering software, and qualified mechanical engineers.</p>
            </div>
            <div class="credit">
                <p>Created by A Sharma</p>
            </div>
            <div class="social-share">
                <h3>Share This Site</h3>
                <div class="social-buttons">
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in&title=Design Calculators" target="_blank" class="social-btn linkedin">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in" target="_blank" class="social-btn facebook">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="https://twitter.com/intent/tweet?text=Check out this amazing Design Calculators!&url=https://designcalculators.co.in" target="_blank" class="social-btn twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://api.whatsapp.com/send?text=Check out this amazing Design Calculators! https://designcalculators.co.in" target="_blank" class="social-btn whatsapp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="https://www.reddit.com/submit?url=https://designcalculators.co.in&title=Design Calculators" target="_blank" class="social-btn reddit">
                        <i class="fab fa-reddit"></i>
                    </a>
                    <a href="mailto:?subject=Check out Design Calculators!&body=I found this amazing Thermal Expansion Calculator and other design tools: https://designcalculators.co.in" class="social-btn email">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get references to DOM elements
            const calculateBtn = document.getElementById('calculate-thermal-btn');
            const resultContainer = document.getElementById('result-container');
            const resultTableBody = document.getElementById('result-table-body');
            const standardReference = document.getElementById('standard-reference');
            const calculationDetailsDiv = document.getElementById('calculation-details');

            // Input fields
            const unitSystemSelect = document.getElementById('unit-system');
            const materialSelect = document.getElementById('material-select');

            const originalLengthInput = document.getElementById('original-length');
            const initialTempInput = document.getElementById('initial-temp');
            const finalTempInput = document.getElementById('final-temp');
            const customAlphaInput = document.getElementById('custom-alpha');
            const customYoungModulusInput = document.getElementById('custom-young-modulus');
            const calculateThermalStressCheckbox = document.getElementById('calculate-thermal-stress');

            // Unit labels
            const lengthUnitLabel = document.querySelector('.length-unit-label');
            const tempUnitLabels = document.querySelectorAll('.temp-unit-label');
            const alphaUnitLabel = document.querySelector('.alpha-unit-label');
            const youngModulusUnitLabel = document.querySelector('.young-modulus-unit-label');

            // Material properties (alpha and Young's Modulus E)
            const materialProperties = {
                'steel': {
                    'metric': { alpha: 0.000012, E: 200000 }, // alpha in /°C, E in MPa
                    'imperial': { alpha: 0.0000067, E: 29000000 } // alpha in /°F, E in psi
                },
                'aluminum': {
                    'metric': { alpha: 0.000023, E: 69000 }, // alpha in /°C, E in MPa
                    'imperial': { alpha: 0.0000128, E: 10000000 } // alpha in /°F, E in psi
                },
                'copper': {
                    'metric': { alpha: 0.000017, E: 117000 }, // alpha in /°C, E in MPa
                    'imperial': { alpha: 0.0000094, E: 17000000 } // alpha in /°F, E in psi
                }
            };

            /**
             * Displays a custom message box at the top of the screen.
             * @param {string} message - The message to display.
             * @param {string} type - The type of message ('info', 'error', 'warning').
             */
            function displayMessage(message, type = "info") {
                let messageBox = document.getElementById('custom-message-box');
                if (!messageBox) {
                    messageBox = document.createElement('div');
                    messageBox.id = 'custom-message-box';
                    document.body.appendChild(messageBox);
                }
                messageBox.textContent = message;
                messageBox.className = ''; // Clear previous classes
                messageBox.classList.add(type); // Add type class for styling
                messageBox.style.opacity = 1;

                // Hide message after 5 seconds
                setTimeout(() => {
                    messageBox.style.opacity = 0;
                }, 5000);
            }

            /**
             * Updates unit labels and input defaults based on selected unit system and material.
             */
            function updateUnitLabelsAndDefaults() {
                const unitSystem = unitSystemSelect.value;
                const materialType = materialSelect.value;

                if (unitSystem === 'metric') {
                    lengthUnitLabel.innerHTML = '(m)';
                    tempUnitLabels.forEach(label => label.innerHTML = '(&#176;C)');
                    alphaUnitLabel.innerHTML = '(/&#176;C)';
                    youngModulusUnitLabel.innerHTML = '(MPa)';

                    if (materialType !== 'custom') {
                        customAlphaInput.value = materialProperties[materialType].metric.alpha;
                        customYoungModulusInput.value = materialProperties[materialType].metric.E;
                    } else {
                         // Default for custom when switching to metric if nothing was set
                        if (customAlphaInput.value === "" || isNaN(parseFloat(customAlphaInput.value))) customAlphaInput.value = "0.000012";
                        if (customYoungModulusInput.value === "" || isNaN(parseFloat(customYoungModulusInput.value))) customYoungModulusInput.value = "200000";
                    }
                    originalLengthInput.value = "10";
                    initialTempInput.value = "20";
                    finalTempInput.value = "100";

                } else { // Imperial
                    lengthUnitLabel.innerHTML = '(inches)'; // Default to inches for primary length unit
                    tempUnitLabels.forEach(label => label.innerHTML = '(&#176;F)');
                    alphaUnitLabel.innerHTML = '(/&#176;F)';
                    youngModulusUnitLabel.innerHTML = '(psi)';

                    if (materialType !== 'custom') {
                        customAlphaInput.value = materialProperties[materialType].imperial.alpha;
                        customYoungModulusInput.value = materialProperties[materialType].imperial.E;
                    } else {
                         // Default for custom when switching to imperial if nothing was set
                        if (customAlphaInput.value === "" || isNaN(parseFloat(customAlphaInput.value))) customAlphaInput.value = "0.0000067";
                        if (customYoungModulusInput.value === "" || isNaN(parseFloat(customYoungModulusInput.value))) customYoungModulusInput.value = "29000000";
                    }
                    originalLengthInput.value = "360"; // 30 feet in inches
                    initialTempInput.value = "68"; // 20C
                    finalTempInput.value = "212"; // 100C
                }
                toggleCustomMaterialInputs(); // Ensure custom inputs are enabled/disabled correctly
            }

            /**
             * Toggles the disabled state of custom material property inputs.
             */
            function toggleCustomMaterialInputs() {
                const isCustom = materialSelect.value === 'custom';
                customAlphaInput.disabled = !isCustom;
                customYoungModulusInput.disabled = !isCustom;

                // Set/remove required attribute based on disabled state
                if (isCustom) {
                    customAlphaInput.setAttribute('required', 'true');
                    customYoungModulusInput.setAttribute('required', 'true');
                } else {
                    customAlphaInput.removeAttribute('required');
                    customYoungModulusInput.removeAttribute('required');
                }
            }

            // Event listeners
            unitSystemSelect.addEventListener('change', updateUnitLabelsAndDefaults);
            materialSelect.addEventListener('change', updateUnitLabelsAndDefaults); // Also triggers defaults for selected material
            materialSelect.addEventListener('change', toggleCustomMaterialInputs); // To disable/enable custom inputs


            // Initial UI setup on load
            updateUnitLabelsAndDefaults();

            /**
             * Adds a row to the result table.
             * @param {string} parameterHtml - The HTML content for the parameter column.
             * @param {string} valueHtml - The HTML content for the value column.
             */
            function addResultRow(parameterHtml, valueHtml) {
                const row = resultTableBody.insertRow();
                const paramCell = row.insertCell();
                const valueCell = row.insertCell();
                paramCell.innerHTML = parameterHtml;
                valueCell.innerHTML = valueHtml;
            }

            // Main Calculation Logic
            calculateBtn.addEventListener('click', function() {
                const form = document.getElementById('thermal-expansion-form');
                if (!form.checkValidity()) {
                    displayMessage("Please fill in all required fields correctly.", "error");
                    form.reportValidity(); // Show native browser validation messages
                    return;
                }

                const unitSystem = unitSystemSelect.value;

                const L0_input = parseFloat(originalLengthInput.value);
                const T1_input = parseFloat(initialTempInput.value);
                const T2_input = parseFloat(finalTempInput.value);
                const alpha_input = parseFloat(customAlphaInput.value);
                const E_input = parseFloat(customYoungModulusInput.value);
                const calculateStress = calculateThermalStressCheckbox.checked;

                // Standardize inputs to SI units for calculation
                let L0_si; // meters
                let deltaT_si; // Celsius
                let alpha_si; // /°C
                let E_si; // Pascals (Pa)

                if (unitSystem === 'metric') {
                    L0_si = L0_input; // meters
                    deltaT_si = T2_input - T1_input; // °C
                    alpha_si = alpha_input; // /°C
                    E_si = E_input * 1e6; // MPa to Pa
                } else { // Imperial
                    L0_si = L0_input * 0.0254; // inches to meters
                    deltaT_si = (T2_input - T1_input) / 1.8; // °F to °C
                    alpha_si = alpha_input * 1.8; // /°F to /°C (because deltaT_C = deltaT_F / 1.8, so alpha_C * deltaT_C = alpha_F * deltaT_F implies alpha_C = alpha_F * 1.8)
                    E_si = E_input * 6894.76; // psi to Pa
                }

                let calculationHtml = '<h4>Detailed Calculation Steps:</h4>';
                calculationHtml += `<p><strong>1. Input Parameters:</strong></p><ul>
                    <li>Original Length (\(L_0\)): ${L0_input} ${unitSystem === 'metric' ? 'm' : 'inches'}</li>
                    <li>Initial Temperature (\(T_1\)): ${T1_input} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}</li>
                    <li>Final Temperature (\(T_2\)): ${T2_input} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}</li>
                    <li>Coefficient of Thermal Expansion (\(\alpha\)): ${customAlphaInput.value} ${unitSystem === 'metric' ? '/&#176;C' : '/&#176;F'}</li>
                    ${calculateStress ? `<li>Young's Modulus (\(E\)): ${customYoungModulusInput.value} ${unitSystem === 'metric' ? 'MPa' : 'psi'}</li>` : ''}
                </ul>`;

                // Calculate Change in Temperature
                const deltaT_display = T2_input - T1_input;
                
                calculationHtml += `<p><strong>2. Calculate Temperature Change (\(\Delta T\)):</strong></p>`;
                calculationHtml += `<p class="formula">\\[ \\Delta T = T_2 - T_1 \\]</p>`;
                calculationHtml += `<p class="calculation-step">
                    \\( \\Delta T \\) = ${T2_input} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'} - ${T1_input} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'} = ${deltaT_display.toFixed(2)} ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}
                </p>`;


                // 3. Calculate Change in Length (\(\Delta L\))
                const deltaL_si = L0_si * alpha_si * deltaT_si; // meters
                
                calculationHtml += `<p><strong>3. Calculate Change in Length (\(\Delta L\)):</strong></p>`;
                calculationHtml += `<p class="formula">\\[ \\Delta L = L_0 \\cdot \\alpha \\cdot \\Delta T \\]</p>`;
                calculationHtml += `<p class="calculation-step">
                    \\( \\Delta L \\) = ${L0_si.toFixed(4)} m \\times ${alpha_si.toExponential(2)} /&#176;C \\times ${deltaT_si.toFixed(2)} &#176;C = ${deltaL_si.toExponential(4)} m
                </p>`;

                // 4. Calculate Final Length (\(L_f\))
                const Lf_si = L0_si + deltaL_si; // meters
                
                calculationHtml += `<p><strong>4. Calculate Final Length (\(L_f\)):</strong></p>`;
                calculationHtml += `<p class="formula">\\[ L_f = L_0 + \\Delta L \\]</p>`;
                calculationHtml += `<p class="calculation-step">
                    \\( L_f \\) = ${L0_si.toFixed(4)} m + ${deltaL_si.toExponential(4)} m = ${Lf_si.toFixed(4)} m
                </p>`;

                let thermalStress_Pa = 0; // Pascals
                if (calculateStress) {
                    // 5. Calculate Thermal Stress (\(\sigma_t\))
                    thermalStress_Pa = -E_si * alpha_si * deltaT_si; // Pascals (negative for compressive stress, positive for tensile)
                    
                    calculationHtml += `<p><strong>5. Calculate Thermal Stress (\(\sigma_t\)) (Assuming Full Restraint):</strong></p>`;
                    calculationHtml += `<p class="formula">\\[ \\sigma_t = -E \\cdot \\alpha \\cdot \\Delta T \\]</p>`;
                    calculationHtml += `<p class="calculation-step">
                        \\( \\sigma_t \\) = -${E_si.toExponential(2)} Pa \\times ${alpha_si.toExponential(2)} /&#176;C \\times ${deltaT_si.toFixed(2)} &#176;C = ${thermalStress_Pa.toExponential(2)} Pa
                    </p>`;
                    if (thermalStress_Pa > 0) {
                        calculationHtml += `<p class="calculation-step">Resulting stress is tensile (material tries to contract but is restrained).</p>`;
                    } else if (thermalStress_Pa < 0) {
                        calculationHtml += `<p class="calculation-step">Resulting stress is compressive (material tries to expand but is restrained).</p>`;
                    } else {
                        calculationHtml += `<p class="calculation-step">No thermal stress if \\( \\Delta T \\) is zero.</p>`;
                    }
                }

                // Prepare results for display
                resultTableBody.innerHTML = ''; // Clear previous results
                calculationDetailsDiv.innerHTML = calculationHtml;

                addResultRow("Unit System", unitSystem === 'imperial' ? 'Imperial' : 'Metric');
                addResultRow("Material Type", materialSelect.options[materialSelect.selectedIndex].text);
                addResultRow("Original Length (\\(L_0\\))", `\\( ${L0_input.toFixed(3)} \\) ${unitSystem === 'metric' ? 'm' : 'inches'}`);
                addResultRow("Initial Temperature (\\(T_1\\))", `\\( ${T1_input.toFixed(2)} \\) ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}`);
                addResultRow("Final Temperature (\\(T_2\\))", `\\( ${T2_input.toFixed(2)} \\) ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}`);
                addResultRow("Temperature Change (\\(\\Delta T\\))", `<strong>\\( ${deltaT_display.toFixed(2)} \\) ${unitSystem === 'metric' ? '&#176;C' : '&#176;F'}</strong>`);

                let deltaL_display, Lf_display;
                if (unitSystem === 'metric') {
                    deltaL_display = deltaL_si * 1000; // meters to mm for easier reading
                    Lf_display = Lf_si; // meters
                    addResultRow("Change in Length (\\(\\Delta L\\))", `<strong>\\( ${deltaL_display.toPrecision(3)} \\) mm</strong>`);
                    addResultRow("Final Length (\\(L_f\\))", `\\( ${Lf_display.toFixed(4)} \\) m`);
                } else { // Imperial
                    deltaL_display = deltaL_si / 0.0254; // meters to inches
                    Lf_display = Lf_si / 0.0254; // meters to inches
                    addResultRow("Change in Length (\\(\\Delta L\\))", `<strong>\\( ${deltaL_display.toPrecision(3)} \\) inches</strong>`);
                    addResultRow("Final Length (\\(L_f\\))", `\\( ${Lf_display.toFixed(4)} \\) inches`);
                }

                if (calculateStress) {
                    let thermalStress_display;
                    if (unitSystem === 'metric') {
                        thermalStress_display = thermalStress_Pa / 1e6; // Pa to MPa
                        addResultRow("Thermal Stress (\\(\\sigma_t\\))", `<strong>\\( ${thermalStress_display.toFixed(2)} \\) MPa</strong>`);
                    } else { // Imperial
                        thermalStress_display = thermalStress_Pa / 6894.76; // Pa to psi
                        addResultRow("Thermal Stress (\\(\\sigma_t\\))", `<strong>\\( ${thermalStress_display.toFixed(2)} \\) psi</strong>`);
                    }
                }

                // Re-render MathJax equations - ensure MathJax is fully loaded
                if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                    window.MathJax.typesetPromise([calculationDetailsDiv, resultTableBody]);
                }

                // Display standard reference
                standardReference.innerHTML = "This tool provides theoretical estimations for thermal expansion and stress based on fundamental material science principles. It assumes constant material properties over the temperature range and perfect restraint for thermal stress calculation. For accurate design and real-world industrial applications, it is <strong>imperative</strong> to consult comprehensive industry standards (e.g., ASTM for material properties, ASME Boiler and Pressure Vessel Code for design under thermal loads), specialized engineering software, and qualified mechanical engineers.";

                // Show results container
                resultContainer.style.display = 'block';
                setTimeout(() => {
                    resultContainer.classList.add('show');
                }, 10);
                resultContainer.scrollIntoView({ behavior: 'smooth' });

                displayMessage("Thermal Expansion Calculation completed successfully!", "info");
            });

            // Theme switch functionality
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-mode');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.body.classList.remove('dark-mode');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        });
    </script>
</body>

</html>

