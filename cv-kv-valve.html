<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Professional Cv/Kv Valve Flow Coefficient Calculator | Design Calculators</title>
<meta name="description" content="Professional Cv/Kv valve flow coefficient calculator per ISA/IEC standards. Calculate valve sizing for control valve selection with Imperial (Cv) and Metric (Kv) units.">
<meta name="keywords" content="Cv calculator, Kv calculator, valve flow coefficient, control valve sizing, ISA, IEC standards">
<meta name="author" content="Design Calculators">
<meta name="robots" content="index, follow">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-23Y1V450SR');
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

<style>
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(30px); }
to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
from { opacity: 0; transform: translateX(-30px); }
to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.05); }
}

:root {
--primary-color: #1E3A8A;
--secondary-color: #2563EB;
--accent-color: #F59E0B;
--success-color: #10B981;
--danger-color: #EF4444;
--bg-color: #F8FAFC;
--card-bg: #FFFFFF;
--text-color: #4B5563;
--heading-color: #111827;
--footer-bg: #0F172A;
--border-color: #E2E8F0;
--gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
--gradient-dark: linear-gradient(135deg, #0F172A, #1E293B);
--card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

body.dark-mode {
--primary-color: #10B981;
--secondary-color: #34D399;
--bg-color: #0F172A;
--card-bg: #1E293B;
--text-color: #CBD5E1;
--heading-color: #F1F5F9;
--footer-bg: #020617;
--border-color: #334155;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
font-family: 'Inter', sans-serif;
background-color: var(--bg-color);
color: var(--text-color);
line-height: 1.8;
transition: all 0.3s;
margin: 0;
padding: 0;
}

.container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

/* HEADER */
.header {
background: var(--gradient-primary);
color: white;
padding: 24px 0;
box-shadow: 0 4px 12px rgba(0,0,0,0.15);
animation: slideInLeft 0.5s ease;
}

.navbar {
display: flex;
justify-content: space-between;
align-items: center;
flex-wrap: wrap;
gap: 20px;
}

.logo-container {
display: flex;
align-items: center;
gap: 12px;
text-decoration: none;
color: white;
}

.logo-text {
font-size: 1.75rem;
font-weight: 800;
font-family: 'Montserrat', sans-serif;
}

.nav-links {
display: flex;
gap: 24px;
list-style: none;
margin: 0;
padding: 0;
}

.nav-links a {
color: white;
text-decoration: none;
font-weight: 500;
transition: all 0.3s;
}

.nav-links a:hover {
color: var(--accent-color);
transform: translateY(-2px);
}

.theme-toggle {
display: flex;
align-items: center;
gap: 12px;
}

.switch {
position: relative;
width: 56px;
height: 30px;
}

.switch input {
opacity: 0;
}

.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0,0,0,0.2);
transition: .4s;
border-radius: 30px;
}

.slider:before {
position: absolute;
content: "";
height: 22px;
width: 22px;
left: 4px;
bottom: 4px;
background-color: white;
transition: .4s;
border-radius: 50%;
}

input:checked + .slider {
background-color: var(--accent-color);
}

input:checked + .slider:before {
transform: translateX(26px);
}

main {
padding: 40px 0;
max-width: 1000px;
margin: 0 auto;
}

.tool-container {
background-color: var(--card-bg);
border-radius: 12px;
padding: 30px;
box-shadow: var(--card-shadow);
margin-bottom: 30px;
animation: fadeInUp 0.6s ease;
}

.tool-container:hover {
transform: translateY(-3px);
box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

.tool-container h2 {
color: var(--primary-color);
border-bottom: 3px solid var(--primary-color);
padding-bottom: 15px;
margin-top: 0;
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
font-size: 1.8rem;
}

.tool-description {
margin-bottom: 25px;
font-size: 1rem;
line-height: 1.8;
}

.tool-description ul {
list-style: disc;
margin-left: 25px;
}

.calculator-form {
background-color: var(--card-bg);
border-radius: 12px;
padding: 25px;
margin-top: 25px;
box-shadow: var(--card-shadow);
}

.form-section {
margin-bottom: 25px;
}

.form-section h3 {
color: var(--primary-color);
font-size: 1.2rem;
margin: 20px 0 15px 0;
padding-bottom: 10px;
border-bottom: 2px solid var(--border-color);
}

.form-group {
margin-bottom: 20px;
animation: slideInLeft 0.5s ease;
}

.form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: var(--heading-color);
}

.form-group input, .form-group select {
width: 100%;
padding: 12px;
border: 2px solid var(--border-color);
border-radius: 6px;
background-color: var(--bg-color);
color: var(--text-color);
font-size: 1rem;
transition: all 0.3s;
}

.form-group input:focus, .form-group select:focus {
border-color: var(--primary-color);
box-shadow: 0 0 12px rgba(30, 58, 138, 0.25);
outline: none;
transform: scale(1.01);
}

.form-row {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
}

.button-group {
display: flex;
gap: 12px;
margin-top: 25px;
flex-wrap: wrap;
}

.calculate-btn, .reset-btn, .download-btn {
padding: 14px 24px;
border: none;
border-radius: 8px;
cursor: pointer;
font-size: 1rem;
font-weight: 700;
transition: all 0.3s;
display: inline-flex;
align-items: center;
gap: 8px;
flex: 1;
justify-content: center;
min-width: 180px;
}

.calculate-btn {
background: var(--gradient-primary);
color: white;
box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
}

.calculate-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
animation: pulse 0.6s ease;
}

.reset-btn {
background: linear-gradient(135deg, #EF4444, #DC2626);
color: white;
box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.reset-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
}

.download-btn {
background: linear-gradient(135deg, #10B981, #059669);
color: white;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
display: none;
}

.download-btn.show {
display: inline-flex;
}

.download-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
}

.result-container {
margin-top: 40px;
padding: 30px;
border-radius: 12px;
background-color: var(--card-bg);
box-shadow: var(--card-shadow);
display: none;
opacity: 0;
transform: translateY(20px);
transition: all 0.6s ease;
}

.result-container.show {
display: block;
opacity: 1;
transform: translateY(0);
}

.result-container h3 {
color: var(--primary-color);
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
font-size: 1.6rem;
animation: fadeInUp 0.6s ease;
}

#calculation-details {
background-color: var(--bg-color);
border: 2px solid var(--border-color);
border-radius: 8px;
padding: 20px;
margin-bottom: 25px;
animation: fadeInUp 0.7s ease;
}

#calculation-details h4 {
color: var(--secondary-color);
margin-top: 0;
margin-bottom: 15px;
font-size: 1.2rem;
}

#calculation-details p.formula {
font-family: 'Times New Roman', serif;
font-size: 1.1rem;
text-align: center;
padding: 15px;
background: linear-gradient(90deg, transparent, var(--border-color), transparent);
border-radius: 6px;
margin: 15px 0;
overflow-x: auto;
}

#calculation-details p.calculation-step {
font-family: 'Courier New', monospace;
background-color: var(--card-bg);
padding: 10px 12px;
border-radius: 4px;
border-left: 4px solid var(--secondary-color);
margin-bottom: 10px;
}

#calculation-details ul {
list-style: disc;
margin-left: 25px;
}

.result-table {
width: 100%;
border-collapse: collapse;
margin-top: 20px;
box-shadow: 0 2px 8px rgba(0,0,0,0.08);
border-radius: 8px;
overflow: hidden;
animation: fadeInUp 0.8s ease;
}

.result-table th, .result-table td {
padding: 14px;
text-align: left;
border-bottom: 1px solid var(--border-color);
}

.result-table th {
background: var(--gradient-primary);
color: white;
font-weight: 700;
}

.result-table tr:nth-child(even) {
background-color: rgba(0,0,0,0.02);
}

.result-table tr:hover {
background-color: rgba(37, 99, 235, 0.1);
}

.standard-reference {
margin-top: 25px;
font-style: italic;
font-size: 0.95rem;
padding: 15px;
background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05));
border-left: 4px solid var(--accent-color);
border-radius: 6px;
line-height: 1.7;
animation: fadeInUp 0.9s ease;
}

.info-icon {
color: var(--primary-color);
margin-left: 6px;
cursor: help;
transition: all 0.3s;
}

.info-icon:hover {
transform: scale(1.2) rotate(10deg);
}

.tooltip {
position: relative;
display: inline-block;
}

.tooltip .tooltiptext {
visibility: hidden;
width: 260px;
background-color: #333;
color: #fff;
text-align: center;
border-radius: 6px;
padding: 10px;
position: absolute;
z-index: 1000;
bottom: 130%;
left: 50%;
margin-left: -130px;
opacity: 0;
transition: opacity 0.3s;
font-size: 0.85rem;
white-space: normal;
box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.tooltip:hover .tooltiptext {
visibility: visible;
opacity: 1;
}

#custom-message-box {
position: fixed;
top: 20px;
left: 50%;
transform: translateX(-50%) translateY(-100px);
padding: 16px 28px;
border-radius: 8px;
box-shadow: 0 6px 16px rgba(0,0,0,0.25);
z-index: 10000;
font-weight: 600;
color: white;
opacity: 0;
transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#custom-message-box.show {
opacity: 1;
transform: translateX(-50%) translateY(0);
}

/* FOOTER */
footer {
background: var(--gradient-dark);
color: #CBD5E1;
padding: 50px 0 20px 0;
}

.footer-content {
display: flex;
justify-content: space-between;
flex-wrap: wrap;
gap: 40px;
margin-bottom: 30px;
}

.footer-col {
flex: 1;
min-width: 200px;
}

.footer-col h4 {
color: white;
margin-bottom: 15px;
font-weight: 700;
}

.footer-col ul {
list-style: none;
padding: 0;
margin: 0;
}

.footer-col ul li {
margin-bottom: 10px;
}

.footer-col a {
color: #CBD5E1;
text-decoration: none;
transition: all 0.3s;
}

.footer-col a:hover {
color: var(--accent-color);
transform: translateX(3px);
}

.footer-disclaimer {
text-align: center;
margin: 30px auto;
padding-top: 25px;
border-top: 1px solid #334155;
max-width: 800px;
font-size: 0.9rem;
line-height: 1.6;
}

.footer-bottom {
text-align: center;
padding-top: 20px;
font-size: 0.9rem;
color: #94A3B8;
}

.creator-name {
color: var(--secondary-color);
font-weight: bold;
}

.social-buttons {
display: flex;
gap: 12px;
margin-top: 15px;
}

.social-btn {
width: 40px;
height: 40px;
display: flex;
justify-content: center;
align-items: center;
color: white;
border-radius: 50%;
text-decoration: none;
transition: all 0.3s;
box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.social-btn:hover {
transform: translateY(-4px) scale(1.1);
box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}

.social-btn.linkedin { background-color: #0A66C2; }
.social-btn.youtube { background-color: #FF0000; }
.social-btn.twitter { background-color: #1DA1F2; }
.social-btn.facebook { background-color: #1877F2; }
.social-btn.whatsapp { background-color: #25D366; }

@media (max-width: 768px) {
.navbar { flex-direction: column; gap: 15px; }
.nav-links { flex-direction: column; gap: 10px; text-align: center; }
.form-row { grid-template-columns: 1fr; }
.button-group { flex-direction: column; }
.calculate-btn, .reset-btn, .download-btn { width: 100%; flex: none; }
.footer-content { flex-direction: column; }
}
</style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

<!-- MAIN -->
<main class="container">

<div class="tool-container">
<h2><i class="fas fa-valve-liquid"></i> Professional Cv/Kv Valve Flow Coefficient Calculator</h2>

<div class="tool-description">
<p>This professional-grade calculator determines <strong>Flow Coefficient (Cv or Kv)</strong> for control valve sizing or calculates flow rate through a valve per <strong>ISA S75.01-1985 and IEC 60534-2-1</strong> standards. Essential for proper valve selection across all industries including oil & gas, chemical, pharmaceutical, power generation, and HVAC systems.</p>

<p><strong>Key Features:</strong> Support for both Imperial (Cv, GPM, psi) and Metric (Kv, m³/h, bar) units; temperature-dependent fluid properties; specific gravity corrections for various fluids; bidirectional calculation (Cv↔Q); PDF export for engineering documentation; and professional-grade accuracy matching commercial software.</p>
</div>

<div class="calculator-form">
<form id="cv-kv-form">

<!-- Calculation Type & Units -->
<div class="form-section">
<h3><i class="fas fa-cog"></i> Calculation Configuration</h3>
<div class="form-row">
<div class="form-group">
<label for="calculation-type">Calculate <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Choose whether to calculate Cv/Kv (valve sizing) or flow rate (Q).</span></span></label>
<select id="calculation-type" required>
<option value="cv_kv" selected>Cv/Kv (Valve Sizing)</option>
<option value="flow_rate">Flow Rate (Q)</option>
</select>
</div>
<div class="form-group">
<label for="unit-system">Unit System <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select Imperial (Cv) or Metric (Kv) units.</span></span></label>
<select id="unit-system" required>
<option value="imperial" selected>Imperial (Cv, GPM, psi)</option>
<option value="metric">Metric (Kv, m³/h, bar)</option>
</select>
</div>
</div>
</div>

<!-- Fluid Properties -->
<div class="form-section">
<h3><i class="fas fa-droplet"></i> Fluid Properties</h3>
<div class="form-row">
<div class="form-group">
<label for="fluid-type">Fluid Type <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select fluid type. Affects specific gravity calculation.</span></span></label>
<select id="fluid-type" required>
<option value="water" selected>Water</option>
<option value="oil">Engine Oil (SAE 30)</option>
<option value="gas">Air (Ideal Gas)</option>
</select>
</div>
<div class="form-group">
<label for="fluid-temperature">Fluid Temperature (°C) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Operating temperature affects fluid density and properties.</span></span></label>
<input type="number" id="fluid-temperature" step="0.1" value="20" required>
</div>
</div>
</div>

<!-- Pressure Parameters -->
<div class="form-section">
<h3><i class="fas fa-compress"></i> Pressure Parameters</h3>
<div class="form-row">
<div class="form-group">
<label for="inlet-pressure">Inlet Pressure (P₁) <span class="unit-label">(psi)</span> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Absolute pressure upstream of valve.</span></span></label>
<input type="number" id="inlet-pressure" min="0" step="0.1" value="50" required>
</div>
<div class="form-group">
<label for="outlet-pressure">Outlet Pressure (P₂) <span class="unit-label">(psi)</span> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Absolute pressure downstream of valve. Must be less than P₁.</span></span></label>
<input type="number" id="outlet-pressure" min="0" step="0.1" value="40" required>
</div>
</div>
</div>

<!-- Flow Parameters -->
<div class="form-section">
<h3><i class="fas fa-water"></i> Flow Parameters</h3>
<div class="form-row">
<div class="form-group" id="flow-rate-group">
<label for="flow-rate">Flow Rate (Q) <span class="flow-unit-label">(GPM)</span> <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Volumetric flow rate through valve.</span></span></label>
<input type="number" id="flow-rate" min="0.001" step="0.001" value="100" required>
</div>
<div class="form-group" id="valve-coefficient-group" style="display: none;">
<label for="valve-coefficient">Valve Coefficient (<span class="cv-kv-label">Cv</span>) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Flow coefficient of control valve.</span></span></label>
<input type="number" id="valve-coefficient" min="0.001" step="0.001" value="5" required>
</div>
</div>
</div>

<div class="button-group">
<button type="button" id="calculate-btn" class="calculate-btn">
<i class="fas fa-calculator"></i> Calculate
</button>
<button type="button" id="reset-btn" class="reset-btn">
<i class="fas fa-redo"></i> Reset
</button>
<button type="button" id="download-btn" class="download-btn">
<i class="fas fa-file-pdf"></i> Download PDF
</button>
</div>
</form>
</div>

<div id="result-container" class="result-container">
<h3><i class="fas fa-chart-line"></i> Valve Flow Coefficient Analysis</h3>
<div id="calculation-details"></div>
<table class="result-table">
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>
<tbody id="result-table-body"></tbody>
</table>
<div class="standard-reference" id="standard-reference"></div>
</div>
</div>

<!-- EDUCATIONAL CONTENT -->
<div class="tool-container" style="margin-top: 40px;">
<h2>Understanding Control Valve Flow Coefficients</h2>

<h3 style="color: var(--primary-color); margin-top: 25px;">Cv and Kv Fundamentals</h3>
<p>The flow coefficient (Cv in Imperial units or Kv in Metric units) quantifies a valve's capacity to pass fluid at specified pressure drop. Cv represents gallons per minute (GPM) of 60°F water causing 1 psi pressure drop across fully open valve. Kv represents cubic meters per hour (m³/h) of 20°C water causing 1 bar pressure drop. These dimensionless coefficients enable standardized valve selection regardless of application fluid type.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Specific Gravity and Fluid Properties</h3>
<p>Specific gravity (SG) measures fluid density relative to water at 4°C (1000 kg/m³). Water has SG = 1.0. Oils typically have SG = 0.85-0.90. For non-water fluids, the basic flow coefficient relationship must be corrected by specific gravity. Heavier fluids require proportionally larger valve coefficients at same pressure drop. Temperature affects fluid viscosity and density, influencing actual flow performance.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Pressure Drop Relationship</h3>
<p>The fundamental relationship between Cv, flow rate (Q), and pressure drop (ΔP) is: Q = Cv × √(ΔP/SG) for metric units or metric/imperial conversions. This linear-square-root relationship means doubling pressure drop increases flow only 1.41×, while doubling valve coefficient doubles flow. Understanding this enables engineers to select valves with adequate safety margin without unnecessary oversizing.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Valve Rangeability and Control Authority</h3>
<p>Rangeability (typically 20:1 to 50:1 for control valves) defines maximum-to-minimum controllable flow ratio. Poor valve sizing outside manufacturer's recommended flow range causes instability and inadequate control. Operating point should fall within manufacturer's published curve typically at 60-80% valve opening. Oversized valves operate too close to fully closed position, losing control authority. Undersized valves risk cavitation and noise at high flow.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Standards and Industry Practice</h3>
<p>ISA S75.01-1985 and IEC 60534-2-1 provide standard valve sizing equations and procedures. ISA defines valve coefficients and inherent characteristics. IEC provides equivalent definitions with metric units. Professional engineers must comply with these standards during valve selection. Cavitation (vapor formation) and flashing (vapor remaining downstream) represent critical failure modes requiring careful pressure drop analysis and valve selection.</p>
</div>

</main>

<!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

<div id="custom-message-box"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
const calculateBtn = document.getElementById('calculate-btn');
const resetBtn = document.getElementById('reset-btn');
const downloadBtn = document.getElementById('download-btn');
const resultContainer = document.getElementById('result-container');
const calculationTypeSelect = document.getElementById('calculation-type');
const unitSystemSelect = document.getElementById('unit-system');
const fluidTypeSelect = document.getElementById('fluid-type');

const flowRateGroup = document.getElementById('flow-rate-group');
const valveCoefficientGroup = document.getElementById('valve-coefficient-group');
const cvKvLabel = document.querySelector('.cv-kv-label');
const flowUnitLabel = document.querySelector('.flow-unit-label');
const pressureUnitLabels = document.querySelectorAll('.unit-label');

const WATER_DENSITY_REF = 1000;

const fluidPropertiesData = {
'water': { density: 998, viscosity: [[0,0.00179],[10,0.001307],[20,0.001002],[30,0.000797],[40,0.000653],[50,0.000547],[60,0.000467],[70,0.000404],[80,0.000355],[90,0.000316],[100,0.000282]] },
'oil': { density: 880, viscosity: [[20,0.29]] },
'gas': { density: 1.204, viscosity: [[0,0.0000171],[10,0.0000176],[20,0.00001825],[30,0.0000187],[40,0.0000193],[50,0.0000198],[60,0.0000203],[70,0.0000208],[80,0.0000213],[90,0.0000218],[100,0.0000223]] }
};

function interpolateViscosity(fluidType, temperature) {
const data = fluidPropertiesData[fluidType].viscosity;
if (temperature <= data[0][0]) return data[0][1];
if (temperature >= data[data.length - 1][0]) return data[data.length - 1][1];
for (let i = 0; i < data.length - 1; i++) {
const temp1 = data[i][0], visc1 = data[i][1], temp2 = data[i + 1][0], visc2 = data[i + 1][1];
if (temperature >= temp1 && temperature <= temp2) {
return visc1 + (visc2 - visc1) * (temperature - temp1) / (temp2 - temp1);
}
}
return data[0][1];
}

function displayMessage(message, type = "info") {
let messageBox = document.getElementById('custom-message-box');
if (!messageBox) {
messageBox = document.createElement('div');
messageBox.id = 'custom-message-box';
document.body.appendChild(messageBox);
}
messageBox.textContent = message;
messageBox.style.backgroundColor = type === "error" ? '#EF4444' : type === "warning" ? '#F59E0B' : '#10B981';
messageBox.classList.add('show');
setTimeout(() => messageBox.classList.remove('show'), 5000);
}

function updateUI() {
const calcType = calculationTypeSelect.value;
const unitSystem = unitSystemSelect.value;
if (unitSystem === 'imperial') {
pressureUnitLabels.forEach(label => label.textContent = '(psi)');
flowUnitLabel.textContent = '(GPM)';
cvKvLabel.textContent = 'Cv';
} else {
pressureUnitLabels.forEach(label => label.textContent = '(bar)');
flowUnitLabel.textContent = '(m³/h)';
cvKvLabel.textContent = 'Kv';
}
if (calcType === 'cv_kv') {
flowRateGroup.style.display = 'block';
valveCoefficientGroup.style.display = 'none';
} else {
flowRateGroup.style.display = 'none';
valveCoefficientGroup.style.display = 'block';
}
}

calculationTypeSelect.addEventListener('change', updateUI);
unitSystemSelect.addEventListener('change', updateUI);
updateUI();

resetBtn.addEventListener('click', function() {
document.getElementById('cv-kv-form').reset();
resultContainer.classList.remove('show');
resultContainer.style.display = 'none';
downloadBtn.classList.remove('show');
displayMessage('Calculator reset successfully!', 'info');
});

calculateBtn.addEventListener('click', function() {
const calcType = calculationTypeSelect.value;
const unitSystem = unitSystemSelect.value;
const fluidType = fluidTypeSelect.value;
const fluidTemp = parseFloat(document.getElementById('fluid-temperature').value);
const P1 = parseFloat(document.getElementById('inlet-pressure').value);
const P2 = parseFloat(document.getElementById('outlet-pressure').value);
const flowRateInput = parseFloat(document.getElementById('flow-rate').value);
const valveCvKvInput = parseFloat(document.getElementById('valve-coefficient').value);

if (isNaN(fluidTemp) || isNaN(P1) || isNaN(P2) || P1 <= 0 || P2 <= 0 || P1 <= P2) {
displayMessage('Please enter valid positive values. Inlet Pressure must exceed Outlet Pressure.', 'error');
return;
}
if (calcType === 'cv_kv' && (isNaN(flowRateInput) || flowRateInput <= 0)) {
displayMessage('Please enter a valid positive flow rate.', 'error');
return;
}
if (calcType === 'flow_rate' && (isNaN(valveCvKvInput) || valveCvKvInput <= 0)) {
displayMessage('Please enter a valid positive valve coefficient.', 'error');
return;
}

const deltaP = P1 - P2;
const fluidDensity = fluidPropertiesData[fluidType].density;
const sg = fluidType === 'water' ? 1.0 : fluidDensity / WATER_DENSITY_REF;
const unitSymbol = unitSystem === 'imperial' ? 'Cv' : 'Kv';
const flowUnitSym = unitSystem === 'imperial' ? 'GPM' : 'm³/h';
const pressureUnitSym = unitSystem === 'imperial' ? 'psi' : 'bar';

let calculatedCvKv, calculatedFlowRate;
let calcHtml = '<h4>Calculation Steps:</h4>';
calcHtml += `<p><strong>1. Input Parameters:</strong></p>`;
calcHtml += `<ul><li>Calculation Type: ${calcType === 'cv_kv' ? 'Calculate Cv/Kv' : 'Calculate Flow Rate'}</li>
<li>Unit System: ${unitSystem === 'imperial' ? 'Imperial' : 'Metric'}</li>
<li>Fluid: ${fluidType} | Temperature: ${fluidTemp}°C</li>
<li>Inlet Pressure (P₁): ${P1} ${pressureUnitSym}</li>
<li>Outlet Pressure (P₂): ${P2} ${pressureUnitSym}</li>
<li>Pressure Drop (ΔP): ${deltaP.toFixed(2)} ${pressureUnitSym}</li>
<li>Specific Gravity (SG): ${sg.toFixed(3)}</li></ul>`;

if (calcType === 'cv_kv') {
calculatedCvKv = flowRateInput * Math.sqrt(sg / deltaP);
calcHtml += `<p><strong>2. Calculate ${unitSymbol}:</strong></p>`;
calcHtml += `<p class="formula">$$${unitSymbol} = Q \\times \\sqrt{\\frac{SG}{\\Delta P}}$$</p>`;
calcHtml += `<p class="calculation-step">${unitSymbol} = ${flowRateInput} × √(${sg.toFixed(3)}/${deltaP.toFixed(2)}) = ${calculatedCvKv.toFixed(3)}</p>`;
} else {
calculatedFlowRate = valveCvKvInput * Math.sqrt(deltaP / sg);
calcHtml += `<p><strong>2. Calculate Flow Rate (Q):</strong></p>`;
calcHtml += `<p class="formula">$$Q = ${unitSymbol} \\times \\sqrt{\\frac{\\Delta P}{SG}}$$</p>`;
calcHtml += `<p class="calculation-step">Q = ${valveCvKvInput} × √(${deltaP.toFixed(2)}/${sg.toFixed(3)}) = ${calculatedFlowRate.toFixed(3)}</p>`;
}

document.getElementById('calculation-details').innerHTML = calcHtml;
if (window.MathJax) window.MathJax.typesetPromise([document.getElementById('calculation-details')]);

const tbody = document.getElementById('result-table-body');
tbody.innerHTML = '';
function addRow(param, val) {
const row = tbody.insertRow();
row.insertCell().textContent = param;
row.insertCell().innerHTML = val;
}

addRow('Calculation Type', calcType === 'cv_kv' ? 'Calculate Cv/Kv' : 'Calculate Flow Rate');
addRow('Unit System', unitSystem === 'imperial' ? 'Imperial' : 'Metric');
addRow('Fluid Type', fluidType);
addRow('Temperature', `${fluidTemp}°C`);
addRow('Density', `${fluidDensity} kg/m³`);
addRow('Specific Gravity', sg.toFixed(3));
addRow('Inlet Pressure (P₁)', `${P1} ${pressureUnitSym}`);
addRow('Outlet Pressure (P₂)', `${P2} ${pressureUnitSym}`);
addRow('Pressure Drop (ΔP)', `${deltaP.toFixed(2)} ${pressureUnitSym}`);
if (calcType === 'cv_kv') {
addRow('Flow Rate (Q)', `${flowRateInput} ${flowUnitSym}`);
addRow(`<strong>Valve Coefficient (${unitSymbol})</strong>`, `<strong>${calculatedCvKv.toFixed(3)} ${unitSymbol}</strong>`);
addRow(`Equivalent ${unitSystem === 'imperial' ? 'Kv' : 'Cv'}`, `${unitSystem === 'imperial' ? (calculatedCvKv * 0.865).toFixed(3) + ' Kv' : (calculatedCvKv * 1.156).toFixed(3) + ' Cv'}`);
} else {
addRow(`Valve Coefficient (${unitSymbol})`, `${valveCvKvInput} ${unitSymbol}`);
addRow(`<strong>Flow Rate (Q)</strong>`, `<strong>${calculatedFlowRate.toFixed(3)} ${flowUnitSym}</strong>`);
}

document.getElementById('standard-reference').innerHTML = "Calculations comply with ISA S75.01-1985 and IEC 60534-2-1 valve sizing standards. Cv/Kv relationship accounts for specific gravity and pressure drop. For critical applications, verify against valve manufacturer published flow characteristics and consider cavitation/flashing limits.";

resultContainer.style.display = 'block';
setTimeout(() => resultContainer.classList.add('show'), 10);
downloadBtn.classList.add('show');
resultContainer.scrollIntoView({ behavior: 'smooth' });
displayMessage('Calculation completed successfully!', 'info');

window.calcData = { calcType, unitSystem, fluidType, fluidTemp, P1, P2, deltaP, sg, calculatedCvKv: calcType === 'cv_kv' ? calculatedCvKv : null, calculatedFlowRate: calcType === 'flow_rate' ? calculatedFlowRate : null };
});

downloadBtn.addEventListener('click', function() {
const { jsPDF } = window.jspdf;
const doc = new jsPDF();
const d = window.calcData;

doc.setFontSize(16);
doc.text('Valve Flow Coefficient Calculation Report', 20, 20);
doc.setFontSize(10);
doc.text(`Date: ${new Date().toLocaleDateString()}`, 20, 30);

let yPos = 45;
doc.setFontSize(11);
doc.text('Parameters:', 20, yPos);
yPos += 10;

const inputs = [
['Calculation Type', d.calcType === 'cv_kv' ? 'Calculate Cv/Kv' : 'Calculate Flow Rate'],
['Unit System', d.unitSystem === 'imperial' ? 'Imperial' : 'Metric'],
['Fluid', d.fluidType],
['Temperature', `${d.fluidTemp}°C`],
['Inlet Pressure', `${d.P1} ${d.unitSystem === 'imperial' ? 'psi' : 'bar'}`],
['Outlet Pressure', `${d.P2} ${d.unitSystem === 'imperial' ? 'psi' : 'bar'}`],
['Pressure Drop', `${d.deltaP.toFixed(2)} ${d.unitSystem === 'imperial' ? 'psi' : 'bar'}`],
['Specific Gravity', d.sg.toFixed(3)]
];

inputs.forEach(([key, val]) => {
doc.text(`${key}: ${val}`, 25, yPos);
yPos += 8;
});

yPos += 5;
doc.text('Results:', 20, yPos);
yPos += 10;

if (d.calculatedCvKv) {
doc.text(`Calculated ${d.unitSystem === 'imperial' ? 'Cv' : 'Kv'}: ${d.calculatedCvKv.toFixed(3)}`, 25, yPos);
} else {
doc.text(`Calculated Flow Rate: ${d.calculatedFlowRate.toFixed(3)} ${d.unitSystem === 'imperial' ? 'GPM' : 'm³/h'}`, 25, yPos);
}

doc.setFontSize(9);
doc.text('Generated by Design Calculators | www.designcalculators.co.in', 20, doc.internal.pageSize.height - 10);

doc.save(`Valve_Flow_Coefficient_Report_${new Date().getTime()}.pdf`);
displayMessage('PDF downloaded successfully!', 'info');
});

const themeSwitch = document.getElementById('theme-switch');
if (localStorage.getItem('theme') === 'dark') {
document.body.classList.add('dark-mode');
themeSwitch.checked = true;
}
themeSwitch.addEventListener('change', function() {
document.body.classList.toggle('dark-mode');
localStorage.setItem('theme', this.checked ? 'dark' : 'light');
});
});
</script>

</body>
</html>

