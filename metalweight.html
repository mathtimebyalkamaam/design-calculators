<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Metal Weight Analyst - Design Calculators</title>
    <meta name="description" content="Commercial-grade Metal Weight Calculator. Calculate weight and cost for Steel, Aluminum, SS plates, bars, pipes, and beams. Essential for procurement, shipping, and engineering.">
    <meta name="keywords" content="metal weight calculator, steel weight calculator, aluminum weight, pipe weight, plate weight, beam weight, material density, procurement calculator, engineering estimation">
    <meta name="author" content="Design Calculators">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://designcalculators.co.in/metalweight.html" />

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-23Y1V450SR');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            },
            svg: { fontCache: 'global' },
            options: {
                processHtmlClass: 'math-content',
                ignoreHtmlClass: 'no-mathjax'
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <style>
        /* Exact Theme Variables */
        :root {
            --primary: #1E3A8A;
            --secondary: #2563EB;
            --accent: #F59E0B;
            --success: #10B981;
            --danger: #DC2626;
            --warning: #F59E0B;
            --bg: #F8FAFC;
            --card: #FFFFFF;
            --text: #4B5563;
            --heading: #111827;
            --footer-bg: #0F172A;
            --border: #E2E8F0;
            --grad: linear-gradient(135deg, var(--primary), var(--secondary));
            --grad-dark: linear-gradient(135deg, #0F172A, #1E293B);
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
            
            --reset-button-bg: var(--accent);
            --reset-button-hover-bg: #DAA520;
            --clear-button-bg: var(--secondary);
            --clear-button-hover-bg: var(--primary);
            
            --ok-color: var(--success);
            --error-color: var(--danger);
            --warning-color: var(--warning);
        }

        /* Dark mode variables */
        body.dark-mode {
            --primary: #10B981;
            --secondary: #34D399;
            --bg: #0F172A;
            --card: #1E293B;
            --text: #CBD5E1;
            --heading: #F1F5F9;
            --footer-bg: #020617;
            --border: #334155;
            
            --reset-button-bg: var(--accent);
            --reset-button-hover-bg: #DAA520;
            --clear-button-bg: var(--secondary);
            --clear-button-hover-bg: var(--primary);
        }

        /* General Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header styles */
        header {
            background: var(--grad);
            color: white;
            padding: 24px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: white;
        }
        .logo-text {
            font-size: 1.75rem;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
        }
        .logo-subtitle {
            font-size: 0.8rem;
            margin: 4px 0 0 0;
            color: #E0E7FF;
            opacity: 0.9;
        }
        .nav-links {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--accent); }
        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .switch {
            position: relative;
            width: 56px;
            height: 30px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.2);
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--accent);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }

        main {
            padding: 40px 0;
        }

        /* Main Card Styling */
        .tool-container {
            background-color: var(--card);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border);
            transition: transform 0.3s ease-in-out;
        }

        .tool-container:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .tool-container h2 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 15px;
            margin-top: 0;
            margin-bottom: 20px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .tool-description {
            margin-bottom: 20px;
            color: var(--text);
            font-size: 1.05rem;
        }

        /* Footer styles */
        footer {
            background: var(--grad-dark);
            color: #CBD5E1;
            padding: 50px 0 20px 0;
            margin-top: 60px;
        }
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 30px;
        }
        .footer-col {
            flex: 1;
            min-width: 200px;
        }
        .footer-col h4 {
            color: white;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .footer-col ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-col a {
            color: #CBD5E1;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-col a:hover {
            color: var(--accent);
        }
        .social-buttons {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        .social-btn {
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border-radius: 50%;
            font-size: 1.1rem;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-4px);
        }
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.youtube { background-color: #FF0000; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .footer-disclaimer {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid #334155;
            max-width: 800px;
            margin: 0 auto;
            font-size: 0.9rem;
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            font-size: 0.9rem;
            color: #94A3B8;
        }

        /* Forms and Results */
        .calculator-form {
            background-color: var(--card);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: none;
        }
        
        .form-section {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            /* Ensure visible by default */
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        .form-section h3 {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px dashed var(--border);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--heading);
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background-color: var(--card);
            color: var(--text);
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
            font-size: 1rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        /* Buttons */
        .calculate-btn {
            background: var(--grad);
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            margin-top: 25px;
            transition: all 0.3s;
            width: auto;
            min-width: 220px;
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        
        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
        }

        .reset-btn {
            background-color: var(--reset-button-bg);
            color: #333;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            margin-top: 25px;
            margin-left: 15px;
            transition: all 0.3s;
            width: auto;
            min-width: 150px;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .reset-btn:hover {
            background-color: var(--reset-button-hover-bg);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.4);
        }

        .clear-results-btn {
            background-color: var(--clear-button-bg);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 700;
            margin-top: 15px;
            transition: all 0.3s;
            box-shadow: var(--shadow);
        }

        .clear-results-btn:hover {
            background-color: var(--clear-button-hover-bg);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .result-container {
            margin-top: 30px;
            padding: 30px;
            border-radius: 12px;
            background-color: var(--card);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        
        .result-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .result-container h3 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
        }
        
        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 25px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .result-table th, .result-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
            transition: background-color 0.3s;
        }
        
        .result-table th {
            background: var(--grad);
            font-weight: 700;
            color: white;
        }

        .result-table tr:last-child td {
            border-bottom: none;
        }
        
        .result-table tr:nth-child(even) {
            background-color: var(--bg);
        }

        .result-table tbody tr:hover {
            background-color: var(--border);
        }
        
        .result-table td:first-child {
            font-weight: 600;
            color: var(--heading);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(10px);
            font-size: 0.85em;
            font-family: 'Inter', sans-serif;
            line-height: 1.4;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }
        
        .info-icon {
            color: var(--primary);
            margin-left: 5px;
            cursor: help;
        }

        /* Message Box */
        #custom-message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 16px 28px;
            border-radius: 8px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
            z-index: 10000;
            font-weight: 600;
            color: white;
            opacity: 0;
            transition: all 0.4s;
            display: none;
            align-items: center;
            justify-content: center;
            min-width: 250px;
        }
        #custom-message-box.show {
            display: flex;
            opacity: 1;
            top: 30px;
        }

        /* Calculation Steps */
        .steps-container {
            display: none;
            margin-top: 30px;
        }
        .steps-container.active {
            display: block;
        }
        .step-card {
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box; /* v6 */
            background: var(--card);
            border-radius: 12px;
            padding: 25px 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            animation: slideIn 0.6s ease-out;
            transition: all 0.3s;
            margin-bottom: 25px;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .step-card h4 {
            color: var(--primary);
            margin: 0 0 20px 0;
            font-size: 1.4rem;
            font-family: 'Montserrat', sans-serif;
            display: block; /* Changed from flex */
        }
        .step-card h4::after {
            content: "";
            display: table;
            clear: both;
        }
        .step-card .number {
            float: left; /* Changed to float */
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 700;
            margin-right: 15px;
            font-size: 1.3rem;
            /* Removed flex-shrink */
        }
        .step-content {
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box; /* v6 */
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            align-items: start;
        }
        
        .step-content .formula-block {
            background: var(--bg);
            border-radius: 8px;
            padding: 20px;
            font-size: 1.05rem;
            border: 1px solid var(--border);
            overflow-x: auto;
        }
        .step-content .formula {
            background: var(--bg);
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin: 12px 0;
            font-size: 1.1rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .step-value {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--success);
            margin: 5px 0;
        }
        .step-explanation {
            font-size: 1.05rem;
            line-height: 1.8;
        }
        
        .button-wrapper {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            width: 100%;
            padding-top: 20px;
        }

        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
            outline: none;
        }
        body.dark-mode .form-group input:focus, 
        body.dark-mode .form-group select:focus { 
             box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        /* Visualization Styles */
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
            margin-bottom: 20px;
            padding: 20px;
            background-color: var(--bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            flex-direction: column;
            position: relative;
        }
        .chart-container svg {
            width: 100%;
            max-width: 600px;
            height: auto;
            border: 1px solid var(--border);
            border-radius: 5px;
            background-color: var(--card);
        }
        .status-display {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 15px;
            padding: 10px 20px;
            border-radius: 5px;
            text-align: center;
            width: 80%;
            background-color: var(--secondary);
            color: white;
        }

        /* LONG FORM THEORY STYLES */
        .education-section {
            margin-top: 60px;
            margin-bottom: 60px;
            background: var(--card);
            border-radius: 12px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        
        .education-section h2 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 15px;
            margin-top: 0;
            font-family: 'Montserrat', sans-serif;
            font-size: 2rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .education-section h3 {
            color: var(--heading);
            margin-top: 40px;
            margin-bottom: 20px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            border-left: 5px solid var(--accent);
            padding-left: 15px;
        }
        
        .education-section h4 {
            color: var(--secondary);
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .long-text p {
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 20px;
            color: var(--text);
            text-align: justify;
        }
        
        .content-panel {
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }
        .content-panel:last-child {
            border-bottom: none;
        }

        .insight-card, .danger-box, .success-box, .standard-box {
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        
        .insight-card {
            background: linear-gradient(135deg, var(--card), rgba(37,99,235,0.03));
            border-left: 5px solid var(--secondary);
        }
        .insight-card:hover { transform: translateX(5px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        
        .danger-box {
            background: linear-gradient(135deg, rgba(220,38,38,0.1), rgba(220,38,38,0.02));
            border-left: 5px solid var(--danger);
        }
        
        .success-box {
            background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.02));
            border-left: 5px solid var(--success);
        }
        
        .standard-box {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-left: 5px solid var(--primary);
        }

        .insight-card h4, .danger-box h4, .success-box h4, .standard-box h4 {
            margin-top: 0;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-card h4 { color: var(--secondary); }
        .danger-box h4 { color: var(--danger); }
        .success-box h4 { color: var(--success); }
        .standard-box h4 { color: var(--primary); }
        
        /* Table Styles for Theory */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 0.95rem;
        }
        .comparison-table th, .comparison-table td {
            border: 1px solid var(--border);
            padding: 12px;
            text-align: left;
        }
        .comparison-table th {
            background-color: var(--primary);
            color: white;
        }
        .comparison-table tr:nth-child(even) {
            background-color: var(--bg);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            .navbar { flex-direction: column; gap: 20px; }
            .nav-links { flex-direction: column; gap: 12px; text-align: center; }
            .form-row { grid-template-columns: 1fr; }
            .tool-container, .education-section, .result-container { padding: 20px; }
            .footer-content { flex-direction: column; gap: 25px; }
            .long-text p { text-align: left; }
        }
    </style>
    <link rel="stylesheet" href="styles.css">
    <meta property="og:title" content="Professional Metal Weight Analyst - Design Calculators">
    <meta property="og:description" content="Commercial-grade Metal Weight Calculator. Calculate weight and cost for Steel, Aluminum, SS plates, bars, pipes, and beams. Essential for procurement, shipping, and engineering.">
</head>
<body>
    <div id="custom-message-box" class="message-box"></div>

    <header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

    <main class="container">
        <div class="tool-container">
            <h2><i class="fas fa-cubes"></i> Professional Metal Weight Analyst</h2>
            
            <div class="tool-description">
                <p><strong>Commercial-Grade Engineering Tool:</strong> Accurate weight and cost estimation for Plates, Bars, Pipes, and Structural Beams. Pre-loaded with industrial standard densities for Steel, Stainless Steel, Aluminum, and Yellow Metals.</p>
            </div>

            <div class="calculator-form">
                <form id="weight-calculator-form">
                    <div class="form-section">
                        <h3><i class="fas fa-shapes"></i> 1. Shape & Material</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="shape-select">Select Profile Shape</label>
                                <select id="shape-select">
                                    <option value="plate">Plate / Flat Bar</option>
                                    <option value="round">Round Bar / Rod</option>
                                    <option value="square">Square Bar</option>
                                    <option value="hex">Hexagonal Bar</option>
                                    <option value="pipe">Pipe / Round Tube</option>
                                    <option value="ibeam">I-Beam / H-Beam</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="material-select">Select Material</label>
                                <select id="material-select">
                                    <option value="7850">Mild Steel (7850 kg/m³)</option>
                                    <option value="7900">SS 304 (7900 kg/m³)</option>
                                    <option value="7980">SS 316 (7980 kg/m³)</option>
                                    <option value="2700">Aluminum 6061 (2700 kg/m³)</option>
                                    <option value="8500">Brass (8500 kg/m³)</option>
                                    <option value="8960">Copper (8960 kg/m³)</option>
                                    <option value="7200">Cast Iron (7200 kg/m³)</option>
                                    <option value="4500">Titanium (4500 kg/m³)</option>
                                    <option value="custom">Custom Density...</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row" id="custom-density-row" style="display:none;">
                            <div class="form-group">
                                <label for="custom-density">Custom Density ($\rho$)</label>
                                <div style="display: flex; gap: 10px;">
                                    <input type="number" id="custom-density" step="1" value="1000">
                                    <span style="padding: 12px; background: var(--border); border-radius: 6px; font-weight: 500;">kg/m³</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section" id="dimensions-section">
                        <h3><i class="fas fa-ruler-combined"></i> 2. Dimensions & Quantity</h3>
                        <div class="form-row" id="inputs-container">
                            <!-- Dynamic Inputs injected here -->
                        </div>
                        <div class="form-row" style="margin-top: 15px; border-top: 1px dashed var(--border); padding-top: 15px;">
                            <div class="form-group">
                                <label for="qty">Quantity</label>
                                <input type="number" id="qty" step="1" value="1" min="1">
                            </div>
                            <div class="form-group">
                                <label for="waste">Waste / Cut Margin (%) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Scrap allowance for cutting.</span></span></label>
                                <input type="number" id="waste" step="0.5" value="0" min="0">
                            </div>
                            <div class="form-group">
                                <label for="price">Price per kg (Optional)</label>
                                <div style="display: flex; gap: 10px;">
                                    <input type="number" id="price" step="0.01" value="0" min="0">
                                    <span style="padding: 12px; background: var(--border); border-radius: 6px; font-weight: 500;">Currency</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-wrapper">
                        <button type="button" id="calculate-btn" class="calculate-btn"><i class="fas fa-calculator"></i> Calculate Weight</button>
                        <button type="button" id="reset-form-btn" class="reset-btn"><i class="fas fa-sync-alt"></i> Reset</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="result-container" class="result-container">
            <h3><i class="fas fa-weight-hanging"></i> Estimation Report</h3>
            
            <div class="chart-container">
                <p style="margin-bottom: 25px; font-weight: bold; color: var(--secondary);">Profile Visualization</p>
                <svg viewBox="0 0 400 300" preserveAspectRatio="xMidYMid meet" id="shape-svg">
                    <!-- Dynamic Shapes will be drawn here -->
                </svg>
                <p class="status-display" id="state-summary">Ready</p>
            </div>

            <div id="steps-container" class="steps-container math-content">
                </div>

            <table class="result-table">
                <thead>
                    <tr>
                        <th colspan="3">Bill of Materials (BOM) Estimate</th>
                    </tr>
                </thead>
                <tbody id="result-table-body">
                    </tbody>
            </table>
            
            <div style="display: flex; justify-content: center; margin-top: 20px;">
                <button type="button" id="clear-results-btn" class="clear-results-btn"><i class="fas fa-times-circle"></i> Clear Report</button>
            </div>
        </div>

        <div id="education-section" class="education-section long-text">
            <h2><i class="fas fa-book-open"></i> The Engineer's Guide to Material Estimation</h2>
            <p>Accurate weight estimation is crucial for logistics, cost estimation, and structural safety. This guide covers the fundamentals of mass calculation and commercial realities.</p>
            
            <div class="content-panel">
                <h3>1. The Fundamental Formula</h3>
                <div class="insight-card">
                    <h4><i class="fas fa-atom"></i> Mass = Volume × Density</h4>
                    <p>The weight of any object is derived from its volume and the material's density. In engineering terms, we calculate Mass ($m$) first, then Weight ($W = m \cdot g$), although "weight" is commonly used to mean mass (kg/lbs) in commerce.</p>
                </div>
                <div class="math-content standard-box">
                    <p class="formula">$$Mass (kg) = Volume (m^3) \times Density (kg/m^3)$$</p>
                    <p>Since dimensions are usually in millimeters ($mm$), we use:</p>
                    <p class="formula">$$Mass (kg) = \frac{Volume (mm^3) \times Density (kg/m^3)}{1,000,000,000}$$</p>
                </div>
            </div>

            <div class="content-panel">
                <h3>2. Theoretical vs. Actual Weight</h3>
                <div class="danger-box">
                    <h4><i class="fas fa-exclamation-triangle"></i> Commercial Tolerances</h4>
                    <p>Calculators provide <strong>Theoretical Weight</strong> based on nominal dimensions. However, real-world steel products have rolling tolerances.</p>
                    <p>For example, steel plates often have a "positive tolerance" on thickness. A 10mm plate might actually be 10.3mm thick. Consequently, <strong>Actual Weight</strong> is often 3-5% higher than theoretical weight. Always add a margin for shipping and lifting calculations.</p>
                </div>
            </div>

            <div class="content-panel">
                <h3>3. Common Material Densities</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Material</th>
                            <th>Density (kg/m³)</th>
                            <th>Density (g/cm³)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Mild Steel</td><td>7850</td><td>7.85</td></tr>
                        <tr><td>Stainless Steel (304)</td><td>7900</td><td>7.90</td></tr>
                        <tr><td>Aluminum (6061)</td><td>2700</td><td>2.70</td></tr>
                        <tr><td>Brass</td><td>8500</td><td>8.50</td></tr>
                        <tr><td>Copper</td><td>8960</td><td>8.96</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="content-panel">
                <h3>4. Shape Formulas</h3>
                <p><strong>Plate/Rectangular Bar:</strong> $V = L \times W \times T$</p>
                <p><strong>Round Bar:</strong> $V = \pi \times r^2 \times L$</p>
                <p><strong>Pipe/Tube:</strong> $V = \pi \times (R_{outer}^2 - R_{inner}^2) \times L$</p>
                <p><strong>Hex Bar:</strong> $V = \frac{3\sqrt{3}}{2} \times a^2 \times L$ (where $a$ is side length, often derived from Across Flats dimension).</p>
            </div>

            <div class="content-panel">
                <h3>5. Purchasing Tips</h3>
                <div class="success-box">
                    <h4><i class="fas fa-shopping-cart"></i> Cost Estimation</h4>
                    <p>Metal is sold by weight. To estimate cost:</p>
                    <p>$$Total Cost = Total Weight (kg) \times Price/kg$$</p>
                    <p>Remember that "cut-to-length" services usually charge for the full bar length or add a cutting fee. Always check if the price is based on theoretical or actual scale weight.</p>
                </div>
            </div>
        </div>
    </main>

        <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const shapeSelect = document.getElementById('shape-select');
            const materialSelect = document.getElementById('material-select');
            const customDensityRow = document.getElementById('custom-density-row');
            const customDensityInput = document.getElementById('custom-density');
            const inputsContainer = document.getElementById('inputs-container');
            const qtyInput = document.getElementById('qty');
            const priceInput = document.getElementById('price');
            const wasteInput = document.getElementById('waste');
            
            const calculateBtn = document.getElementById('calculate-btn');
            const resetFormBtn = document.getElementById('reset-form-btn');
            const clearResultsBtn = document.getElementById('clear-results-btn');
            
            const resultContainer = document.getElementById('result-container');
            const stepsContainer = document.getElementById('steps-container');
            const resultTableBody = document.getElementById('result-table-body');
            const svgContainer = document.getElementById('shape-svg');
            const stateSummary = document.getElementById('state-summary');

            // Input Configs
            const inputConfig = {
                'plate': [
                    {id: 'len', label: 'Length (L)', val: 1000},
                    {id: 'width', label: 'Width (W)', val: 500},
                    {id: 'thk', label: 'Thickness (t)', val: 10}
                ],
                'round': [
                    {id: 'len', label: 'Length (L)', val: 1000},
                    {id: 'dia', label: 'Diameter (D)', val: 50}
                ],
                'square': [
                    {id: 'len', label: 'Length (L)', val: 1000},
                    {id: 'side', label: 'Side (a)', val: 50}
                ],
                'hex': [
                    {id: 'len', label: 'Length (L)', val: 1000},
                    {id: 'af', label: 'A/F Size', val: 50}
                ],
                'pipe': [
                    {id: 'len', label: 'Length (L)', val: 1000},
                    {id: 'od', label: 'Outer Dia (OD)', val: 60},
                    {id: 'wt', label: 'Wall Thk (t)', val: 5}
                ],
                'ibeam': [
                    {id: 'len', label: 'Length (L)', val: 1000},
                    {id: 'height', label: 'Height (H)', val: 200},
                    {id: 'width', label: 'Flange Width (B)', val: 100},
                    {id: 'tw', label: 'Web Thk (tw)', val: 6},
                    {id: 'tf', label: 'Flange Thk (tf)', val: 8}
                ]
            };

            // Render Inputs
            function renderInputs() {
                const shape = shapeSelect.value;
                const fields = inputConfig[shape] || [];
                let html = '';
                
                fields.forEach(field => {
                    html += `
                        <div class="form-group">
                            <label for="${field.id}">${field.label}</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="number" id="${field.id}" step="0.1" value="${field.val}" min="0" required>
                                <span style="padding: 12px; background: var(--border); border-radius: 6px; font-weight: 500;">mm</span>
                            </div>
                        </div>
                    `;
                });
                inputsContainer.innerHTML = html;
            }

            // Material Change Handler
            materialSelect.addEventListener('change', function() {
                if(this.value === 'custom') {
                    customDensityRow.style.display = 'block';
                } else {
                    customDensityRow.style.display = 'none';
                }
            });

            shapeSelect.addEventListener('change', renderInputs);
            renderInputs(); // Init

            function displayMessage(msg, type) {
                const box = document.getElementById('custom-message-box');
                box.textContent = msg;
                box.className = `message-box ${type === 'error' ? 'error' : ''} show`;
                if (type === "error") {
                    box.style.backgroundColor = 'var(--danger)';
                    box.style.color = 'white';
                } else {
                    box.style.backgroundColor = 'var(--success)';
                    box.style.color = 'white';
                }
                setTimeout(() => box.classList.remove('show'), 3000);
            }

            function solveWeight() {
                const shape = shapeSelect.value;
                let density = parseFloat(materialSelect.value);
                if (materialSelect.value === 'custom') {
                    density = parseFloat(customDensityInput.value);
                }
                
                const qty = parseFloat(qtyInput.value);
                const price = parseFloat(priceInput.value);
                const waste = parseFloat(wasteInput.value);
                
                if(isNaN(qty) || qty < 1) { displayMessage("Invalid Quantity", "error"); return; }
                if(isNaN(density) || density <= 0) { displayMessage("Invalid Density", "error"); return; }

                const getVal = (id) => parseFloat(document.getElementById(id).value);
                
                let Volume_mm3 = 0;
                let stepsHtml = '';
                
                try {
                    if (shape === 'plate') {
                        const L = getVal('len');
                        const W = getVal('width');
                        const t = getVal('thk');
                        
                        Volume_mm3 = L * W * t;
                        stepsHtml = generatePlateSteps(L, W, t, Volume_mm3, density);
                        drawRect(W, t); // Draw cross section
                    }
                    else if (shape === 'round') {
                        const L = getVal('len');
                        const D = getVal('dia');
                        
                        Volume_mm3 = (Math.PI / 4) * Math.pow(D, 2) * L;
                        stepsHtml = generateRoundSteps(L, D, Volume_mm3, density);
                        drawCircle(D, false);
                    }
                    else if (shape === 'square') {
                        const L = getVal('len');
                        const a = getVal('side');
                        
                        Volume_mm3 = Math.pow(a, 2) * L;
                        stepsHtml = generateSquareSteps(L, a, Volume_mm3, density);
                        drawRect(a, a);
                    }
                    else if (shape === 'hex') {
                        const L = getVal('len');
                        const af = getVal('af');
                        const Area = 0.866025 * Math.pow(af, 2);
                        Volume_mm3 = Area * L;
                        stepsHtml = generateHexSteps(L, af, Area, Volume_mm3, density);
                        drawHex(af);
                    }
                    else if (shape === 'pipe') {
                        const L = getVal('len');
                        const OD = getVal('od');
                        const t = getVal('wt');
                        const ID = OD - 2*t;
                        
                        if(ID <= 0) { displayMessage("Wall thickness too large.", "error"); return; }
                        
                        const Area = (Math.PI/4) * (Math.pow(OD,2) - Math.pow(ID,2));
                        Volume_mm3 = Area * L;
                        stepsHtml = generatePipeSteps(L, OD, t, ID, Area, Volume_mm3, density);
                        drawCircle(OD, true, t);
                    }
                    else if (shape === 'ibeam') {
                        const L = getVal('len');
                        const H = getVal('height');
                        const B = getVal('width');
                        const tw = getVal('tw');
                        const tf = getVal('tf');
                        
                        const Area = (2 * B * tf) + ((H - 2*tf) * tw);
                        Volume_mm3 = Area * L;
                        stepsHtml = generateBeamSteps(L, H, B, tw, tf, Area, Volume_mm3, density);
                        drawIBeam(B, H, tf, tw);
                    }
                    
                    // Final Calcs
                    const Volume_m3 = Volume_mm3 / 1e9;
                    const Mass_kg = Volume_m3 * density;
                    
                    const TotalMass_Net = Mass_kg * qty;
                    const Margin_Mass = TotalMass_Net * (waste / 100);
                    const TotalMass_Gross = TotalMass_Net + Margin_Mass;
                    
                    const TotalCost = TotalMass_Gross * price;
                    
                    // Add Total Steps
                    stepsHtml += generateTotalSteps(Mass_kg, qty, waste, Margin_Mass, TotalMass_Gross);

                    // Display
                    stepsContainer.innerHTML = stepsHtml;
                    stepsContainer.classList.add('active');
                    
                    // Trigger MathJax LAST to ensure rendering
                    if(window.MathJax) {
                        // Using a small timeout to let DOM settle or just direct call if stable
                        // Targeting both container and steps ensures comprehensive rendering
                        setTimeout(() => {
                             window.MathJax.typesetPromise([resultContainer]).catch(err => console.log(err));
                        }, 50);
                    }
                    
                    resultTableBody.innerHTML = '';
                    addResultRow("Single Unit Weight", `<strong>${Mass_kg.toFixed(3)}</strong>`, "kg");
                    addResultRow("Quantity", qty, "pcs");
                    addResultRow("Net Weight", TotalMass_Net.toFixed(2), "kg");
                    addResultRow("Scrap/Waste Margin", `+${Margin_Mass.toFixed(2)} kg`, `(${waste}%)`);
                    addResultRow("Gross Weight (Billable)", `<strong>${TotalMass_Gross.toFixed(2)}</strong>`, "kg");
                    
                    if(price > 0) {
                        addResultRow("Estimated Cost", `<strong>${TotalCost.toFixed(2)}</strong>`, "Currency");
                    }
                    
                    stateSummary.textContent = `Total: ${TotalMass_Gross.toFixed(1)} kg`;
                    
                    resultContainer.style.display = 'block';
                    setTimeout(() => resultContainer.classList.add('show'), 10);
                    
                } catch (e) {
                    console.error(e);
                    displayMessage("Calculation Error. Check inputs.", "error");
                }
            }

            // --- Visualization Logic ---
            function drawRect(w, h) {
                const max = Math.max(w, h);
                const scale = 180 / max;
                const sw = w * scale;
                const sh = h * scale;
                const x = (400 - sw)/2;
                const y = (300 - sh)/2;
                
                let svg = `<rect x="${x}" y="${y}" width="${sw}" height="${sh}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                svg += drawDim(x, y+sh+10, x+sw, y+sh+10, `W=${w}`);
                svg += drawDim(x-10, y+sh, x-10, y, `T=${h}`, true);
                svgContainer.innerHTML = svg;
            }
            
            function drawCircle(od, hollow, t) {
                const scale = 180 / od;
                const r = (od/2) * scale;
                const cx = 200, cy = 150;
                
                let svg = `<circle cx="${cx}" cy="${cy}" r="${r}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                if(hollow) {
                    const rin = ((od/2) - t) * scale;
                    svg += `<circle cx="${cx}" cy="${cy}" r="${rin}" fill="#fff" stroke="#1E3A8A" stroke-width="1" />`;
                }
                svg += drawDim(cx-r, cy+r+10, cx+r, cy+r+10, `OD=${od}`);
                svgContainer.innerHTML = svg;
            }
            
            function drawHex(af) {
                const R_real = af / Math.sqrt(3);
                const scale = 100 / R_real; // scale to fit
                const R = R_real * scale;
                const cx = 200, cy = 150;
                
                let points = "";
                for(let i=0; i<6; i++) {
                    const angle_rad = (60 * i) * (Math.PI/180);
                    const px = cx + R * Math.cos(angle_rad);
                    const py = cy + R * Math.sin(angle_rad);
                    points += `${px},${py} `;
                }
                
                let svg = `<polygon points="${points}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                svg += `<text x="${cx}" y="${cy+R+20}" text-anchor="middle" fill="#4B5563">AF = ${af}</text>`;
                svgContainer.innerHTML = svg;
            }
            
            function drawIBeam(b, h, tf, tw) {
                const maxDim = Math.max(b, h);
                const scale = 200 / maxDim;
                const sb = b * scale;
                const sh = h * scale;
                const stf = tf * scale;
                const stw = tw * scale;
                
                const x = (400 - sb) / 2;
                const y = (300 - sh) / 2;
                
                const p1x = x, p1y = y;
                const p2x = x + sb, p2y = y;
                const p3x = x + sb, p3y = y + stf;
                const p4x = x + (sb/2) + (stw/2), p4y = y + stf;
                const p5x = p4x, p5y = y + sh - stf;
                const p6x = x + sb, p6y = p5y;
                const p7x = x + sb, p7y = y + sh;
                const p8x = x, p8y = y + sh;
                const p9x = x, p9y = y + sh - stf;
                const p10x = x + (sb/2) - (stw/2), p10y = p5y;
                const p11x = p10x, p11y = p4y;
                const p12x = x, p12y = y + stf;
                
                const d = `M ${p1x},${p1y} L ${p2x},${p2y} L ${p3x},${p3y} L ${p4x},${p4y} L ${p5x},${p5y} L ${p6x},${p6y} L ${p7x},${p7y} L ${p8x},${p8y} L ${p9x},${p9y} L ${p10x},${p10y} L ${p11x},${p11y} L ${p12x},${p12y} Z`;
                
                let svg = `<path d="${d}" fill="#e2e8f0" stroke="#1E3A8A" stroke-width="2" />`;
                svg += drawDim(x, y + sh + 15, x + sb, y + sh + 15, `B=${b}`);
                svg += drawDim(x - 15, y + sh, x - 15, y, `H=${h}`, true);
                
                svgContainer.innerHTML = svg;
            }

            function drawDim(x1, y1, x2, y2, text, vertical=false) {
                const color = "#4B5563";
                let path = `M ${x1},${y1} L ${x2},${y2}`;
                // Arrows
                if(vertical) {
                    path += ` M ${x1-3},${y1-5} L ${x1},${y1} L ${x1+3},${y1-5}`; 
                    path += ` M ${x2-3},${y2+5} L ${x2},${y2} L ${x2+3},${y2+5}`; 
                } else {
                    path += ` M ${x1+5},${y1-3} L ${x1},${y1} L ${x1+5},${y1+3}`;
                    path += ` M ${x2-5},${y2-3} L ${x2},${y2} L ${x2-5},${y2+3}`;
                }
                
                const midX = (x1 + x2) / 2;
                const midY = (y1 + y2) / 2;
                
                let textEl = "";
                if (vertical) {
                    textEl = `<text x="${midX-10}" y="${midY}" fill="${color}" font-size="12" text-anchor="end" alignment-baseline="middle">${text}</text>`;
                } else {
                    textEl = `<text x="${midX}" y="${midY+15}" fill="${color}" font-size="12" text-anchor="middle">${text}</text>`;
                }
                
                return `<path d="${path}" stroke="${color}" stroke-width="1" />${textEl}`;
            }

            // --- Steps Generators ---
            function generatePlateSteps(L, W, t, Vol, rho) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Geometric Analysis</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating the volume of a rectangular prism (Plate).</p>
                            <div class="formula-block">
                                $$V_{mm^3} = L \\times W \\times t$$
                                $$V_{mm^3} = ${L} \\times ${W} \\times ${t} = \\mathbf{${Vol.toExponential(2)} \\text{ mm}^3}$$
                            </div>
                        </div>
                    </div>
                </div>
                ${generateMassStep(Vol, rho)}
                `;
            }

            function generateRoundSteps(L, D, Vol, rho) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Geometric Analysis</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating the volume of a solid cylinder (Round Bar).</p>
                            <div class="formula-block">
                                $$Area = \\frac{\\pi \\times D^2}{4} = \\frac{3.14159 \\times ${D}^2}{4} = ${(Math.PI*D*D/4).toFixed(0)} \\text{ mm}^2$$
                                $$V_{mm^3} = Area \\times Length = \\mathbf{${Vol.toExponential(2)} \\text{ mm}^3}$$
                            </div>
                        </div>
                    </div>
                </div>
                ${generateMassStep(Vol, rho)}
                `;
            }

            function generateSquareSteps(L, a, Vol, rho) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Geometric Analysis</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating the volume of a square bar.</p>
                            <div class="formula-block">
                                $$Area = a^2 = ${a}^2 = ${a*a} \\text{ mm}^2$$
                                $$V_{mm^3} = Area \\times Length = \\mathbf{${Vol.toExponential(2)} \\text{ mm}^3}$$
                            </div>
                        </div>
                    </div>
                </div>
                ${generateMassStep(Vol, rho)}
                `;
            }

            function generateHexSteps(L, af, Area, Vol, rho) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Geometric Analysis</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating Hexagon Area using Across Flats ($AF$) dimension.</p>
                            <div class="formula-block">
                                $$Area \\approx 0.866 \\times AF^2 = 0.866 \\times ${af}^2 = ${Area.toFixed(0)} \\text{ mm}^2$$
                                $$V_{mm^3} = Area \\times Length = \\mathbf{${Vol.toExponential(2)} \\text{ mm}^3}$$
                            </div>
                        </div>
                    </div>
                </div>
                ${generateMassStep(Vol, rho)}
                `;
            }

            function generatePipeSteps(L, OD, t, ID, Area, Vol, rho) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Geometric Analysis</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Calculating the Annular Area (Outer Circle minus Inner Circle).</p>
                            <div class="formula-block">
                                $$ID = OD - 2t = ${OD} - 2(${t}) = ${ID} \\text{ mm}$$
                                $$Area = \\frac{\\pi}{4} (OD^2 - ID^2) = \\frac{\\pi}{4} (${OD}^2 - ${ID}^2) = ${Area.toFixed(0)} \\text{ mm}^2$$
                                $$V_{mm^3} = Area \\times Length = \\mathbf{${Vol.toExponential(2)} \\text{ mm}^3}$$
                            </div>
                        </div>
                    </div>
                </div>
                ${generateMassStep(Vol, rho)}
                `;
            }

            function generateBeamSteps(L, H, B, tw, tf, Area, Vol, rho) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">1</span>Geometric Analysis</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Area summation of the two Flanges and the Web.</p>
                            <div class="formula-block">
                                $$Area_{flanges} = 2 \\times (B \\times t_f) = 2 \\times (${B} \\times ${tf}) = ${(2*B*tf).toFixed(0)} \\text{ mm}^2$$
                                $$Area_{web} = (H - 2t_f) \\times t_w = (${H} - ${2*tf}) \\times ${tw} = ${((H-2*tf)*tw).toFixed(0)} \\text{ mm}^2$$
                                $$V_{mm^3} = (Area_{flanges} + Area_{web}) \\times L = \\mathbf{${Vol.toExponential(2)} \\text{ mm}^3}$$
                            </div>
                        </div>
                    </div>
                </div>
                ${generateMassStep(Vol, rho)}
                `;
            }

            function generateMassStep(Vol_mm3, rho) {
                const Vol_m3 = Vol_mm3 / 1e9;
                const Mass = Vol_m3 * rho;
                return `
                <div class="step-card math-content">
                    <h4><span class="number">2</span>Unit Conversion & Mass</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Converting mm³ to m³ and applying material density ($\rho = ${rho}$ kg/m³).</p>
                            <div class="formula-block">
                                $$V_{m^3} = \\frac{V_{mm^3}}{10^9} = \\frac{${Vol_mm3.toExponential(2)}}{1,000,000,000} = ${Vol_m3.toExponential(4)} \\text{ m}^3$$
                                $$Mass = V_{m^3} \\times \\rho = ${Vol_m3.toExponential(4)} \\times ${rho} = \\mathbf{${Mass.toFixed(3)} \\text{ kg}}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function generateTotalSteps(mass, qty, waste, margin_mass, total_gross) {
                return `
                <div class="step-card math-content">
                    <h4><span class="number">3</span>Commercial Totals</h4>
                    <div class="step-content">
                        <div class="step-explanation">
                            <p>Applying Quantity and Waste Margin (${waste}%).</p>
                            <div class="formula-block">
                                $$Net = ${mass.toFixed(3)} \\text{ kg} \\times ${qty} = ${(mass*qty).toFixed(2)} \\text{ kg}$$
                                $$Margin = Net \\times \\frac{${waste}}{100} = ${(margin_mass).toFixed(2)} \\text{ kg}$$
                                $$Gross = Net + Margin = \\mathbf{${total_gross.toFixed(2)} \\text{ kg}}$$
                            </div>
                        </div>
                    </div>
                </div>`;
            }

            function addResultRow(label, val1, val2) {
                const row = resultTableBody.insertRow();
                row.insertCell().innerHTML = `<strong>${label}</strong>`;
                row.insertCell().innerHTML = val1;
                row.insertCell().innerHTML = val2;
            }

            // Init
            calculateBtn.addEventListener('click', solveWeight);
            resetFormBtn.addEventListener('click', () => {
                document.getElementById('weight-calculator-form').reset();
                renderInputs();
                resultContainer.style.display = 'none';
            });
            clearResultsBtn.addEventListener('click', () => {
                resultContainer.style.display = 'none';
            });
            
            // Theme toggle logic (Inherited)
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-mode');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.body.classList.remove('dark-mode');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        });
    </script>
</body>
</html>
