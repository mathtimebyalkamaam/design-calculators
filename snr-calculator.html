<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signal-to-Noise Ratio (SNR) Calculator - Design Calculators - Instrumentation</title>
    <link rel="canonical" href="https://designcalculators.co.in/snr-calculator.html" />
    <!-- SEO Meta Tags -->
    <meta name="description" content="Professional calculator for Signal-to-Noise Ratio (SNR) in dB and as a ratio. Understand and improve signal quality in instrumentation and control systems.">
    <meta name="keywords" content="snr calculator, signal-to-noise ratio, db, signal quality, instrumentation, emi, rfi, grounding, signal integrity">
    <meta name="author" content="Design Calculators">
    <meta name="robots" content="index, follow">
    <!-- AdSense & Analytics -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-23Y1V450SR');
    </script>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax for Formulas -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']]
            },
            svg: { fontCache: 'global' },
            options: {
                processHtmlClass: 'math-content', // Process elements with this class
                ignoreHtmlClass: 'no-mathjax'     // Ignore elements with this class
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- PDF Generation (Not used by this tool, but part of header) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.3/jspdf.plugin.autotable.min.js"></script>
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <style>
        /* Base Styles from new header */
        :root {
            --primary: #1E3A8A;
            --secondary: #2563EB;
            --accent: #F59E0B;
            --success: #10B981;
            --danger: #DC2626;
            --warning: #F59E0B;
            --bg: #F8FAFC;
            --card: #FFFFFF;
            --text: #4B5563;
            --heading: #111827;
            --footer-bg: #0F172A;
            --border: #E2E8F0;
            --grad: linear-gradient(135deg, var(--primary), var(--secondary));
            --grad-dark: linear-gradient(135deg, #0F172A, #1E293B);
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode {
            --primary: #10B981;
            --secondary: #34D399;
            --bg: #0F172A;
            --card: #1E293B;
            --text: #CBD5E1;
            --heading: #F1F5F9;
            --footer-bg: #020617;
            --border: #334155;
        }

        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.7;
            margin: 0;
            padding: 0;
        }

        .container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

        /* Header & Nav */
        header {
            background: var(--grad);
            color: white;
            padding: 24px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: white;
        }
        .logo-text {
            font-size: 1.75rem;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
        }
        .logo-subtitle {
            font-size: 0.8rem;
            margin: 4px 0 0 0;
            color: #E0E7FF;
            opacity: 0.9;
        }
        .nav-links {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--accent); }
        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .switch {
            position: relative;
            width: 56px;
            height: 30px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.2);
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--accent);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        /* Main Content & Cards */
        main { padding: 40px 0; }
        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        /* Applied to the tool container */
        .tool-container {
            background: var(--card);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        .tool-description {
            margin-bottom: 20px;
            color: var(--text);
            font-size: 1.05rem;
        }
        h2 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 15px;
            margin-top: 0;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        h3 {
            color: var(--heading);
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            margin-top: 25px;
            margin-bottom: 20px;
        }
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--heading);
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background-color: var(--bg);
            color: var(--text);
            font-size: 1rem;
        }
        .form-group input:focus,
        .form-group select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }
        body.dark-mode .form-group input:focus {
             box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        .calculator-form {
            background-color: var(--card);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
         .form-section {
            background-color: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 25px; /* Space between sections */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            opacity: 0; /* Initial state for fade-in animation */
            transform: translateY(10px); /* Initial state for slide-up animation */
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .form-section.fade-in {
            opacity: 1;
            transform: translateY(0);
        }
        .form-section h3 {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px dashed var(--border);
            padding-bottom: 10px;
        }
        .btn {
            background: var(--grad);
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
            transition: all 0.3s;
            width: 100%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
        }
        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .btn-group .btn {
            flex: 1;
            min-width: 150px;
        }
        .btn.secondary {
            background: var(--secondary);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        .btn.accent {
            background: var(--accent);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }
        

        /* CALCULATION STEPS DISPLAY */
        .steps-container {
            display: none;
            margin-top: 30px;
        }
        .steps-container.active {
            display: block;
        }
        .step-card {
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box; /* v6 */
            background: var(--card);
            border-radius: 12px;
            padding: 25px 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            animation: slideIn 0.6s ease-out;
            transition: all 0.3s;
            margin-bottom: 25px; /* Spacing between cards */
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        .step-card h4 {
            color: var(--primary);
            margin: 0 0 20px 0;
            font-size: 1.4rem;
            font-family: 'Montserrat', sans-serif;
            display: block; /* Changed from flex */
        }
        .step-card h4::after {
            content: "";
            display: table;
            clear: both;
        }
        .step-card .number {
            float: left; /* Changed to float */
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 700;
            margin-right: 15px;
            font-size: 1.3rem;
            /* Removed flex-shrink */
        }
        .step-content {
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box; /* v6 */
            display: grid;
            grid-template-columns: 1fr !important;
            gap: 25px;
            align-items: start;
        }
        .step-content > * { min-width: 0; }
        .step-content .formula-block {
            background: var(--bg);
            border-radius: 8px;
            padding: 20px;
            font-size: 1rem;
            border: 1px solid var(--border);
        }
        .step-content .formula-block p {
            margin-top: 0;
        }
        .step-content .formula {
            background: var(--bg);
            border-left: 3px solid var(--accent);
            padding: 15px;
            margin: 12px 0;
            font-size: 1rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .step-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--success);
            margin: 10px 0;
            line-height: 1.2;
        }
        .step-unit {
            font-size: 1rem;
            color: var(--text);
            opacity: 0.8;
            font-weight: 500;
            margin-left: 5px;
        }
        .step-explanation {
            font-size: 1.05rem;
            line-height: 1.8;
        }

        /* Results */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-radius: 8px;
            overflow: hidden;
        }
        .results-table th,
        .results-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        .results-table th {
            background: var(--grad);
            color: white;
            font-weight: 700;
        }
        .results-table tr:nth-child(even) {
            background-color: var(--bg);
        }
        .results-table td:first-child {
            font-weight: 600;
            color: var(--heading);
        }
        .results-table .highlight {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--success);
        }
        .results-table .warning {
            font-weight: 700;
            color: var(--warning);
        }
         .results-table .error {
            font-weight: 700;
            color: var(--danger);
        }

        /* Educational Section */
        .education-section {
            margin-top: 60px;
        }
        .insight-card {
            background: linear-gradient(135deg, var(--card), rgba(37,99,235,0.03));
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        .insight-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .insight-card h4 {
            color: var(--secondary);
            font-size: 1.3rem;
            margin: 0 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .insight-card h4 i {
            font-size: 1.5rem;
        }
        .insight-card p {
            margin: 10px 0;
            line-height: 1.8;
        }
        .insight-card ol,
        .insight-card ul {
            padding-left: 20px;
            margin: 10px 0;
        }
        .insight-card li {
            margin-bottom: 10px;
        }
        .stat-highlight {
            display: inline-block;
            background: var(--accent);
            color: #333;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 700;
            margin: 0 4px;
        }
        .danger-box {
            background: linear-gradient(135deg, rgba(220,38,38,0.1), rgba(220,38,38,0.05));
            border-left: 5px solid var(--danger);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .danger-box h4 {
            color: var(--danger);
            margin-top: 0;
        }
        .success-box {
            background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05));
            border-left: 5px solid var(--success);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .success-box h4 {
            color: var(--success);
            margin-top: 0;
        }

        /* Message Box */
        .message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 16px 28px;
            border-radius: 8px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
            z-index: 10000;
            font-weight: 600;
            color: white;
            opacity: 0;
            transition: all 0.4s;
            display: none;
        }
        .message-box.show {
            display: block;
            opacity: 1;
            top: 30px;
        }

        /* Footer */
        footer {
            background: var(--grad-dark);
            color: #CBD5E1;
            padding: 50px 0 20px 0;
            margin-top: 60px;
        }
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 30px;
        }
        .footer-col {
            flex: 1;
            min-width: 200px;
        }
        .footer-col h4 {
            color: white;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .footer-col ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-col a {
            color: #CBD5E1;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-col a:hover {
            color: var(--accent);
        }
        .social-buttons {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        .social-btn {
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border-radius: 50%;
            font-size: 1.1rem;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .social-btn:hover {
            transform: translateY(-4px);
        }
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.youtube { background-color: #FF0000; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .footer-disclaimer {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid #334155;
            max-width: 800px;
            margin: 0 auto;
            font-size: 0.9rem;
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            font-size: 0.9rem;
            color: #94A3B8;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            .navbar { flex-direction: column; gap: 20px; }
            .nav-links { flex-direction: column; gap: 12px; text-align: center; }
            .form-row { grid-template-columns: 1fr; }
            .card { padding: 20px; }
            .footer-content { flex-direction: column; gap: 25px; }
            .btn-group { flex-direction: column; }
        }
        .hidden { display: none; }
        
        /* Tooltip */
        .info-icon {
            color: var(--primary);
            margin-left: 5px;
            cursor: help;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px; /* Adjusted width */
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px; /* Increased padding */
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -125px; /* Half of width */
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(10px);
            font-family: 'Inter', sans-serif; /* Professional font */
            font-size: 0.85rem; /* Slightly smaller font size */
            line-height: 1.4; /* Better readability */
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }

        /* ----- From Old File: Specific SNR Styles ----- */
        
        /* Status Display (for SNR) */
        .status-display {
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 15px;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.5s, color 0.5s;
            text-align: center;
            width: 100%;
        }
        .status-display.excellent {
            background-color: var(--success);
            color: white;
        }
        .status-display.very-good {
            background-color: #34D399; /* Lighter green from new theme */
            color: white;
        }
        .status-display.good {
            background-color: #60A5FA; /* Lighter blue from new theme */
            color: var(--heading);
        }
        .status-display.marginal {
            background-color: var(--warning);
            color: #333;
        }
        .status-display.poor {
            background-color: var(--danger);
            color: white;
        }

        /* Practical Recommendations Section */
        #practical-recommendations {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            background-color: var(--bg);
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            color: var(--text);
            border: 1px solid var(--border);
        }
        #practical-recommendations h4 {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px dashed var(--border);
            padding-bottom: 10px;
        }
        #practical-recommendations ul {
            list-style-type: disc;
            margin-left: 25px;
            padding-left: 0;
        }
        #practical-recommendations ul li {
            margin-bottom: 8px;
        }
        
    </style>
    <link rel="stylesheet" href="styles.css">
    <meta property="og:title" content="Signal-to-Noise Ratio (SNR) Calculator - Design Calculators - Instrumentation">
    <meta property="og:description" content="Professional calculator for Signal-to-Noise Ratio (SNR) in dB and as a ratio. Understand and improve signal quality in instrumentation and control systems.">
</head>
<body>
    <div id="message-box" class="message-box"></div>

    <header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

    <main class="container">
                
        <div class="tool-container">
            <h2><i class="fas fa-signal"></i> Signal-to-Noise Ratio (SNR) Calculator</h2>
                        
            <div class="tool-description">
                <p>This calculator helps instrument engineers assess the integrity of a signal in the presence of noise. It provides Signal-to-Noise Ratio (SNR) calculations based on various input parameters, offering insights into signal quality and compliance with common industry standards for reliable measurement and control systems.</p>
            </div>
                    
            <div class="calculator-form">
                <form id="snr-calculator-form">
                    <!-- Signal Input -->
                    <div class="form-section">
                        <h3>Signal Parameters</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="signal-value">Signal Value <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">The magnitude of the desired signal.</span></span></label>
                                <input type="number" id="signal-value" step="any" value="1.0" required>
                            </div>
                            <div class="form-group">
                                <label for="signal-unit">Signal Unit</label>
                                <select id="signal-unit" required>
                                    <option value="V">Volts (V)</option>
                                    <option value="mV">Millivolts (mV)</option>
                                    <option value="A">Amperes (A)</option>
                                    <option value="mA">Milliamperes (mA)</option>
                                    <option value="W">Watts (W)</option>
                                    <option value="mW">Milliwatts (mW)</option>
                                    <option value="dBm">dBm</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Noise Input -->
                    <div class="form-section">
                        <h3>Noise Parameters</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="noise-value">Noise Value <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">The magnitude of the unwanted noise.</span></span></label>
                                <input type="number" id="noise-value" step="any" value="0.001" required>
                            </div>
                            <div class="form-group">
                                <label for="noise-unit">Noise Unit</label>
                                <select id="noise-unit" required>
                                    <option value="V">Volts (V)</option>
                                    <option value="mV">Millivolts (mV)</option>
                                    <option value="A">Amperes (A)</option>
                                    <option value="mA">Milliamperes (mA)</option>
                                    <option value="W">Watts (W)</option>
                                    <option value="mW">Milliwatts (mW)</option>
                                    <option value="dBm">dBm</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Impedance (Conditional) -->
                    <div class="form-section" id="impedance-section" style="display: none;">
                        <h3>Circuit Impedance</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="impedance">Impedance (R) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Load impedance for voltage/current calculations (Ohms). Required if signal or noise is in V, mV, A, or mA.</span></span></label>
                                <input type="number" id="impedance" step="0.1" value="50" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="btn-group" style="margin-top: 25px;">
                        <button type="button" id="calculate-btn" class="btn"><i class="fas fa-calculator"></i> Calculate SNR</button>
                        <button type="button" id="reset-form-btn" class="btn accent"><i class="fas fa-sync-alt"></i> Reset Form</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- NEW Step-by-Step Results Container -->
        <div id="steps-container" class="steps-container math-content">
            <!-- Step cards will be dynamically inserted here -->
        </div>

        <!-- Updated Results Section (was result-container) -->
        <div id="results-section" class="card hidden">
            <h3><i class="fas fa-clipboard-check"></i> Calculation Summary</h3>
            
            <p class="status-display" id="snr-status-display">SNR Status: N/A</p>

            <table class="results-table">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody id="result-table-body">
                    <!-- Results will be dynamically inserted here -->
                </tbody>
            </table>

            <div id="practical-recommendations" style="display: none;">
                <h4><i class="fas fa-tools"></i> Practical Recommendations for Improving SNR</h4>
                <ul id="recommendations-list">
                    <!-- Recommendations will be dynamically inserted here -->
                </ul>
            </div>

            <div class="btn-group" style="justify-content: center; margin-top: 20px;">
                <button type="button" id="clear-results-btn" class="btn accent"><i class="fas fa-times-circle"></i> Clear Results</button>
            </div>

            <div class="insight-card" id="standard-reference" style="margin-top: 30px;">
                 <h4><i class="fas fa-book"></i> Applicable Standards and Guidelines</h4>
                 <p>A higher SNR generally indicates a better quality signal. For many industrial applications, an SNR of <strong>20 dB</strong> (a ratio of 100:1) or higher is considered good, while <strong>30 dB</strong> (1000:1) or higher is excellent. However, acceptable SNR levels can vary significantly based on the specific application, industry, and communication protocol (e.g., analog vs. digital, type of sensor, control system requirements). Consult relevant industry standards such as IEC 60060, IEEE 100, or specific fieldbus specifications (e.g., HART, Foundation Fieldbus) for detailed requirements.</p>
            </div>
        </div>
        
        <!-- NEW Educational Section on SNR -->
        <div id="education-section" class="education-section card">
            <h2><i class="fas fa-signal"></i> The Signal & The Noise: Why SNR is Critical</h2>
            
            <div class="tool-description">
                <p><strong>Signal-to-Noise Ratio (SNR)</strong> is one of the most important concepts in all of engineering. It's a simple measurement that answers a critical question: "How much stronger is my real, wanted signal compared to all the unwanted background noise?"</p>
                <p>Think of it as the "cocktail party effect." In a quiet room, you can easily hear a person whispering (a high SNR). In a loud, crowded party, that same person has to shout for you to understand them. The "noise" of the crowd is drowning out the "signal" of their voice. In instrumentation, your 4-20mA or millivolt signal is the "voice," and the "crowd" is the electrical interference from all the motors, radios, and bad wiring in your plant.</p>
                [Image of a clean sine wave labeled 'Signal' and a chaotic wave labeled 'Noise', followed by a third wave showing the 'Signal + Noise'
                ]
            </div>

            <div class="insight-card">
                <h4><i class="fas fa-bolt"></i> Where Does "Noise" Come From in a Plant?</h4>
                <p>Noise isn't random. It's the unwanted (but often unavoidable) electrical byproduct of an industrial environment. The most common culprits are:</p>
                <ul>
                    <li>
                        <strong>EMI/RFI (Electromagnetic & Radio-Frequency Interference):</strong> This is the "loud crowd." Variable Frequency Drives (VFDs), large motors starting, welders, and even two-way radios create massive electrical fields that "jump" onto your signal wires.
                    </li>
                    <li>
                        <strong>Ground Loops:</strong> This is the #1 most common (and most-misunderstood) problem. If a single signal cable is grounded at two different points (e.g., at the sensor and at the PLC), and those two "ground" points are at slightly different electrical potentials (e.g., 0V at one end, 0.5V at the other), a current *will* flow through the cable shield. This "loop" acts like an antenna, perfectly *injecting* 50/60Hz noise directly into your signal.
                    </li>
                    <li>
                        <strong>Thermal Noise (Johnson-Nyquist Noise):</strong> The simple, random movement of electrons in *all* conductors (even wires) creates a small, fundamental amount of noise. This is the "floor" of noise you can never get below, and it's worse at higher temperatures.
                    </li>
                    <li>
                        <strong>Power Supply Ripple:</strong> A "dirty" or failing 24V DC power supply can introduce its own AC ripple onto every instrument it powers, contaminating the signal from the start.
                    </li>
                </ul>
            </div>

            <div class="success-box">
                <h4><i class="fas fa-check-circle"></i> The Significance: What Good Tuning Achieves</h4>
                <ol>
                    <li><strong>Measurement Accuracy:</strong> A high SNR is the foundation of accuracy. If you have a 10V signal with 1V of noise (a terrible 10:1 ratio, or 10 dB), your reading is really "10V ± 1V." You have 10% uncertainty! If you have a 10V signal with 0.01V of noise (a great 1000:1 ratio, or 30 dB), your reading is trustworthy.</li>
                    
                    <li><strong>Process Stability (PID Control):</strong> This is the most critical link. A noisy signal is poison for a PID controller. The "P" (Proportional) term reacts to the noise, but the "D" (Derivative) term goes *insane*. The 'D' term looks at the "rate of change," and a noisy signal is changing *constantly*. The controller will think the process is in chaos, and it will "chatter" the control valve, rapidly opening and closing it to catch "errors" that don't exist.</li>
                    
                    <li><strong>Reduced Equipment Wear & Tear:</strong> That "chattering" valve isn't just bad for control—it's physically destroying the valve's internals. The stem, packing, and actuator are moving nonstop, 24/7. A clean signal (high SNR) leads to a calm controller and a long, stable life for your expensive final control elements.</li>
                    
                    <li><strong>Safety & Alarming:</strong> Imagine a "High-Pressure" alarm set at 90 psi. If your signal is 88 psi but has 3 psi of noise (88 ± 3), it will constantly "falsely" cross the 90 psi threshold, creating a storm of nuisance alarms. Operators will become fatigued and may silence or ignore the alarm—a disaster when the *real* pressure event happens.</li>
                    
                    <li><strong>Digital Communication Integrity:</strong> For digital protocols like HART, Foundation Fieldbus, or Profibus, a low SNR doesn't just make the reading "fuzzy"—it corrupts the entire data packet. This leads to lost messages, re-transmissions, and, ultimately, a total loss of communication with the device.</li>
                </ol>
            </div>

            <div class="insight-card">
                <h4><i class="fas fa-shield-alt"></i> How to Win the War Against Noise (Improving SNR)</h4>
                <p>You can't eliminate noise, but you can win the war by following these rules:</p>
                <ul>
                    <li><strong>Shielding & Grounding:</strong> Use shielded, twisted-pair cables for all analog signals. The "twist" helps cancel out EMI. The "shield" (foil or braid) acts like a barrier. **Crucially, ground the shield at *one end only*** (typically the control system end) to drain noise without creating a ground loop.</li>
                    <li><strong>Separation:</strong> Never run your instrument signal cables in the same tray or conduit as high-voltage power cables (especially VFDs). Keep them in separate, dedicated trays, crossing at 90-degree angles if you must cross at all.</li>
                    <li><strong>Filtering:</strong> Use filters to remove noise. A simple "low-pass filter" (which can be a setting in your PLC/DCS) ignores fast-changing "noise" and only pays attention to the "slow-moving" real process. This adds a tiny lag but massively improves signal quality.</li>
                    <li><strong>Isolation:</strong> If you have a stubborn ground loop, use a "galvanic isolator." This device passes the signal through (often using light) but creates a physical air gap that makes it *impossible* for ground loop currents to flow.</li>
                </ul>
                <p>In short, a high SNR isn't a "nice-to-have." It is the fundamental prerequisite for any safe, stable, and accurate automated process.</p>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
        <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Elements ---
            const signalValueInput = document.getElementById('signal-value');
            const signalUnitSelect = document.getElementById('signal-unit');
            const noiseValueInput = document.getElementById('noise-value');
            const noiseUnitSelect = document.getElementById('noise-unit');
            const impedanceInput = document.getElementById('impedance');

            const impedanceSection = document.getElementById('impedance-section');
            const practicalRecommendationsDiv = document.getElementById('practical-recommendations');
            const recommendationsList = document.getElementById('recommendations-list');

            const calculateBtn = document.getElementById('calculate-btn');
            const resetFormBtn = document.getElementById('reset-form-btn');
            const clearResultsBtn = document.getElementById('clear-results-btn');
            
            const resultsSection = document.getElementById('results-section');
            const stepsContainer = document.getElementById('steps-container');
            const resultTableBody = document.getElementById('result-table-body');
            const snrStatusDisplay = document.getElementById('snr-status-display');
            
            const messageBox = document.getElementById('message-box');

            // --- Default values ---
            const defaultValues = {
                'signal-value': 1.0,
                'signal-unit': 'V',
                'noise-value': 0.001,
                'noise-unit': 'V',
                'impedance': 50
            };

            // --- Standard showMessage function ---
            function showMessage(msg, type = 'success') {
                messageBox.textContent = msg;
                if (type === 'error') {
                    messageBox.style.backgroundColor = 'var(--danger)';
                } else if (type === 'warning') {
                     messageBox.style.backgroundColor = 'var(--warning)';
                     messageBox.style.color = '#333';
                } else {
                    messageBox.style.backgroundColor = 'var(--success)';
                    messageBox.style.color = 'white';
                }
                messageBox.classList.add('show');
                setTimeout(() => messageBox.classList.remove('show'), 4000);
            }

            // --- Helper: Add row to summary table ---
            function addResultRow(parameter, value, statusClass = '') {
                const row = resultTableBody.insertRow();
                const paramCell = row.insertCell();
                const valueCell = row.insertCell();
                paramCell.innerHTML = parameter;
                valueCell.innerHTML = value;
                if (statusClass) {
                    valueCell.classList.add(statusClass);
                }
            }

            // --- Helper: Clear all results ---
            function clearResults() {
                resultsSection.classList.add('hidden');
                stepsContainer.innerHTML = '';
                stepsContainer.classList.remove('active');
                resultTableBody.innerHTML = '';
                snrStatusDisplay.textContent = 'SNR Status: N/A';
                snrStatusDisplay.className = 'status-display';
                practicalRecommendationsDiv.style.display = 'none';
                recommendationsList.innerHTML = '';
                
                showMessage("Results cleared.", "success");
            }

            // --- Helper: Reset form ---
            function resetForm() {
                for (const key in defaultValues) {
                    const input = document.getElementById(key);
                    if (input) {
                        input.value = defaultValues[key];
                    }
                }
                updateImpedanceSectionVisibility(); // Reset visibility
                clearResults();
                showMessage("Form reset to default values.", "success");
            }

            // --- Helper: Update Impedance Visibility ---
            function updateImpedanceSectionVisibility() {
                const signalUnit = signalUnitSelect.value;
                const noiseUnit = noiseUnitSelect.value;
                const requiresImpedance = (unit) => ['V', 'mV', 'A', 'mA'].includes(unit);
                
                if (requiresImpedance(signalUnit) || requiresImpedance(noiseUnit)) {
                    impedanceSection.style.display = 'block';
                } else {
                    impedanceSection.style.display = 'none';
                    // We don't reset the value, just hide it. The calculation will ignore it if not needed.
                }
            }

            // --- Helper: Convert to Watts ---
            // Returns [powerInWatts, conversionStepString]
            function convertToWatts(value, unit, impedance) {
                let powerInWatts, conversionStep;
                const V = value / 1000; // for mV
                const A = value / 1000; // for mA

                switch (unit) {
                    case 'V':
                        powerInWatts = (value * value) / impedance;
                        conversionStep = `P = V<sup>2</sup> / R = ${value}<sup>2</sup> / ${impedance} = ${powerInWatts.toExponential(4)} W`;
                        break;
                    case 'mV':
                        powerInWatts = (V * V) / impedance;
                        conversionStep = `P = (mV/1000)<sup>2</sup> / R = (${value}/1000)<sup>2</sup> / ${impedance} = ${powerInWatts.toExponential(4)} W`;
                        break;
                    case 'A':
                        powerInWatts = (value * value) * impedance;
                        conversionStep = `P = I<sup>2</sup> * R = ${value}<sup>2</sup> * ${impedance} = ${powerInWatts.toExponential(4)} W`;
                        break;
                    case 'mA':
                        powerInWatts = (A * A) * impedance;
                        conversionStep = `P = (mA/1000)<sup>2</sup> * R = (${value}/1000)<sup>2</sup> * ${impedance} = ${powerInWatts.toExponential(4)} W`;
                        break;
                    case 'W':
                        powerInWatts = value;
                        conversionStep = `Input is already in Watts: ${value} W`;
                        break;
                    case 'mW':
                        powerInWatts = value / 1000;
                        conversionStep = `P = ${value} mW / 1000 = ${powerInWatts.toExponential(4)} W`;
                        break;
                    case 'dBm':
                        powerInWatts = Math.pow(10, (value - 30) / 10); // 0 dBm = 1 mW
                        conversionStep = `P = 10<sup>((dBm - 30) / 10)</sup> = 10<sup>((${value} - 30) / 10)</sup> = ${powerInWatts.toExponential(4)} W`;
                        break;
                    default:
                        throw new Error('Unsupported unit for conversion.');
                }
                return [powerInWatts, conversionStep];
            }

            // --- Event Listeners ---
            signalUnitSelect.addEventListener('change', updateImpedanceSectionVisibility);
            noiseUnitSelect.addEventListener('change', updateImpedanceSectionVisibility);
            calculateBtn.addEventListener('click', calculateSNR);
            resetFormBtn.addEventListener('click', resetForm);
            clearResultsBtn.addEventListener('click', clearResults);

            // --- Main Calculation Function ---
            function calculateSNR() {
                // Clear previous results but don't show message yet
                resultsSection.classList.add('hidden');
                stepsContainer.innerHTML = '';
                stepsContainer.classList.remove('active');
                resultTableBody.innerHTML = '';

                try {
                    // --- 1. Get All Inputs ---
                    const signalValue = parseFloat(signalValueInput.value);
                    const signalUnit = signalUnitSelect.value;
                    const noiseValue = parseFloat(noiseValueInput.value);
                    const noiseUnit = noiseUnitSelect.value;
                    let impedance = parseFloat(impedanceInput.value);

                    // --- 2. Input Validation ---
                    if (isNaN(signalValue) || isNaN(noiseValue) || signalValue < 0 || noiseValue < 0) {
                        throw new Error('Please enter valid non-negative numerical values for signal and noise.');
                    }
                    
                    const requiresImpedance = (unit) => ['V', 'mV', 'A', 'mA'].includes(unit);
                    const impedanceNeeded = requiresImpedance(signalUnit) || requiresImpedance(noiseUnit);
                    
                    if (impedanceNeeded) {
                        if (isNaN(impedance) || impedance <= 0) {
                            throw new Error('Impedance is required for Voltage/Current inputs and must be a positive value.');
                        }
                    } else {
                        impedance = 1; // Set dummy value if not needed, won't be used in W, mW, dBm calcs
                    }

                    // --- 3. Perform Calculations & Build Step Cards ---
                    let stepsHtml = '';

                    const [P_signal_watts, signalStep] = convertToWatts(signalValue, signalUnit, impedance);
                    const [P_noise_watts, noiseStep] = convertToWatts(noiseValue, noiseUnit, impedance);

                    if (P_noise_watts === 0) {
                        throw new Error('Noise power cannot be zero. SNR would be infinite.');
                    }
                    if (P_signal_watts === 0 && P_noise_watts > 0) {
                        throw new Error('Signal power is zero. SNR cannot be calculated meaningfully.');
                    }

                    const snr_ratio = P_signal_watts / P_noise_watts;
                    const snr_db = 10 * Math.log10(snr_ratio);

                    // Build Step 1: Inputs
                    stepsHtml += `<div class="step-card">
                        <h4><span class="number">1</span>Input Parameters</h4>
                        <div class="step-content">
                            <div class="step-explanation">
                                <strong>Signal:</strong> ${signalValue} ${signalUnit}<br>
                                <strong>Noise:</strong> ${noiseValue} ${noiseUnit}<br>
                                <strong>Impedance:</strong> ${impedanceNeeded ? `${impedance} &Omega;` : 'N/A'}
                            </div>
                            <div class="step-explanation">
                                <p>The goal is to convert both signal and noise into the common unit of <strong>Watts (W)</strong> to find their ratio.</p>
                            </div>
                        </div>
                    </div>`;
                    
                    // Build Step 2: Power Conversion
                    stepsHtml += `<div class="step-card">
                        <h4><span class="number">2</span>Power Conversion to Watts (W)</h4>
                        <div class="step-content">
                            <div class="step-explanation">
                                <p><strong>Signal Power (P<sub>signal</sub>):</strong></p>
                                <p class="formula">${signalStep}</p>
                            </div>
                            <div class="step-explanation">
                                <p><strong>Noise Power (P<sub>noise</sub>):</strong></p>
                                <p class="formula">${noiseStep}</p>
                            </div>
                        </div>
                    </div>`;
                    
                    // Build Step 3: SNR Ratio
                    stepsHtml += `<div class="step-card math-content">
                        <h4><span class="number">3</span>Calculate SNR (Ratio)</h4>
                        <div class="step-content">
                            <div class="step-explanation">
                                <p>The SNR ratio is the simple division of signal power by noise power.</p>
                                <p class="formula">$$SNR_{ratio} = \frac{P_{signal}}{P_{noise}}$$</p>
                                <p class="formula">${P_signal_watts.toExponential(4)} W / ${P_noise_watts.toExponential(4)} W</p>
                            </div>
                            <div>
                                <p><strong>SNR Ratio:</strong></p>
                                <div class="step-value">${snr_ratio.toPrecision(4)}<span class="step-unit">(unitless)</span></div>
                            </div>
                        </div>
                    </div>`;

                    // Build Step 4: SNR in Decibels (dB)
                    stepsHtml += `<div class="step-card math-content">
                        <h4><span class="number">4</span>Calculate SNR (Decibels)</h4>
                        <div class="step-content">
                            <div class="step-explanation">
                                <p>Engineers almost always use decibels (dB), a logarithmic scale, to express SNR.</p>
                                <p class="formula">$$SNR_{dB} = 10 \times \log_{10}(SNR_{ratio})$$</p>
                                <p class="formula">10 * log<sub>10</sub>(${snr_ratio.toPrecision(4)})</p>
                            </div>
                            <div>
                                <p><strong>Final SNR (dB):</strong></p>
                                <div class="step-value">${snr_db.toFixed(2)}<span class="step-unit">dB</span></div>
                            </div>
                        </div>
                    </div>`;
                    
                    // --- 4. Populate DOM ---
                    stepsContainer.innerHTML = stepsHtml;
                    stepsContainer.classList.add('active');

                    // Populate Summary Table
                    addResultRow("Signal Power (P<sub>signal</sub>)", `${P_signal_watts.toExponential(4)} W`);
                    addResultRow("Noise Power (P<sub>noise</sub>)", `${P_noise_watts.toExponential(4)} W`);
                    addResultRow("SNR (Ratio)", snr_ratio.toPrecision(4));
                    addResultRow("<strong>SNR (dB)</strong>", `<strong>${snr_db.toFixed(2)} dB</strong>`, 'highlight');

                    // Update Status Display and Recommendations
                    let statusText = 'SNR Status: ';
                    let statusClass = 'status-display ';
                    let recommendations = [];

                    if (snr_db >= 40) {
                        statusText += 'Excellent Signal Quality';
                        statusClass += 'excellent';
                        recommendations.push("Current signal quality is excellent. Maintain existing design and practices.");
                    } else if (snr_db >= 30) {
                        statusText += 'Very Good Signal Quality';
                        statusClass += 'very-good';
                        recommendations.push("Signal quality is very good. Continue with robust design practices.");
                    } else if (snr_db >= 20) {
                        statusText += 'Good Signal Quality';
                        statusClass += 'good';
                        recommendations.push("Signal quality is good. Consider reviewing noise sources for potential minor improvements.");
                        recommendations.push("Ensure proper grounding and shielding of cables, especially for analog signals.");
                    } else if (snr_db >= 10) {
                        statusText += 'Marginal Signal Quality (May require attention)';
                        statusClass += 'marginal';
                        recommendations.push("Signal quality is marginal. Noise may impact reliability. Strong recommendations:");
                        recommendations.push("Implement effective shielding and grounding techniques (e.g., star grounding).");
                        recommendations.push("Use twisted pair cables for differential signals to reduce common-mode noise.");
                        recommendations.push("Consider increasing signal strength at the source if feasible.");
                    } else { // snr_db < 10
                        statusText += 'Poor Signal Quality (Requires immediate attention)';
                        statusClass += 'poor';
                        recommendations.push("Signal quality is poor. Significant data corruption or measurement errors are likely. Immediate action is required:");
                        recommendations.push("Thoroughly investigate and identify major noise sources (EMI, RFI, ground loops).");
                        recommendations.push("Utilize isolation barriers (e.g., optical isolators) to break ground loops.");
                        recommendations.push("Minimize cable lengths and avoid running signal cables parallel to high-power cables.");
                    }
                    
                    snrStatusDisplay.textContent = statusText;
                    snrStatusDisplay.className = statusClass;

                    recommendationsList.innerHTML = '';
                    recommendations.forEach(rec => {
                        const li = document.createElement('li');
                        li.textContent = rec;
                        recommendationsList.appendChild(li);
                    });
                    practicalRecommendationsDiv.style.display = 'block';

                    // Show results
                    resultsSection.classList.remove('hidden');
                    
                    // Typeset MathJax
                    if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                        setTimeout(() => {
                            window.MathJax.typesetPromise([stepsContainer]);
                        }, 50); 
                    }

                    setTimeout(() => {
                        stepsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                    
                    showMessage('Calculation successful!', 'success');

                } catch (error) {
                    showMessage('An error occurred: ' + error.message, 'error');
                    console.error('SNR Calculation Error:', error);
                }
            }
            
            // --- Initial Page Load ---
            updateImpedanceSectionVisibility(); // Set initial visibility

            // Initial fade-in for form sections
            const formSections = document.querySelectorAll('.form-section');
            formSections.forEach((section, index) => {
                setTimeout(() => {
                    section.classList.add('fade-in');
                }, 100 * index); // Staggered fade-in
            });

            // --- Theme switch logic ---
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch) {
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeSwitch.checked = true;
                }
                themeSwitch.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-mode');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        document.body.classList.remove('dark-mode');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        });
    </script>
</body>
</html>
