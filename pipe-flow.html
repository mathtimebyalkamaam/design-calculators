<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pipe Flow Calculator - Professional Darcy-Weisbach | Design Calculators</title>
    <link rel="canonical" href="https://designcalculators.co.in/pipe-flow.html" />
<meta name="description" content="Professional pipe flow calculator using Darcy-Weisbach equation per ISO, ASME standards. Calculate pressure drop, velocity, flow rate with Reynolds number analysis for laminar and turbulent flow in industrial piping systems.">
<meta name="keywords" content="pipe flow calculator, Darcy-Weisbach equation, pressure drop, Reynolds number, friction factor, fluid mechanics">
<meta name="author" content="Design Calculators">
<meta name="robots" content="index, follow">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-23Y1V450SR');
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="icon" href="/favicon.ico" type="image/x-icon">

<style>
:root {
--primary-color: #1E3A8A;
--secondary-color: #2563EB;
--accent-color: #F59E0B;
--success-color: #10B981;
--bg-color: #F8FAFC;
--card-bg: #FFFFFF;
--text-color: #4B5563;
--heading-color: #111827;
--footer-bg: #0F172A;
--border-color: #E2E8F0;
--gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
--gradient-dark: linear-gradient(135deg, #0F172A, #1E293B);
--card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
--hover-color: #e2e6ea;
}

body.dark-mode {
--primary-color: #10B981;
--secondary-color: #34D399;
--bg-color: #0F172A;
--card-bg: #1E293B;
--text-color: #CBD5E1;
--heading-color: #F1F5F9;
--footer-bg: #020617;
--border-color: #334155;
--hover-color: #1E293B;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
font-family: 'Inter', sans-serif;
background-color: var(--bg-color);
color: var(--text-color);
line-height: 1.8;
transition: background-color 0.3s, color 0.3s;
overflow-x: hidden;
margin: 0;
padding: 0;
}

.container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

/* HEADER */
.header {
background: var(--gradient-primary);
color: white;
padding: 24px 0;
position: relative;
overflow: hidden;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.navbar {
display: flex;
justify-content: space-between;
align-items: center;
}

.logo-container {
display: flex;
align-items: center;
gap: 16px;
text-decoration: none;
color: white;
}

.logo-text {
font-size: 1.75rem;
font-weight: 800;
font-family: 'Montserrat', sans-serif;
}

.nav-links {
display: flex;
gap: 24px;
align-items: center;
list-style: none;
margin: 0;
padding: 0;
}

.nav-links a {
color: white;
text-decoration: none;
font-weight: 500;
transition: color 0.3s;
}

.nav-links a:hover {
color: var(--accent-color);
}

.theme-toggle {
display: flex;
align-items: center;
gap: 12px;
}

.theme-toggle .icon {
color: white;
font-size: 1.2rem;
}

.switch {
position: relative;
display: inline-block;
width: 56px;
height: 30px;
}

.switch input {
opacity: 0;
width: 0;
height: 0;
}

.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0,0,0,0.2);
transition: .4s;
border-radius: 30px;
}

.slider:before {
position: absolute;
content: "";
height: 22px;
width: 22px;
left: 4px;
bottom: 4px;
background-color: white;
transition: .4s;
border-radius: 50%;
}

input:checked + .slider {
background-color: var(--accent-color);
}

input:checked + .slider:before {
transform: translateX(26px);
}

main { padding: 40px 0; }

.content-container {
max-width: 1000px;
margin: 0 auto;
padding: 20px;
}

.tool-container {
background-color: var(--card-bg);
border-radius: 12px;
padding: 30px;
box-shadow: var(--card-shadow);
margin-bottom: 30px;
}

.tool-container h2 {
color: var(--primary-color);
border-bottom: 3px solid var(--primary-color);
padding-bottom: 15px;
margin-top: 0;
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
font-size: 1.8rem;
}

.tool-description {
margin-bottom: 25px;
color: var(--text-color);
font-size: 1rem;
line-height: 1.8;
}

.back-button {
display: inline-block;
background-color: var(--primary-color);
color: white;
padding: 12px 20px;
border-radius: 8px;
text-decoration: none;
margin-bottom: 20px;
transition: all 0.3s;
font-weight: 600;
}

.back-button:hover {
background-color: var(--secondary-color);
transform: translateY(-2px);
}

.calculator-form {
background-color: var(--card-bg);
border-radius: 12px;
padding: 25px;
margin-top: 25px;
box-shadow: var(--card-shadow);
}

.form-group {
margin-bottom: 20px;
}

.form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: var(--heading-color);
}

.form-group input, .form-group select {
width: 100%;
padding: 12px;
border: 2px solid var(--border-color);
border-radius: 6px;
background-color: var(--bg-color);
color: var(--text-color);
box-sizing: border-box;
transition: all 0.3s;
font-size: 1rem;
}

.form-group input:focus, .form-group select:focus {
border-color: var(--primary-color);
box-shadow: 0 0 12px rgba(30, 58, 138, 0.25);
outline: none;
}

.form-row {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
}

.calculate-btn {
background: var(--gradient-primary);
color: white;
border: none;
padding: 16px 30px;
border-radius: 8px;
cursor: pointer;
font-size: 1.1rem;
font-weight: 700;
margin-top: 15px;
transition: all 0.3s;
width: 100%;
box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
}

.calculate-btn:hover {
transform: translateY(-3px);
box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
}

.result-container {
margin-top: 40px;
padding: 30px;
border-radius: 12px;
background-color: var(--card-bg);
box-shadow: var(--card-shadow);
display: none;
}

.result-container h3 {
color: var(--primary-color);
margin-bottom: 25px;
font-family: 'Montserrat', sans-serif;
font-size: 1.6rem;
}

#calculation-details {
background-color: var(--bg-color);
border: 2px solid var(--border-color);
border-radius: 8px;
padding: 20px;
margin-bottom: 25px;
font-size: 0.95rem;
}

#calculation-details h4 {
color: var(--secondary-color);
margin-top: 0;
margin-bottom: 15px;
font-size: 1.2rem;
}

#calculation-details p.formula {
font-family: 'Times New Roman', serif;
font-size: 1.1rem;
text-align: center;
padding: 15px;
background-color: var(--hover-color);
border-radius: 6px;
margin: 15px 0;
overflow-x: auto;
}

#calculation-details p.calculation-step {
font-family: 'Courier New', monospace;
background-color: var(--hover-color);
padding: 8px 12px;
border-radius: 4px;
margin-bottom: 8px;
line-height: 1.6;
}

#calculation-details ul {
list-style-type: disc;
margin-left: 25px;
padding-left: 0;
}

#calculation-details ul li {
margin-bottom: 8px;
line-height: 1.7;
}

.result-table {
width: 100%;
border-collapse: collapse;
margin-top: 20px;
box-shadow: 0 2px 8px rgba(0,0,0,0.08);
border-radius: 8px;
overflow: hidden;
}

.result-table th, .result-table td {
padding: 14px;
text-align: left;
border-bottom: 1px solid var(--border-color);
}

.result-table th {
background: var(--gradient-primary);
color: white;
font-weight: 700;
}

.result-table tr:nth-child(even) {
background-color: rgba(0,0,0,0.02);
}

.standard-reference {
margin-top: 25px;
font-style: italic;
font-size: 0.95rem;
padding: 15px;
background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05));
border-left: 4px solid var(--accent-color);
border-radius: 6px;
line-height: 1.7;
}

.info-icon {
color: var(--primary-color);
margin-left: 6px;
cursor: help;
font-size: 0.9rem;
}

.tooltip {
position: relative;
display: inline-block;
}

.tooltip .tooltiptext {
visibility: hidden;
width: 260px;
background-color: #333;
color: #fff;
text-align: center;
border-radius: 6px;
padding: 10px;
position: absolute;
z-index: 1000;
bottom: 130%;
left: 50%;
margin-left: -130px;
opacity: 0;
transition: opacity 0.3s;
font-size: 0.85rem;
line-height: 1.5;
white-space: normal;
box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.tooltip:hover .tooltiptext {
visibility: visible;
opacity: 1;
}

#custom-message-box {
position: fixed;
top: 20px;
left: 50%;
transform: translateX(-50%);
padding: 16px 28px;
border-radius: 8px;
box-shadow: 0 6px 16px rgba(0,0,0,0.25);
z-index: 10000;
font-weight: 600;
color: white;
opacity: 0;
transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#custom-message-box.show {
opacity: 1;
}

/* FOOTER */
footer {
background: var(--gradient-dark);
color: #CBD5E1;
padding: 50px 0 20px 0;
}

.footer-content {
display: flex;
justify-content: space-between;
align-items: flex-start;
flex-wrap: wrap;
gap: 40px;
margin-bottom: 30px;
}

.footer-col {
flex: 1;
min-width: 200px;
}

.footer-col h4 {
font-size: 1.1rem;
color: white;
margin-bottom: 15px;
font-weight: 700;
}

.footer-col ul {
list-style: none;
padding: 0;
margin: 0;
}

.footer-col ul li {
margin-bottom: 10px;
}

.footer-col a {
color: #CBD5E1;
text-decoration: none;
transition: color 0.3s;
font-size: 0.95rem;
}

.footer-col a:hover {
color: var(--accent-color);
}

.footer-disclaimer {
text-align: center;
margin: 30px auto;
padding-top: 25px;
border-top: 1px solid #334155;
max-width: 800px;
font-size: 0.9rem;
line-height: 1.6;
}

.footer-bottom {
text-align: center;
padding-top: 20px;
font-size: 0.9rem;
color: #94A3B8;
}

.creator-name {
color: var(--secondary-color);
font-weight: bold;
}

.social-buttons {
display: flex;
gap: 12px;
margin-top: 15px;
}

.social-btn {
width: 40px;
height: 40px;
display: inline-flex;
justify-content: center;
align-items: center;
color: white;
border-radius: 50%;
text-decoration: none;
font-size: 1.1rem;
transition: transform 0.3s, box-shadow 0.3s;
box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.social-btn:hover {
transform: translateY(-4px);
box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}

.social-btn.linkedin { background-color: #0A66C2; }
.social-btn.youtube { background-color: #FF0000; }
.social-btn.twitter { background-color: #1DA1F2; }
.social-btn.facebook { background-color: #1877F2; }
.social-btn.whatsapp { background-color: #25D366; }

@media (max-width: 768px) {
.navbar { flex-direction: column; gap: 20px; }
.nav-links { flex-direction: column; gap: 12px; text-align: center; }
.form-row { grid-template-columns: 1fr; }
.container { padding: 15px; }
.tool-container { padding: 20px; }
.footer-content { flex-direction: column; gap: 25px; }
}
</style>
    <link rel="stylesheet" href="styles.css">
    <meta property="og:title" content="Pipe Flow Calculator - Professional Darcy-Weisbach | Design Calculators">
    <meta property="og:description" content="Professional pipe flow calculator using Darcy-Weisbach equation per ISO, ASME standards. Calculate pressure drop, velocity, flow rate with Reynolds number analysis for laminar and turbulent flow in industrial piping systems.">
</head>
<body>

<!-- HEADER -->
<header class="header">
        <div class="header-bg-animation"></div>
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo-container">
                    <img src="logo.png" alt="Design Calculators Logo" class="logo">
                    <span class="logo-text">Design Calculators</span>
                </a>

                <div class="nav-menu">
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>

                    <ul class="nav-links">
                        <li><a href="/index.html">Home</a></li>
                        
    <li class="dropdown">
        <a href="/indexele.html" class="dropdown-toggle">Electrical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/arcflash.html">Arc Flash Calculator</a><a href="/breaker-sizing.html">Breaker Sizing</a><a href="/cable-thermal-rating.html">Cable Ampacity</a><a href="/comm-cable-loss.html">Comm Cable Loss</a><a href="/earth-conductor-size.html">Earth Conductor Size</a><a href="/generatorsizing.html">Generator Sizing</a><a href="/harmonicsanalyser.html">Harmonics Analyser</a><a href="/insulationresistance.html">Insulation Resistance</a><a href="/logicgate.html">Logic Gates Simulator</a><a href="/motor-starting.html">Motor Starting Current</a><a href="/pcbtrace.html">PCB Trace Width</a><a href="/protection-device.html">Protection Device</a><a href="/resistor.html">Resistor Color Code</a><a href="/solarcable.html">Solar Cable Sizing</a><a href="/systemxrcalculator.html">System X/R Ratio</a><a href="/transmissionline.html">Transmission Line</a><a href="/vfd-selection.html">VFD Selection Tool</a></div><div><a href="/batterylife.html">Battery Life Estimator</a><a href="/busbarampacity.html">Busbar Ampacity</a><a href="/cablepulling.html">Cable Pulling Tension</a><a href="/conduit-fill.html">Conduit Fill Calculator</a><a href="/earthingfaultsimulator.html">Earthing Fault Simulator</a><a href="/grounding.html">Grounding System Design</a><a href="/hvac-sizing.html">HVAC Sizing Calculator</a><a href="/lcresonancecalculator.html">LC Resonance Calculator</a><a href="/maintenance-guide.html">Maintenance Guide</a><a href="/nemaipconvertor.html">NEMA to IP Converter</a><a href="/power-factor.html">Power Factor Correction</a><a href="/relay-coordination.html">Relay Coordination</a><a href="/short-circuit.html">Short Circuit Current</a><a href="/solarpvarray.html">Solar PV Array</a><a href="/transformer-calculator.html">Transformer Calculator</a><a href="/unit-converter.html">Unit Converter</a><a href="/voltage-drop.html">Voltage Drop Calculator</a></div><div><a href="/battery-sizing.html">Battery Sizing (AH)</a><a href="/busbarshortcircuit.html">Busbar Short Circuit</a><a href="/cable-sizing.html">Cable Sizing Calculator</a><a href="/ctsaturation.html">CT Saturation</a><a href="/equipment-relay.html">Equipment Relay Setting</a><a href="/harmonic-distortion.html">Harmonic Distortion</a><a href="/industriallighting.html">Industrial Lighting</a><a href="/lighting-calulator.html">Lighting Calculator</a><a href="/motor-efficiency.html">Motor Efficiency</a><a href="/neutral-earth-fault-current.html">Neutral Earth Fault</a><a href="/powertriangletool.html">Power Triangle</a><a href="/electricalresidentialload.html">Residential Load Calc</a><a href="/skindepth.html">Skin Depth Calculator</a><a href="/symmetricalcomponents.html">Symmetrical Components</a><a href="/transformerinrush.html">Transformer Inrush</a><a href="/ups-sizing.html">UPS Sizing</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexele.html" class="view-all-link">View All Electrical Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexinst.html" class="dropdown-toggle">Instrumentation <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/adc-resolution.html">ADC Resolution</a><a href="/capillarylengthtemperatureerror.html">Capillary Error</a><a href="/cv-kv-valve.html">Cv/Kv Valve Sizing</a><a href="/dp-level.html">DP Level Measurement</a><a href="/hydrostatic-level.html">Hydrostatic Level</a><a href="/instrument-range.html">Instrument Range</a><a href="/loop-impedance.html">Loop Impedance</a><a href="/orifice-plate.html">Orifice Plate Beta</a><a href="/pid-tuning.html">PID Tuning</a><a href="/profibus.html">Profibus Calculator</a><a href="/tempsensorresponse.html">Response Time (Tau)</a><a href="/rtd-lead-comp.html">RTD Lead Wire Comp.</a><a href="/sealfluidzeroshift.html">Seal Fluid Shift</a><a href="/snr-calculator.html">SNR Calculator</a><a href="/thermocoupleextensioncable.html">TC Extension Cable</a><a href="/thermowellwakefreq.html">Thermowell Frequency</a><a href="/pressuretransmitteroverrange.html">Tx Overrange</a><a href="/valvecavitationcalculator.html">Valve Cavitation</a><a href="/vibrationtransmitter.html">Vibration Tx</a><a href="/zoneclassificationhelper.html">Zone Classification</a></div><div><a href="/baud-rate.html">Baud Rate Calculator</a><a href="/gascompressibility.html">Compressibility (Z)</a><a href="/dbcalculator.html">dB Gain/Loss Calc</a><a href="/flowprofiledistortioncalculator.html">Flow Distortion</a><a href="/impulselinefreezing.html">Impulse Freezing</a><a href="/intrinsic-safety.html">Intrinsic Safety Loop</a><a href="/measurement.html">Measurement Uncertainty</a><a href="/ph-temp-comp.html">pH Temp Compensation</a><a href="/plcscantime.html">PLC Scan Time</a><a href="/pressurereliefvalve.html">PRV Sizing (API 520)</a><a href="/reynoldsnumbercal.html">Reynolds Number</a><a href="/rtdselfheating.html">RTD Self-Heating</a><a href="/signal-scaling.html">Signal Scaling</a><a href="/staticheadcal.html">Static Head</a><a href="/temperaturesensorlag.html">Temp Sensor Lag</a><a href="/thermowell-wake.html">Thermowell Wake</a><a href="/ultrasoniclevel.html">Ultrasonic Level</a><a href="/valve-cv.html">Valve Cv Viewer</a><a href="/wetlegdensitycompensation.html">Wet Leg Compensation</a></div><div><a href="/capacitance-level.html">Capacitance Level</a><a href="/controlvalvenoise.html">Control Valve Noise</a><a href="/dp-flow-conversion.html">DP Flow Conversion</a><a href="/hartdevices.html">HART Devices</a><a href="/impulse-pressure-drop.html">Impulse Pressure Drop</a><a href="/junctionbox.html">Junction Box Sizing</a><a href="/orifice-flow.html">Orifice Flow Calculator</a><a href="/pid-symbol-library.html">PID Symbol Library</a><a href="/power-supply-load.html">Power Supply Load</a><a href="/prvsizing.html">Relief Orifice Area</a><a href="/rtdexcitationcurrentselection.html">RTD Excitation</a><a href="/rtd-tc-conversion.html">RTD/TC Conversion</a><a href="/sil.html">SIL Calculator</a><a href="/steamflow.html">Steam Flow</a><a href="/thermocouplecjccalculator.html">Thermocouple CJC</a><a href="/turndown.html">Turndown Ratio</a><a href="/controlvalveauthority.html">Valve Authority</a><a href="/controlvalveleakage.html">Valve Leakage Class</a><a href="/wirelesshart.html">WirelessHART Range</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexinst.html" class="view-all-link">View All Instrumentation Tools â†’</a>
            </div>
        </div>
    </li>
                        
    <li class="dropdown">
        <a href="/indexmech.html" class="dropdown-toggle">Mechanical <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 4px;"></i></a>
        <div class="dropdown-menu">
            <div class="repo-grid"><div><a href="/aircompressorfad.html">Air Compressor FAD</a><a href="/asme-vessel.html">ASME Vessel Design</a><a href="/belt-pulley.html">Belt & Pulley</a><a href="/bolt-torque.html">Bolt Torque</a><a href="/controlvalveactuator.html">Control Valve Actuator</a><a href="/frictionfactortool.html">Darcy Friction Factor</a><a href="/fatigue.html">Fatigue Analysis</a><a href="/fuel-combustion.html">Fuel Combustion</a><a href="/gas.html">Gas Properties</a><a href="/heat-exchanger.html">Heat Exchanger</a><a href="/hydroliccylinder.html">Hydraulic Cylinder</a><a href="/material-compatibility.html">Material Compatibility</a><a href="/nozzle-reinforcement.html">Nozzle Reinforcement</a><a href="/openchannelflow.html">Open Channel Flow</a><a href="/pipescheduletool.html">Pipe Schedule & Stress</a><a href="/pump-head.html">Pump Head</a><a href="/shaft-power-torque.html">Shaft Power & Torque</a><a href="/steam-table.html">Steam Table</a><a href="/vibrationanalysis.html">Vibration Analysis</a></div><div><a href="/air-flow-duct.html">Air Flow Duct Sizing</a><a href="/beam-deflection.html">Beam Deflection</a><a href="/bernoulli-equation.html">Bernoulli Equation</a><a href="/chiller-capacity.html">Chiller Capacity</a><a href="/cooling-tower-sizing.html">Cooling Tower Sizing</a><a href="/darcy-weisbach.html">Darcy-Weisbach</a><a href="/finned-tube-heat-transfer.html">Finned Tube Heat</a><a href="/furnace-heat-duty.html">Furnace Heat Duty</a><a href="/gear-design.html">Gear Design</a><a href="/heat-loss-pipes.html">Heat Loss Pipes</a><a href="/jacketed-vessel-heat-transfer.html">Jacketed Vessel</a><a href="/metalweight.html">Metal Weight Calculator</a><a href="/nptbspthreadcalculator.html">NPT/BSP Threads</a><a href="/overall-heat-transfer.html">Overall Heat Transfer</a><a href="/pipe-stress-flexibility.html">Pipe Stress</a><a href="/pump-power.html">Pump Power</a><a href="/specific-heat-enthalpy.html">Specific Heat</a><a href="/storage-tank-volume.html">Storage Tank Volume</a><a href="/weldingstress.html">Welding Stress</a></div><div><a href="/allowable-stress-safety-factor.html">Allowable Stress</a><a href="/bearinglife.html">Bearing Life Calculator</a><a href="/boiler-efficiency.html">Boiler Efficiency</a><a href="/compressor-power.html">Compressor Power</a><a href="/corrosion-rate.html">Corrosion Rate</a><a href="/fan-laws.html">Fan Laws</a><a href="/foundation.html">Foundation Design</a><a href="/gas-laws.html">Gas Laws</a><a href="/hardness.html">Hardness Converter</a><a href="/conduction-convection-radiation.html">Heat Transfer Modes</a><a href="/machining.html">Machining Calculator</a><a href="/momentofinertia.html">Moment of Inertia</a><a href="/oring.html">O-Ring Sizing</a><a href="/pipe-flow.html">Pipe Flow Calculator</a><a href="/psychrometric.html">Psychrometric Calc</a><a href="/reynolds-number.html">Reynolds Number</a><a href="/spring.html">Spring Design</a><a href="/thermal-expansion.html">Thermal Expansion</a></div>
            </div>
            <div class="view-all-container">
                <a href="/indexmech.html" class="view-all-link">View All Mechanical Tools â†’</a>
            </div>
        </div>
    </li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/sitemap2.html">Site Map</a></li>
                    </ul>

                    <div class="theme-toggle">
                        <i class="fas fa-sun icon"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-switch">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-moon icon"></i>
                    </div>
                </div>
            </nav>
    </header>

<!-- MAIN CONTENT -->
<main class="content-container">
<a href="indexMech.html" class="back-button">
<i class="fas fa-arrow-left"></i> Back to Tools
</a>

<div class="tool-container">
<h2><i class="fas fa-tint"></i> Professional Pipe Flow Calculator</h2>

<div class="tool-description">
<p>This advanced pipe flow calculator determines pressure drop, velocity, and flow rate for incompressible fluid flow in pipes using the industry-standard <strong>Darcy-Weisbach equation</strong> per ISO 5167, ASME, and fluid mechanics principles. Accurately calculates Reynolds number to determine flow regime (laminar, transitional, or turbulent), friction factor using Swamee-Jain approximation for turbulent flow and Hagen-Poiseuille for laminar flow, and provides comprehensive step-by-step calculation methodology for engineering verification and documentation.</p>

<p><strong>Key Features:</strong> Temperature-dependent fluid properties for water, air, and oil; automatic flow regime detection; iterative solution for pressure drop-driven calculations; complete calculation transparency with LaTeX-formatted equations; compliance with international mechanical engineering standards including ISO, ASME, and fundamental fluid mechanics textbooks.</p>
</div>

<div class="calculator-form">
<form id="pipe-flow-form">
<div class="form-row">
<div class="form-group">
<label for="fluid-type">Fluid Type <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Select fluid flowing through pipe. Properties vary with temperature affecting density and viscosity.</span></span></label>
<select id="fluid-type" required>
<option value="water">Water</option>
<option value="air">Air</option>
<option value="oil">Engine Oil (SAE 30)</option>
</select>
</div>
<div class="form-group">
<label for="pipe-material">Pipe Material <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Material affects surface roughness, key factor in friction loss calculations per Moody diagram.</span></span></label>
<select id="pipe-material" required>
<option value="steel">Commercial Steel</option>
<option value="cast_iron">Cast Iron</option>
<option value="pvc">PVC</option>
<option value="copper">Copper</option>
</select>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label for="fluid-temperature">Fluid Temperature (°C) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Temperature determines fluid properties. Critical for accurate density and viscosity.</span></span></label>
<input type="number" id="fluid-temperature" min="-50" step="0.1" value="20" required>
</div>
<div class="form-group">
<label for="pipe-diameter">Pipe Internal Diameter (mm) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Internal diameter of pipe. Ensure consistent units throughout calculation.</span></span></label>
<input type="number" id="pipe-diameter" min="1" step="0.1" value="50" required>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label for="pipe-length">Pipe Length (m) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Total length of pipe section for which pressure drop is calculated.</span></span></label>
<input type="number" id="pipe-length" min="0.1" step="0.1" value="100" required>
</div>
<div class="form-group">
<label for="flow-input-type">Input Type <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Choose which parameter you provide. Calculator solves for other two.</span></span></label>
<select id="flow-input-type" required>
<option value="flow_rate">Flow Rate</option>
<option value="velocity">Velocity</option>
<option value="pressure_drop">Pressure Drop</option>
</select>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label for="flow-rate-input" id="flow-rate-label">Flow Rate (m³/s) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Volumetric flow rate of fluid.</span></span></label>
<input type="number" id="flow-rate-input" min="0.000001" step="0.000001" value="0.005" required>

<label for="velocity-input" id="velocity-label" style="display: none;">Velocity (m/s) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Average velocity of fluid in pipe.</span></span></label>
<input type="number" id="velocity-input" min="0.0001" step="0.0001" value="0.5" required style="display: none;">

<label for="pressure-drop-input" id="pressure-drop-label" style="display: none;">Pressure Drop (Pa) <span class="tooltip"><i class="fas fa-info-circle info-icon"></i><span class="tooltiptext">Total pressure drop across pipe section in Pascals.</span></span></label>
<input type="number" id="pressure-drop-input" min="0.1" step="0.1" value="10000" required style="display: none;">
</div>
</div>

<button type="button" id="calculate-pipe-flow-btn" class="calculate-btn">
<i class="fas fa-calculator"></i> Calculate Pipe Flow
</button>
</form>
</div>

<div id="result-container" class="result-container">
<h3><i class="fas fa-chart-line"></i> Pipe Flow Analysis Results</h3>
<div id="calculation-details"></div>
<table class="result-table">
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>
<tbody id="result-table-body"></tbody>
</table>
<div class="standard-reference" id="standard-reference"></div>
</div>
</div>

<!-- EDUCATIONAL CONTENT FOR ADSENSE COMPLIANCE -->
<div class="tool-container" style="margin-top: 40px;">
<h2>Understanding Pipe Flow Calculations</h2>

<h3 style="color: var(--primary-color); margin-top: 25px;">The Darcy-Weisbach Equation</h3>
<p>The Darcy-Weisbach equation is the fundamental relationship for calculating pressure drop due to friction in pipe flow, universally accepted in mechanical and hydraulic engineering per ISO 5167 and ASME standards. Unlike empirical equations limited to specific conditions, Darcy-Weisbach applies to all flow regimes and fluid types when combined with appropriate friction factor correlations. The equation states that pressure drop is proportional to pipe length, fluid density, velocity squared, and friction factor, while inversely proportional to pipe diameter.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Reynolds Number and Flow Regimes</h3>
<p>Reynolds number (Re) is the dimensionless parameter determining flow character. Re < 2000 indicates laminar flow where fluid particles move in parallel layers with minimal mixing—friction factor depends only on Re via f = 64/Re (Hagen-Poiseuille). Re > 4000 indicates turbulent flow where chaotic motion and eddies dominate—friction factor depends on both Re and relative roughness via Colebrook-White equation (or Swamee-Jain approximation). Transitional flow (2000 < Re < 4000) exhibits unstable characteristics switching between regimes, requiring conservative design assumptions.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Friction Factor Determination</h3>
<p>For laminar flow, friction factor calculation is straightforward: f = 64/Re. For turbulent flow, the implicit Colebrook-White equation requires iterative solution, so the explicit Swamee-Jain approximation provides accuracy within 1% while avoiding iteration. Pipe roughness (ε) represents average height of surface irregularities—commercial steel ≈ 0.045 mm, cast iron ≈ 0.26 mm, PVC/copper ≈ 0.0015 mm (very smooth). Relative roughness (ε/D) determines friction factor sensitivity: smooth pipes (small ε/D) approach hydraulically smooth behavior where roughness effects vanish at high Re.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Temperature Effects on Fluid Properties</h3>
<p>Fluid properties vary significantly with temperature. Water density decreases slightly from 1000 kg/m³ at 0°C to 958 kg/m³ at 100°C, while dynamic viscosity drops dramatically from 0.00179 Pa·s at 0°C to 0.000282 Pa·s at 100°C—this viscosity reduction increases Reynolds number by factor of 6, potentially changing flow regime from laminar to turbulent. Air density follows ideal gas law (ρ = P/RT) inversely proportional to absolute temperature. Oil viscosity is extremely temperature-sensitive: SAE 30 oil at 0°C has viscosity ~0.8 Pa·s but only ~0.02 Pa·s at 80°C, affecting pump selection and pressure drop calculations by orders of magnitude.</p>

<h3 style="color: var(--primary-color); margin-top: 25px;">Practical Engineering Applications</h3>
<p>Pipe flow calculations are essential for designing water distribution networks ensuring adequate pressure at all delivery points, sizing HVAC systems maintaining required airflow with acceptable fan power, selecting pumps providing necessary head to overcome friction losses, and verifying oil lubrication systems deliver sufficient flow at operating temperature. Always verify calculations against vendor data and field measurements during commissioning, as minor losses from fittings, valves, and bends can add 20-50% to calculated friction losses in complex piping layouts.</p>
</div>

</main>

<!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="/" class="footer-logo">
                        <img src="logo.png" alt="Design Calculators Logo" loading="lazy" decoding="async">
                        <span class="footer-logo-text">Design Calculators</span>
                    </a>
                    <p class="footer-description">A comprehensive engineering calculator hub based on IEC, IEEE, and
                        global standards.</p>
                    <div class="social-buttons">
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn linkedin"
                            aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@designcalculators" target="_blank" rel="noopener noreferrer"
                            class="social-btn youtube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=https://designcalculators.co.in&text=Check%20out%20this%20amazing%20engineering%20calculator%20hub!"
                            target="_blank" rel="noopener noreferrer" class="social-btn twitter" aria-label="Twitter"><i
                                class="fab fa-twitter"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn facebook"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in"
                            target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"
                            aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-col">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href='/indexele.html'>Electrical Tools</a></li>
                            <li><a href='/indexmech.html'>Mechanical Tools</a></li>
                            <li><a href='/indexinst.html'>Instrumentation Tools</a></li>
                            <li><a href='/about.html'>About Us</a></li>
                            <li><a href='/faq.html'>FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Learn More</h4>
                        <ul>
                            <li><a href="https://www.youtube.com/@designcalculators" target="_blank"
                                    rel="noopener noreferrer">YouTube Channel</a></li>
                            <li><a href='/contact.html'>Contact Us</a></li>
                            <li><a href='/privacy-policy.html'>Privacy Policy</a></li>
                            <li><a href='/terms-of-service.html'>Terms of Service</a></li>
                            <li><a href='/sitemap2.html'>Sitemap</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Our Network</h4>
                        <ul>
                            <li style="margin-bottom: 12px;">
                                <a href="https://reliabilitytools.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">Reliability Tools</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Reliability
                                    & maintenance engineering calculators.</span>
                            </li>
                            <li style="margin-bottom: 12px;">
                                <a href="https://electrosafe.homes/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">ElectroSafe</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Dedicated
                                    to home electrical safety & protection.</span>
                            </li>
                            <li>
                                <a href="https://knowyourname.co.in/" target="_blank" rel="noopener"
                                   style="font-weight: 600; display: block; margin-bottom: 2px;">KnowYourName</a>
                                <span style="font-size: 0.85rem; color: #94a3b8; line-height: 1.3; display: block;">Scientific
                                    name analysis: Phonetics, Ergonomics & Acoustics.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>All calculations are for preliminary engineering design guidance. Final designs must comply with all applicable local and international standards (including but not limited to ASHRAE 90.1, ARI 550/590). Always verify calculations and consult with a licensed professional engineer before implementation or construction.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. Created by <span style="color: var(--secondary); font-weight: bold;">Anil Sharma</span>. All rights reserved.</p>
            </div>
        </div>
    </footer>

<div id="custom-message-box"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
const calculateBtn = document.getElementById('calculate-pipe-flow-btn');
const resultContainer = document.getElementById('result-container');
const resultTableBody = document.getElementById('result-table-body');
const standardReference = document.getElementById('standard-reference');
const calculationDetailsDiv = document.getElementById('calculation-details');

const fluidTypeSelect = document.getElementById('fluid-type');
const pipeMaterialSelect = document.getElementById('pipe-material');
const fluidTemperatureInput = document.getElementById('fluid-temperature');
const pipeDiameterInput = document.getElementById('pipe-diameter');
const pipeLengthInput = document.getElementById('pipe-length');
const flowInputTypeSelect = document.getElementById('flow-input-type');
const flowRateInput = document.getElementById('flow-rate-input');
const velocityInput = document.getElementById('velocity-input');
const pressureDropInput = document.getElementById('pressure-drop-input');
const flowRateLabel = document.getElementById('flow-rate-label');
const velocityLabel = document.getElementById('velocity-label');
const pressureDropLabel = document.getElementById('pressure-drop-label');

// Temperature-dependent fluid properties
function getWaterProperties(temperatureCelsius) {
let density, viscosity;
if (temperatureCelsius <= 0) {
density = 1000; viscosity = 0.001792;
} else if (temperatureCelsius <= 10) {
density = 999.7; viscosity = 0.001307;
} else if (temperatureCelsius <= 20) {
density = 998.2; viscosity = 0.001002;
} else if (temperatureCelsius <= 30) {
density = 995.7; viscosity = 0.0007978;
} else if (temperatureCelsius <= 40) {
density = 992.2; viscosity = 0.0006529;
} else if (temperatureCelsius <= 60) {
density = 983.2; viscosity = 0.0004665;
} else if (temperatureCelsius <= 80) {
density = 971.8; viscosity = 0.0003550;
} else if (temperatureCelsius <= 100) {
density = 958.4; viscosity = 0.0002821;
} else {
density = 998.2; viscosity = 0.001002;
displayMessage("Warning: Water properties outside typical range (0-100°C). Using approximate values.", "warning");
}
return { density: density, viscosity: viscosity };
}

function getAirProperties(temperatureCelsius) {
const atmosphericPressure_Pa = 101325;
const R_specific_air = 287.05;
const temperatureKelvin = temperatureCelsius + 273.15;
let density = atmosphericPressure_Pa / (R_specific_air * temperatureKelvin);
let viscosity;
if (temperatureCelsius <= 0) {
viscosity = 0.00001716;
} else if (temperatureCelsius <= 20) {
viscosity = 0.00001825;
} else if (temperatureCelsius <= 40) {
viscosity = 0.00001930;
} else {
viscosity = 0.00002000;
}
return { density: density, viscosity: viscosity };
}

function getOilProperties(temperatureCelsius) {
let density = 880;
let viscosity;
if (temperatureCelsius <= 0) {
viscosity = 0.8;
} else if (temperatureCelsius <= 20) {
viscosity = 0.29;
} else if (temperatureCelsius <= 40) {
viscosity = 0.1;
} else if (temperatureCelsius <= 60) {
viscosity = 0.05;
} else {
viscosity = 0.02;
}
return { density: density, viscosity: viscosity };
}

const pipeRoughness = {
'steel': 0.000045,
'cast_iron': 0.00026,
'pvc': 0.0000015,
'copper': 0.0000015,
};

function displayMessage(message, type = "info") {
let messageBox = document.getElementById('custom-message-box');
if (!messageBox) {
messageBox = document.createElement('div');
messageBox.id = 'custom-message-box';
document.body.appendChild(messageBox);
}
messageBox.textContent = message;
if (type === "error") {
messageBox.style.backgroundColor = '#dc3545';
} else if (type === "warning") {
messageBox.style.backgroundColor = '#ffc107';
messageBox.style.color = '#333';
} else {
messageBox.style.backgroundColor = '#28a745';
}
messageBox.classList.add('show');
setTimeout(() => {
messageBox.classList.remove('show');
}, 5000);
}

function toggleFlowInput() {
flowRateLabel.style.display = 'none';
flowRateInput.style.display = 'none';
flowRateInput.required = false;
velocityLabel.style.display = 'none';
velocityInput.style.display = 'none';
velocityInput.required = false;
pressureDropLabel.style.display = 'none';
pressureDropInput.style.display = 'none';
pressureDropInput.required = false;

if (flowInputTypeSelect.value === 'flow_rate') {
flowRateLabel.style.display = 'block';
flowRateInput.style.display = 'block';
flowRateInput.required = true;
} else if (flowInputTypeSelect.value === 'velocity') {
velocityLabel.style.display = 'block';
velocityInput.style.display = 'block';
velocityInput.required = true;
} else if (flowInputTypeSelect.value === 'pressure_drop') {
pressureDropLabel.style.display = 'block';
pressureDropInput.style.display = 'block';
pressureDropInput.required = true;
}
}

flowInputTypeSelect.addEventListener('change', toggleFlowInput);
toggleFlowInput();

calculateBtn.addEventListener('click', function() {
let flowRate_m3s, velocity_ms, pressureDrop_pa, reynoldsNumber, frictionFactor, flowRegime;

const fluidType = fluidTypeSelect.value;
const pipeMaterial = pipeMaterialSelect.value;
const fluidTemperature = parseFloat(fluidTemperatureInput.value);
let diameter_mm = parseFloat(pipeDiameterInput.value);
let length_m = parseFloat(pipeLengthInput.value);
let inputType = flowInputTypeSelect.value;

if (isNaN(diameter_mm) || diameter_mm <= 0 || isNaN(length_m) || length_m <= 0 || isNaN(fluidTemperature)) {
displayMessage("Please enter valid positive values for Pipe Diameter and Pipe Length, and a valid Fluid Temperature.", "error");
return;
}

const diameter_m = diameter_mm / 1000;

let density, viscosity;
if (fluidType === 'water') {
const waterProps = getWaterProperties(fluidTemperature);
density = waterProps.density;
viscosity = waterProps.viscosity;
} else if (fluidType === 'air') {
const airProps = getAirProperties(fluidTemperature);
density = airProps.density;
viscosity = airProps.viscosity;
} else if (fluidType === 'oil') {
const oilProps = getOilProperties(fluidTemperature);
density = oilProps.density;
viscosity = oilProps.viscosity;
} else {
displayMessage("Unsupported fluid type selected.", "error");
return;
}

const roughness_e = pipeRoughness[pipeMaterial];
let calculationHtml = '<h4>Detailed Calculation Steps:</h4>';

const area_m2 = Math.PI * Math.pow(diameter_m / 2, 2);
calculationHtml += `<p><strong>1. Calculate Pipe Cross-sectional Area:</strong></p>`;
calculationHtml += `<p>The cross-sectional area of the pipe is calculated using its internal diameter. This area is fundamental for relating flow rate and velocity.</p>`;
calculationHtml += `<p class="formula">$$A = \\frac{\\pi D^2}{4}$$</p>`;
calculationHtml += `<ul>
<li>Pipe Internal Diameter (D) = ${diameter_mm} mm = ${diameter_m.toFixed(4)} m</li>
</ul>`;
calculationHtml += `<p class="calculation-step">A = π × (${diameter_m.toFixed(4)})<sup>2</sup> / 4 = ${area_m2.toFixed(6)} m<sup>2</sup></p>`;

if (inputType === 'flow_rate') {
flowRate_m3s = parseFloat(flowRateInput.value);
if (isNaN(flowRate_m3s) || flowRate_m3s <= 0) {
displayMessage("Please enter a valid positive value for Flow Rate.", "error");
return;
}
velocity_ms = flowRate_m3s / area_m2;

calculationHtml += `<p><strong>2. Calculate Velocity from Input Flow Rate:</strong></p>`;
calculationHtml += `<p>Velocity is determined by dividing the volumetric flow rate by the pipe's cross-sectional area.</p>`;
calculationHtml += `<p class="formula">$$V = \\frac{Q}{A}$$</p>`;
calculationHtml += `<ul>
<li>Flow Rate (Q) = ${flowRate_m3s.toExponential(2)} m<sup>3</sup>/s</li>
<li>Pipe Cross-sectional Area (A) = ${area_m2.toFixed(6)} m<sup>2</sup></li>
</ul>`;
calculationHtml += `<p class="calculation-step">V = ${flowRate_m3s.toExponential(2)} / ${area_m2.toFixed(6)} = ${velocity_ms.toFixed(4)} m/s</p>`;

} else if (inputType === 'velocity') {
velocity_ms = parseFloat(velocityInput.value);
if (isNaN(velocity_ms) || velocity_ms <= 0) {
displayMessage("Please enter a valid positive value for Velocity.", "error");
return;
}
flowRate_m3s = velocity_ms * area_m2;

calculationHtml += `<p><strong>2. Calculate Flow Rate from Input Velocity:</strong></p>`;
calculationHtml += `<p>Flow rate is calculated by multiplying the fluid's average velocity by the pipe's cross-sectional area.</p>`;
calculationHtml += `<p class="formula">$$Q = V \\times A$$</p>`;
calculationHtml += `<ul>
<li>Velocity (V) = ${velocity_ms.toFixed(4)} m/s</li>
<li>Pipe Cross-sectional Area (A) = ${area_m2.toFixed(6)} m<sup>2</sup></li>
</ul>`;
calculationHtml += `<p class="calculation-step">Q = ${velocity_ms.toFixed(4)} × ${area_m2.toFixed(6)} = ${flowRate_m3s.toExponential(2)} m<sup>3</sup>/s</p>`;

} else if (inputType === 'pressure_drop') {
const pressureDrop_pa_input = parseFloat(pressureDropInput.value);
if (isNaN(pressureDrop_pa_input) || pressureDrop_pa_input <= 0) {
displayMessage("Please enter a valid positive value for Pressure Drop.", "error");
return;
}
pressureDrop_pa = pressureDrop_pa_input;

let f_guess = 0.02;
let maxIterations = 100;
let tolerance = 0.0001;

calculationHtml += `<p><strong>2. Iteratively Determine Velocity and Flow Rate from Input Pressure Drop:</strong></p>`;
calculationHtml += `<p>When pressure drop is known, finding velocity requires iterative solution because friction factor depends on velocity.</p>`;
calculationHtml += `<p class="formula">$$V = \\sqrt{\\frac{2 \\Delta P D}{f \\rho L}}$$</p>`;
calculationHtml += `<ul>
<li>Input Pressure Drop (ΔP) = ${pressureDrop_pa_input.toFixed(2)} Pa</li>
<li>Pipe Internal Diameter (D) = ${diameter_m.toFixed(4)} m</li>
<li>Fluid Density (ρ) = ${density} kg/m<sup>3</sup></li>
<li>Pipe Length (L) = ${length_m} m</li>
</ul>`;

let converged = false;
for (let i = 0; i < maxIterations; i++) {
let V_calc = Math.sqrt((2 * pressureDrop_pa_input * diameter_m) / (f_guess * density * length_m));
let Re_calc = (density * V_calc * diameter_m) / viscosity;

let f_calc;
if (Re_calc < 2000) {
f_calc = 64 / Re_calc;
} else {
const relativeRoughness = roughness_e / diameter_m;
f_calc = 0.25 / Math.pow(Math.log10((relativeRoughness / 3.7) + (5.74 / Math.pow(Re_calc, 0.9))), 2);
}

calculationHtml += `<p class="calculation-step">Iteration ${i + 1}:</p>`;
calculationHtml += `<p class="calculation-step">&nbsp;&nbsp;&nbsp;Assumed f = ${f_guess.toFixed(6)}</p>`;
calculationHtml += `<p class="calculation-step">&nbsp;&nbsp;&nbsp;Calculated V = ${V_calc.toFixed(4)} m/s</p>`;
calculationHtml += `<p class="calculation-step">&nbsp;&nbsp;&nbsp;Calculated Re = ${Re_calc.toExponential(4)}</p>`;
calculationHtml += `<p class="calculation-step">&nbsp;&nbsp;&nbsp;Calculated New f = ${f_calc.toFixed(6)}</p>`;

if (Math.abs(f_calc - f_guess) / f_guess < tolerance) {
velocity_ms = V_calc;
frictionFactor = f_calc;
reynoldsNumber = Re_calc;
converged = true;
calculationHtml += `<p class="calculation-step">Converged after ${i + 1} iterations. Final f = ${frictionFactor.toFixed(6)}</p>`;
break;
}
f_guess = f_calc;
}

if (!converged) {
displayMessage("Warning: Calculation did not converge within maximum iterations.", "warning");
}

flowRate_m3s = velocity_ms * area_m2;
}

if (reynoldsNumber < 2000) {
flowRegime = 'Laminar';
} else if (reynoldsNumber > 4000) {
flowRegime = 'Turbulent';
} else {
flowRegime = 'Transitional';
}

if (inputType !== 'pressure_drop') {
reynoldsNumber = (density * velocity_ms * diameter_m) / viscosity;
calculationHtml += `<p><strong>3. Calculate Reynolds Number:</strong></p>`;
calculationHtml += `<p>The Reynolds number (Re) is a dimensionless quantity used to predict flow patterns.</p>`;
calculationHtml += `<p class="formula">$$Re = \\frac{\\rho V D}{\\mu}$$</p>`;
calculationHtml += `<ul>
<li>Density (ρ) = ${density} kg/m<sup>3</sup> (${fluidType} at ${fluidTemperature}°C)</li>
<li>Velocity (V) = ${velocity_ms.toFixed(4)} m/s</li>
<li>Pipe Internal Diameter (D) = ${diameter_m.toFixed(4)} m</li>
<li>Dynamic Viscosity (μ) = ${viscosity.toExponential(3)} Pa·s (${fluidType} at ${fluidTemperature}°C)</li>
</ul>`;
calculationHtml += `<p class="calculation-step">Re = (${density} × ${velocity_ms.toFixed(4)} × ${diameter_m.toFixed(4)}) / ${viscosity.toExponential(3)} = ${reynoldsNumber.toExponential(4)}</p>`;
calculationHtml += `<p class="calculation-step">Flow Regime: ${flowRegime}</p>`;
} else {
calculationHtml += `<p><strong>3. Determined Reynolds Number:</strong></p>`;
calculationHtml += `<p>Based on converged velocity, Reynolds number is:</p>`;
calculationHtml += `<p class="calculation-step">Re = ${reynoldsNumber.toExponential(4)}</p>`;
calculationHtml += `<p class="calculation-step">Flow Regime: ${flowRegime}</p>`;
}

if (inputType !== 'pressure_drop') {
let frictionFormula = '';
if (reynoldsNumber < 2000) {
frictionFactor = 64 / reynoldsNumber;
frictionFormula = `$$f = \\frac{64}{Re}$$ (For Laminar Flow)`;
} else {
const relativeRoughness = roughness_e / diameter_m;
frictionFactor = 0.25 / Math.pow(Math.log10((relativeRoughness / 3.7) + (5.74 / Math.pow(reynoldsNumber, 0.9))), 2);
frictionFormula = `$$f = \\frac{0.25}{\\left[\\log_{10}\\left(\\frac{\\epsilon}{3.7D} + \\frac{5.74}{Re^{0.9}}\\right)\\right]^2}$$ (Swamee-Jain equation)`;
calculationHtml += `<p class="calculation-step">Relative Roughness (ε/D) = ${roughness_e.toExponential(2)} / ${diameter_m.toFixed(4)} = ${relativeRoughness.toExponential(2)}</p>`;
}
calculationHtml += `<p><strong>4. Calculate Friction Factor:</strong></p>`;
calculationHtml += `<p>The friction factor (f) accounts for resistance to flow caused by pipe's internal surface.</p>`;
calculationHtml += `<p class="formula">${frictionFormula}</p>`;
calculationHtml += `<ul>
<li>Reynolds Number (Re) = ${reynoldsNumber.toExponential(4)}</li>
<li>Pipe Roughness (ε) = ${roughness_e.toExponential(2)} m (${pipeMaterial})</li>
<li>Pipe Internal Diameter (D) = ${diameter_m.toFixed(4)} m</li>
</ul>`;
calculationHtml += `<p class="calculation-step">f = ${frictionFactor.toFixed(6)}</p>`;
} else {
calculationHtml += `<p><strong>4. Determined Friction Factor:</strong></p>`;
calculationHtml += `<p>Based on converged velocity and Reynolds number:</p>`;
calculationHtml += `<p class="calculation-step">f = ${frictionFactor.toFixed(6)}</p>`;
}

if (inputType !== 'pressure_drop') {
pressureDrop_pa = frictionFactor * (length_m / diameter_m) * (density * Math.pow(velocity_ms, 2) / 2);
calculationHtml += `<p><strong>5. Calculate Pressure Drop using Darcy-Weisbach Equation:</strong></p>`;
calculationHtml += `<p>The Darcy-Weisbach equation calculates major head loss due to friction in pipe.</p>`;
calculationHtml += `<p class="formula">$$\\Delta P = f \\frac{L}{D} \\frac{\\rho V^2}{2}$$</p>`;
calculationHtml += `<ul>
<li>Friction Factor (f) = ${frictionFactor.toFixed(6)}</li>
<li>Pipe Length (L) = ${length_m} m</li>
<li>Pipe Internal Diameter (D) = ${diameter_m.toFixed(4)} m</li>
<li>Density (ρ) = ${density} kg/m<sup>3</sup></li>
<li>Velocity (V) = ${velocity_ms.toFixed(4)} m/s</li>
</ul>`;
calculationHtml += `<p class="calculation-step">ΔP = ${frictionFactor.toFixed(6)} × (${length_m} / ${diameter_m.toFixed(4)}) × (${density} × ${velocity_ms.toFixed(4)}<sup>2</sup> / 2) = ${pressureDrop_pa.toFixed(2)} Pa</p>`;
} else {
calculationHtml += `<p><strong>5. Input Pressure Drop Confirmed:</strong></p>`;
calculationHtml += `<p class="calculation-step">ΔP = ${pressureDrop_pa.toFixed(2)} Pa</p>`;
}

calculationDetailsDiv.innerHTML = calculationHtml;
if (window.MathJax) {
window.MathJax.typesetPromise([calculationDetailsDiv]);
}

resultTableBody.innerHTML = '';

function addResultRow(parameter, value) {
const row = resultTableBody.insertRow();
const paramCell = row.insertCell();
const valueCell = row.insertCell();
paramCell.textContent = parameter;
valueCell.innerHTML = value;
}

addResultRow("Fluid Type", fluidType.charAt(0).toUpperCase() + fluidType.slice(1));
addResultRow("Fluid Temperature", `${fluidTemperature}°C`);
addResultRow("Pipe Material", pipeMaterial.replace('_', ' ').split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' '));
addResultRow("Pipe Internal Diameter", `${diameter_mm} mm`);
addResultRow("Pipe Length", `${length_m} m`);
addResultRow("Fluid Density", `${density.toFixed(3)} kg/m³`);
addResultRow("Fluid Viscosity", `${viscosity.toExponential(3)} Pa·s`);
addResultRow("Pipe Roughness", `${roughness_e.toExponential(2)} m`);
addResultRow("Pipe Cross-sectional Area", `${area_m2.toFixed(6)} m²`);
addResultRow("Velocity", `${velocity_ms.toFixed(4)} m/s`);
addResultRow("Flow Rate", `${flowRate_m3s.toExponential(4)} m³/s`);
addResultRow("Reynolds Number", `${reynoldsNumber.toExponential(4)} (${flowRegime} Flow)`);
addResultRow("Friction Factor", frictionFactor.toFixed(6));
addResultRow("Pressure Drop", `${(pressureDrop_pa / 1000).toFixed(2)} kPa (${pressureDrop_pa.toFixed(2)} Pa)`);

standardReference.innerHTML = "Pipe flow calculations based on fundamental fluid mechanics principles per ISO 5167, ASME standards. Darcy-Weisbach equation universally recognized for pressure drop due to friction. Friction factor determined using Swamee-Jain explicit approximation for turbulent flow and Hagen-Poiseuille for laminar flow. Temperature-dependent fluid properties ensure accuracy across operating conditions. Always verify against manufacturer data and field measurements during commissioning.";
resultContainer.style.display = 'block';
resultContainer.scrollIntoView({ behavior: 'smooth' });
displayMessage("Calculation completed successfully!", "info");
});

const themeSwitch = document.getElementById('theme-switch');
if (localStorage.getItem('theme') === 'dark') {
document.body.classList.add('dark-mode');
themeSwitch.checked = true;
}
themeSwitch.addEventListener('change', function() {
if (this.checked) {
document.body.classList.add('dark-mode');
localStorage.setItem('theme', 'dark');
} else {
document.body.classList.remove('dark-mode');
localStorage.setItem('theme', 'light');
}
});
});
</script>

</body>
</html>
