<!DOCTYPE html>
<html lang="en">
<head>
    <!-- AdSense & Analytics -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5936527763614780" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-23Y1V450SR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-23Y1V450SR');
    </script>
    
    <!-- SEO Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resistor Color Code Calculator, SMD Decoder & LED Design Guide</title>
    <meta name="description" content="Professional Electronics Calculator Suite. Decode 4, 5, 6 band resistors (IEC 60062), EIA-96 SMD codes, and calculate LED series resistors with power ratings. Includes extensive engineering guide and FAQs.">
    <meta name="keywords" content="resistor color code calculator, SMD resistor code calculator, EIA-96 decoder, LED resistor calculator, ohm's law, power rating, E24 series, IEC 60062, electronics engineering tools">
    <meta name="author" content="Design Calculators">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://designcalculators.co.in/resistor" />

    <!-- JSON-LD Schema: Software Application -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Resistor Calculator Suite",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "A comprehensive electronics engineering suite to decode resistor color codes, interpret SMD markings (including EIA-96), and calculate series resistance for LED circuits.",
      "featureList": "4/5/6 Band Decoding, Reverse Color Lookup, SMD EIA-96 Support, LED Power Dissipation Analysis, Standard E-Series Matching",
      "author": {
        "@type": "Organization",
        "name": "Design Calculators"
      }
    }
    </script>

    <!-- JSON-LD Schema: FAQ Page -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "How do I know which end of the resistor to read from?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The tolerance band (Gold or Silver) is usually spaced further apart from the other bands and is always the last band. If there is no Gold/Silver band, look for the bands grouped closely together; reading starts from that end. On 5/6 band precision resistors, the tolerance band is often wider or separated by a larger gap."
        }
      }, {
        "@type": "Question",
        "name": "What is the difference between 4-band and 5-band resistors?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A 4-band resistor has 2 significant digits, a multiplier, and a tolerance (usually 5% or 10%). A 5-band resistor is a precision component with 3 significant digits, a multiplier, and a tighter tolerance (usually 1% or less). The extra digit allows for more specific resistance values (E96 series)."
        }
      }, {
        "@type": "Question",
        "name": "What does the EIA-96 SMD code mean?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "EIA-96 is a compact coding system for 1% precision SMD resistors. It uses two digits to represent a value from a lookup table (01-96) and a letter to represent the multiplier. For example, '01C' does not mean 100 ohms; '01' looks up to '100' and 'C' is a multiplier of 100, resulting in 10kΩ."
        }
      }, {
        "@type": "Question",
        "name": "Why do LEDs need a series resistor?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "LEDs are non-linear, current-driven devices with very low internal resistance once they conduct. Connecting them directly to a voltage source typically causes infinite current flow, destroying the LED instantly. A resistor is required to limit the current to a safe level (typically 20mA)."
        }
      }, {
        "@type": "Question",
        "name": "What is the 'Power Rating' of a resistor?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Resistors dissipate energy as heat ($P = I^2R$). The power rating (e.g., 1/4W, 1/2W, 1W) indicates the maximum heat the resistor can shed before burning out. It is good engineering practice to select a resistor with a rating at least 2x the calculated actual power dissipation."
        }
      }, {
        "@type": "Question",
        "name": "What are Standard E-Series Values?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Resistors are not manufactured in every possible value. They follow logarithmic series (E6, E12, E24, E96). For example, in the E12 series (10% tolerance), values are spaced so their tolerance bands overlap, covering the full spectrum efficiently (10, 12, 15, 18, 22...)."
        }
      }, {
        "@type": "Question",
        "name": "What is a Zero-Ohm resistor used for?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A zero-ohm resistor (single black band or marked '0') is essentially a wire link packaged as a resistor. It is used on PCBs to bridge tracks (jumpers) or as a placeholder for configuration options, allowing the same pick-and-place machine to install it."
        }
      }, {
        "@type": "Question",
        "name": "What is the Temperature Coefficient (PPM)?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Found on 6-band resistors, the 6th band indicates how much the resistance changes with temperature, measured in Parts Per Million per Degree Celsius (PPM/°C). A 50ppm resistor changes its value by 0.005% for every 1°C change, critical for precision instrumentation."
        }
      }]
    }
    </script>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.3/jspdf.plugin.autotable.min.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- MathJax for Formulas -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']]
            },
            svg: { fontCache: 'global' }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Favicon Links -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <style>
        /* --- CORE THEME (Blue Industrial) --- */
        :root {
            --primary: #1E3A8A; /* Dark Blue */
            --secondary: #2563EB; /* Bright Blue */
            --accent: #F59E0B; /* Amber */
            --success: #10B981;
            --danger: #DC2626;
            --warning: #F59E0B;
            --bg: #F8FAFC;
            --card: #FFFFFF;
            --text: #334155;
            --heading: #0F172A;
            --footer-bg: #0F172A;
            --border: #E2E8F0;
            --grad: linear-gradient(135deg, var(--primary), var(--secondary));
            --grad-dark: linear-gradient(135deg, #0F172A, #1E293B);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --input-bg: #FFFFFF;
        }

        body.dark-mode {
            --primary: #3B82F6;
            --secondary: #60A5FA;
            --bg: #0F172A;
            --card: #1E293B;
            --text: #E2E8F0;
            --heading: #F8FAFC;
            --footer-bg: #020617;
            --border: #334155;
            --accent: #FBBF24;
            --input-bg: #334155;
        }

        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container { max-width: 1280px; margin: 0 auto; padding: 0 24px; }

        /* Header & Nav */
        header {
            background: var(--grad);
            color: white;
            padding: 24px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: white;
        }
        .logo-text {
            font-size: 1.75rem;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
            letter-spacing: -0.5px;
        }
        .logo-subtitle {
            font-size: 0.8rem;
            margin: 4px 0 0 0;
            color: #DBEAFE;
            font-weight: 500;
        }
        .nav-links {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            opacity: 0.9;
        }
        .nav-links a:hover { opacity: 1; transform: translateY(-1px); }
        
        /* Theme Toggle */
        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }
        .switch {
            position: relative;
            width: 52px;
            height: 28px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(255,255,255,0.2);
            transition: .4s;
            border-radius: 34px;
            border: 1px solid rgba(255,255,255,0.3);
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 20px; width: 20px;
            left: 3px; bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--success); border-color: var(--success); }
        input:checked + .slider:before { transform: translateX(24px); }

        /* Main Content */
        main { padding: 40px 0; }
        .card {
            background: var(--card);
            border-radius: 16px;
            padding: 32px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border);
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card h2 {
            color: var(--primary);
            border-bottom: 2px solid var(--border);
            padding-bottom: 15px;
            margin-top: 0;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.75rem;
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: -0.5px;
        }
        h3 {
            color: var(--heading);
            font-family: 'Montserrat', sans-serif;
            font-size: 1.4rem;
            margin-top: 25px;
            margin-bottom: 20px;
        }

        /* Forms */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 24px;
        }
        .form-group { margin-bottom: 0; }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--heading);
            font-size: 0.95rem;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background-color: var(--input-bg);
            color: var(--text);
            font-size: 1rem;
            transition: all 0.2s ease;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .form-group input:focus, .form-group select:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
        }

        /* Resistor Specific Styles */
        .resistor-display {
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at center, var(--card), var(--bg));
            border-radius: 12px;
            padding: 40px 20px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
            min-height: 200px;
            position: relative;
            overflow: hidden;
        }
        
        .band-selector-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .color-band-select {
            appearance: none;
            -webkit-appearance: none;
            padding: 10px 40px 10px 15px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            border: 2px solid var(--border);
            position: relative;
            background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23333%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
            background-repeat: no-repeat;
            background-position: right .7em top 50%;
            background-size: .65em auto;
        }

        /* Color Options Styling */
        .opt-black { background-color: #000000; color: #fff; }
        .opt-brown { background-color: #8B4513; color: #fff; }
        .opt-red { background-color: #FF0000; color: #fff; }
        .opt-orange { background-color: #FFA500; color: #000; }
        .opt-yellow { background-color: #FFFF00; color: #000; }
        .opt-green { background-color: #008000; color: #fff; }
        .opt-blue { background-color: #0000FF; color: #fff; }
        .opt-violet { background-color: #EE82EE; color: #000; }
        .opt-gray { background-color: #808080; color: #fff; }
        .opt-white { background-color: #FFFFFF; color: #000; border: 1px solid #ddd; }
        .opt-gold { background-color: #FFD700; color: #000; }
        .opt-silver { background-color: #C0C0C0; color: #000; }

        /* Main Tool Switcher */
        .tool-switcher {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .tool-btn {
            background: var(--card);
            border: 2px solid var(--border);
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 700;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tool-btn:hover { border-color: var(--secondary); transform: translateY(-2px); }
        .tool-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3);
        }

        /* Mode Switcher Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
            background: var(--bg);
            padding: 5px;
            border-radius: 50px;
            border: 1px solid var(--border);
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }
        .tab-btn {
            padding: 10px 25px;
            border: none;
            background: transparent;
            color: var(--text);
            font-weight: 600;
            cursor: pointer;
            border-radius: 40px;
            transition: all 0.3s;
        }
        .tab-btn.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 2px 8px rgba(30, 58, 138, 0.25);
        }

        /* Results Big Display */
        .result-box {
            text-align: center;
            padding: 25px;
            background: var(--card);
            border: 2px solid var(--primary);
            border-radius: 12px;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        .result-box::before {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 6px;
            background: var(--grad);
        }
        .main-value {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--primary);
            font-family: 'Montserrat', sans-serif;
            margin: 10px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .sub-value {
            font-size: 1.3rem;
            color: var(--text);
            opacity: 0.9;
            font-weight: 500;
        }

        /* Educational Section */
        .education-section { padding: 40px; }
        .article-content { font-family: 'Inter', sans-serif; color: var(--text); }
        .article-block { margin-bottom: 40px; }
        .article-block h3 { color: var(--primary); border-left: 5px solid var(--accent); padding-left: 15px; margin-bottom: 20px; font-size: 1.4rem; margin-top:0;}
        .article-block h4 { color: var(--heading); margin-top: 25px; margin-bottom: 15px; font-weight: 700; font-size: 1.1rem; border-bottom:none; }
        .article-block p { line-height: 1.8; margin-bottom: 15px; text-align: justify; }
        .article-block ul { padding-left: 20px; margin-bottom: 15px; }
        .article-block li { margin-bottom: 10px; line-height: 1.6; }
        .highlight-box { background: rgba(37,99,235,0.05); border: 1px solid var(--border); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .color-table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.9rem; }
        .color-table th, .color-table td { padding: 10px; border: 1px solid var(--border); text-align: center; }
        .color-table th { background: var(--bg); font-weight: 700; }
        .swatch { display: inline-block; width: 20px; height: 20px; border-radius: 50%; border: 1px solid rgba(0,0,0,0.1); vertical-align: middle; margin-right: 5px; }
        .formula { background: var(--bg); padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center; font-size: 1.1rem; border: 1px solid var(--border); font-family: 'Courier New', monospace; overflow-x: auto; }

        /* FAQ Accordion */
        .faq-item { border-bottom: 1px solid var(--border); padding: 15px 0; }
        .faq-question { font-weight: 700; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: var(--heading); }
        .faq-answer { display: none; margin-top: 10px; color: var(--text); line-height: 1.7; }
        .faq-item.active .faq-answer { display: block; animation: fadeIn 0.3s; }
        .faq-icon { transition: transform 0.3s; }
        .faq-item.active .faq-icon { transform: rotate(180deg); }

        /* Module Containers */
        .tool-module { display: none; animation: fadeIn 0.4s ease-out; }
        .tool-module.active { display: block; }

        /* Reverse Calculator */
        .reverse-container {
            margin-top: 40px;
            padding: 25px;
            background: rgba(37,99,235,0.03);
            border-radius: 12px;
            border: 1px dashed var(--secondary);
        }

        /* Buttons (Shared) */
        .btn {
            background: var(--grad);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.25);
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(37, 99, 235, 0.35); }
        .btn-outline { background: transparent; border: 2px solid var(--border); color: var(--text); box-shadow: none; }
        .btn-outline:hover { border-color: var(--primary); color: var(--primary); background: rgba(37, 99, 235, 0.05); }

        /* Message Box */
        .message-box {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            padding: 16px 24px; border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); z-index: 9999;
            font-weight: 600; color: white; opacity: 0; transition: all 0.3s; display: none;
        }
        .message-box.show { display: block; opacity: 1; top: 30px; }

        /* Footer */
        footer { background: var(--grad-dark); color: #94A3B8; padding: 60px 0 30px 0; margin-top: 80px; }
        .footer-content { display: flex; justify-content: space-between; flex-wrap: wrap; gap: 40px; margin-bottom: 40px; }
        .footer-col { flex: 1; min-width: 200px; }
        .footer-col h4 { color: white; margin-bottom: 20px; font-weight: 700; font-size: 1.1rem; }
        .footer-col ul { list-style: none; padding: 0; margin: 0; }
        .footer-col li { margin-bottom: 12px; }
        .footer-col a { color: #CBD5E1; text-decoration: none; transition: color 0.2s; }
        .footer-col a:hover { color: var(--accent); }
        .social-buttons { display: flex; gap: 12px; margin-top: 20px; }
        .social-btn { width: 40px; height: 40px; display: flex; justify-content: center; align-items: center; background: rgba(255,255,255,0.05); color: white; border-radius: 50%; font-size: 1.1rem; transition: all 0.2s; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .social-btn:hover { background: var(--secondary); transform: translateY(-3px); }
        .social-btn.linkedin { background-color: #0A66C2; }
        .social-btn.youtube { background-color: #FF0000; }
        .social-btn.twitter { background-color: #1DA1F2; }
        .social-btn.facebook { background-color: #1877F2; }
        .social-btn.whatsapp { background-color: #25D366; }
        .footer-disclaimer { text-align: center; padding-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); max-width: 900px; margin: 0 auto; font-size: 0.85rem; line-height: 1.6; }
        .footer-bottom { text-align: center; padding-top: 20px; font-size: 0.85rem; }
        .hidden { display: none; }

        /* Responsive */
        @media (max-width: 768px) {
            .navbar { flex-direction: column; gap: 20px; }
            .nav-links { flex-direction: column; width: 100%; text-align: center; }
            .tabs { flex-wrap: wrap; border-radius: 12px; }
            .main-value { font-size: 2.2rem; }
            .tool-switcher { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div id="message-box" class="message-box"></div>
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo-container">
                    <span class="logo-text">Design Calculators</span>
                    <p class="logo-subtitle">Inspired by standards such as IEC, IEEE, ISA, ASME, and API.</p>
                </a>
                <ul class="nav-links">
                    <li><a href='/'>Home</a></li>
                    <li><a href='/articles'>Articles</a></li>
                    <li><a href='/indexmech'>Mechanical</a></li>
                    <li><a href='/indexele'>Electrical</a></li>
                    <li><a href='/indexinst'>Instrumentation</a></li>
                </ul>
                <div class="theme-toggle">
                    <i class="fas fa-sun"></i>
                    <label class="switch">
                        <input type="checkbox" id="theme-switch">
                        <span class="slider"></span>
                    </label>
                    <i class="fas fa-moon"></i>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="card">
            <h2><i class="fas fa-microchip"></i> Electronics Calculator Suite</h2>
            <div class="tool-description">
                <p>Commercial-grade engineering suite. Decode standard <strong>Through-Hole Resistors</strong> (IEC 60062), modern <strong>SMD Codes (EIA-96)</strong>, and calculate <strong>LED Series Resistors</strong> with power dissipation analysis.</p>
            </div>

            <!-- Main Tool Switcher -->
            <div class="tool-switcher">
                <button class="tool-btn active" onclick="switchTool('color')"><i class="fas fa-palette"></i> Color Code</button>
                <button class="tool-btn" onclick="switchTool('smd')"><i class="fas fa-microchip"></i> SMD Decoder</button>
                <button class="tool-btn" onclick="switchTool('led')"><i class="fas fa-lightbulb"></i> LED Calculator</button>
            </div>

            <!-- MODULE 1: COLOR CODE -->
            <div id="mod-color" class="tool-module active">
                <div class="tabs">
                    <button class="tab-btn" onclick="setMode(3)">3 Band</button>
                    <button class="tab-btn active" onclick="setMode(4)">4 Band</button>
                    <button class="tab-btn" onclick="setMode(5)">5 Band</button>
                    <button class="tab-btn" onclick="setMode(6)">6 Band</button>
                </div>

                <!-- Resistor Visualizer (Improved with gradients) -->
                <div class="resistor-display">
                    <svg id="resistor-svg" viewBox="0 0 500 150" width="100%" height="150" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="bodyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#FDE68A;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#FFFBEB;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="wireGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#9CA3AF;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#E5E7EB;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#4B5563;stop-opacity:1" />
                            </linearGradient>
                            <!-- Shadow filter -->
                            <filter id="dropshadow" height="130%">
                                <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
                                <feOffset dx="2" dy="2" result="offsetblur"/>
                                <feComponentTransfer>
                                    <feFuncA type="linear" slope="0.3"/>
                                </feComponentTransfer>
                                <feMerge> 
                                    <feMergeNode/>
                                    <feMergeNode in="SourceGraphic"/> 
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- Wire Left -->
                        <rect x="0" y="70" width="80" height="10" fill="url(#wireGrad)" />
                        <!-- Body Structure -->
                        <g filter="url(#dropshadow)">
                            <path d="M80 30 Q80 20 100 20 H120 V130 H100 Q80 130 80 120 Z" fill="url(#bodyGrad)" /> 
                            <rect x="120" y="20" width="260" height="110" fill="url(#bodyGrad)" />
                            <path d="M380 20 H400 Q420 20 420 30 V120 Q420 130 400 130 H380 Z" fill="url(#bodyGrad)" />
                        </g>
                        <!-- Wire Right -->
                        <rect x="420" y="70" width="80" height="10" fill="url(#wireGrad)" />

                        <!-- Bands (Dynamically colored) -->
                        <rect id="visual-b1" x="100" y="20" width="25" height="110" fill="#8B4513" opacity="0.9" />
                        <rect id="visual-b2" x="150" y="20" width="25" height="110" fill="#000000" opacity="0.9" />
                        <rect id="visual-b3" x="200" y="20" width="25" height="110" fill="#000000" opacity="0.9" style="display:none" />
                        <rect id="visual-mul" x="250" y="20" width="25" height="110" fill="#FF0000" opacity="0.9" />
                        <rect id="visual-tol" x="320" y="20" width="25" height="110" fill="#FFD700" opacity="0.9" />
                        <rect id="visual-ppm" x="370" y="20" width="25" height="110" fill="#8B4513" opacity="0.9" style="display:none" />
                    </svg>
                </div>

                <div class="calculator-form">
                    <div class="form-row band-selector-container" id="control-panel">
                        <!-- Generated via JS -->
                    </div>
                </div>

                <div class="result-box">
                    <div id="result-resistance" class="main-value">1.0 kΩ</div>
                    <div id="result-details" class="sub-value">±5% Tolerance</div>
                    <div id="result-standard" style="margin-top:10px; font-weight:600; color:var(--success);">Matches E24 Series</div>
                </div>

                <div class="reverse-container">
                    <h3><i class="fas fa-exchange-alt"></i> Reverse Lookup: Value to Color</h3>
                    <div class="form-row" style="align-items: flex-end;">
                        <div class="form-group" style="flex:1;">
                            <label>Target Resistance</label>
                            <input type="text" id="reverse-input" placeholder="e.g. 4.7k, 2M2, 100R">
                        </div>
                        <div class="form-group">
                            <button type="button" class="btn" onclick="performReverseLookup()">Find Colors</button>
                        </div>
                    </div>
                    <div id="reverse-result" style="margin-top:15px; font-weight:600; min-height:30px;"></div>
                </div>
            </div>

            <!-- MODULE 2: SMD DECODER -->
            <div id="mod-smd" class="tool-module">
                <div class="form-row">
                    <div class="form-group">
                        <label>Enter SMD Code</label>
                        <input type="text" id="smd-input" placeholder="e.g. 103, 472, 01C, 4R7" style="font-size:1.5rem; text-transform:uppercase;">
                        <p style="font-size:0.85rem; color:#666; margin-top:5px;">Supports 3-digit, 4-digit, and EIA-96 codes.</p>
                    </div>
                    <div class="form-group" style="display:flex; align-items:flex-end;">
                        <button type="button" class="btn" onclick="calculateSMD()">Decode</button>
                    </div>
                </div>
                <div class="result-box">
                    <div id="smd-result" class="main-value">-</div>
                    <div id="smd-type" class="sub-value">Enter code above</div>
                </div>
            </div>

            <!-- MODULE 3: LED CALCULATOR -->
            <div id="mod-led" class="tool-module">
                <div class="form-row">
                    <div class="form-group">
                        <label>Source Voltage ($V_s$) [V]</label>
                        <input type="number" id="led-vs" value="12">
                    </div>
                    <div class="form-group">
                        <label>LED Forward Voltage ($V_f$) [V]</label>
                        <input type="number" id="led-vf" value="3.3">
                    </div>
                    <div class="form-group">
                        <label>LED Current ($I$) [mA]</label>
                        <input type="number" id="led-i" value="20">
                    </div>
                </div>
                <div class="button-wrapper">
                    <button type="button" class="btn" onclick="calculateLED()">Calculate Resistor</button>
                </div>
                <div class="result-box" id="led-output-box" style="display:none;">
                    <div id="led-res-val" class="main-value"></div>
                    <div id="led-res-power" class="sub-value"></div>
                    <div id="led-standard" style="margin-top:15px; padding-top:15px; border-top:1px dashed var(--border); color:var(--success);"></div>
                </div>
            </div>
            
            <div class="button-wrapper" style="margin-top:40px;">
                <button type="button" id="pdf-btn" class="btn btn-outline"><i class="fas fa-file-pdf"></i> Download Datasheet</button>
            </div>
        </div>

        <!-- NEW EDUCATIONAL CONTENT SECTION -->
        <div class="card education-section">
            <h2><i class="fas fa-book-open"></i> Electronics Engineering Guide: Resistors & Standards</h2>
            <div class="article-content">
                
                <div class="article-block">
                    <h3>1. What This Tool Does</h3>
                    <p>This Engineering Suite is a unified utility for identifying and designing resistor circuits. It bridges legacy components with modern Surface Mount Technology (SMT).</p>
                    <ul>
                        <li><strong>Color Code Decoder:</strong> Translates IEC 60062 color bands into resistance, tolerance, and temperature coefficient values. Essential for identifying vintage and through-hole components.</li>
                        <li><strong>SMD Decoder:</strong> Parses the often confusing markings on chip resistors, distinguishing between the standard numeric system (103 = 10k) and the complex EIA-96 alphanumeric system (01C = 10k).</li>
                        <li><strong>LED Circuit Designer:</strong> Calculates the precise series resistance needed to drive LEDs safely, including a critical <strong>Power Dissipation Analysis</strong> to prevent burning out components.</li>
                    </ul>
                </div>

                <div class="article-block">
                    <h3>2. Deep Dive: The IEC 60062 Color Code Standard</h3>
                    <p>Resistor color coding was established to allow value identification on small, cylindrical components where printed text would be illegible or rub off. The standard defines a mapping between colors and numbers (Black=0, Brown=1, etc.).</p>
                    
                    <div class="highlight-box">
                        <h4>Band Logic Explained</h4>
                        <ul>
                            <li><strong>4-Band (General Purpose):</strong> Used for 5% or 10% tolerance resistors.
                                <br><em>Digit 1 | Digit 2 | Multiplier | Tolerance</em></li>
                            <li><strong>5-Band (Precision):</strong> Used for 1% or tighter tolerance. Adds a significant digit.
                                <br><em>Digit 1 | Digit 2 | Digit 3 | Multiplier | Tolerance</em></li>
                            <li><strong>6-Band (Temp Coeff):</strong> Used in high-precision analog circuits. Adds a PPM (Parts Per Million) band.
                                <br><em>Digit 1 | Digit 2 | Digit 3 | Multiplier | Tolerance | Temp Coeff</em></li>
                        </ul>
                    </div>
                </div>

                <div class="article-block">
                    <h3>3. Understanding Standard E-Series (E24 vs E96)</h3>
                    <p>Resistors are not manufactured in every possible integer value. Instead, they follow a logarithmic scale known as the "E-Series." The number following 'E' denotes how many values exist per decade (e.g., between 10 and 100).</p>
                    <ul>
                        <li><strong>E12 (10%):</strong> 10, 12, 15, 18, 22, 27, 33, 39, 47, 56, 68, 82.</li>
                        <li><strong>E24 (5%):</strong> Most common. Includes values like 1.1, 1.3, 1.6, etc.</li>
                        <li><strong>E96 (1%):</strong> High precision series with 96 values per decade, allowing for very specific circuit tuning.</li>
                    </ul>
                    <p>This calculator automatically checks if your calculated result matches a standard E24 value, helping you select a part that actually exists in inventory.</p>
                </div>

                <div class="article-block">
                    <h3>4. LED Current Limiting & Power Physics</h3>
                    <p>An LED (Light Emitting Diode) is a non-linear device. Unlike a resistor, its current does not scale linearly with voltage. Once the forward voltage ($V_f$) is reached, current shoots up exponentially.</p>
                    <div class="formula">$$ R_{series} = \frac{V_{source} - V_{f}}{I_{led}} $$</div>
                    <p><strong>The Power Trap:</strong> Beginners often calculate the resistance but forget the wattage. A resistor dropping 9V at 20mA dissipates $P = V \times I = 9 \times 0.02 = 0.18W$. A standard 1/8W (0.125W) resistor would burn up. You would need a 1/4W resistor. This calculator performs this check automatically.</p>
                </div>

                <div class="article-block">
                    <h3>5. Frequently Asked Questions (FAQ)</h3>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">How do I know which end of the resistor to read from? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">The tolerance band (Gold or Silver) is usually spaced further apart from the other bands and is always the last band. If there is no Gold/Silver band, look for the bands grouped closely together; reading starts from that end. On 5/6 band precision resistors, the tolerance band is often wider or separated by a larger gap.</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What is the difference between 4-band and 5-band resistors? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">A 4-band resistor has 2 significant digits, a multiplier, and a tolerance (usually 5% or 10%). A 5-band resistor is a precision component with 3 significant digits, a multiplier, and a tighter tolerance (usually 1% or less). The extra digit allows for more specific resistance values (E96 series).</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What does the EIA-96 SMD code mean? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">EIA-96 is a compact coding system for 1% precision SMD resistors. It uses two digits to represent a value from a lookup table (01-96) and a letter to represent the multiplier. For example, "01C" does not mean 100 ohms; "01" looks up to "100" and "C" is a multiplier of 100, resulting in 10kΩ.</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Why do LEDs need a series resistor? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">LEDs are non-linear, current-driven devices with very low internal resistance once they conduct. Connecting them directly to a voltage source typically causes infinite current flow, destroying the LED instantly. A resistor is required to limit the current to a safe level (typically 20mA).</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What is the "Power Rating" of a resistor? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">Resistors dissipate energy as heat ($P = I^2R$). The power rating (e.g., 1/4W, 1/2W, 1W) indicates the maximum heat the resistor can shed before burning out. It is good engineering practice to select a resistor with a rating at least 2x the calculated actual power dissipation.</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What are Standard E-Series Values? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">Resistors are not manufactured in every possible value. They follow logarithmic series (E6, E12, E24, E96). For example, in the E12 series (10% tolerance), values are spaced so their tolerance bands overlap, covering the full spectrum efficiently (10, 12, 15, 18, 22...).</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What is a Zero-Ohm resistor used for? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">A zero-ohm resistor (single black band or marked "0") is essentially a wire link packaged as a resistor. It is used on PCBs to bridge tracks (jumpers) or as a placeholder for configuration options, allowing the same pick-and-place machine to install it.</div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What is the Temperature Coefficient (PPM)? <i class="fas fa-chevron-down faq-icon"></i></div>
                        <div class="faq-answer">Found on 6-band resistors, the 6th band indicates how much the resistance changes with temperature, measured in Parts Per Million per Degree Celsius (PPM/°C). A 50ppm resistor changes its value by 0.005% for every 1°C change, critical for precision instrumentation.</div>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h4>Design Calculators</h4>
                    <p style="font-size: 0.9rem; line-height: 1.6; margin-bottom: 15px;">Empowering engineers with precision tools for complex analysis. If you find this tool helpful, please consider sharing it with your colleagues!</p>
                    <div class="social-buttons">
                        <a href="#" class="social-btn linkedin"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social-btn youtube"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-btn twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-btn facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20amazing%20engineering%20resource:%20https://designcalculators.co.in" target="_blank" rel="noopener noreferrer" class="social-btn whatsapp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href='/'>Home</a></li>
                        <li><a href='/indexele'>Electrical</a></li>
                        <li><a href='/indexmech'>Mechanical</a></li>
                        <li><a href='/indexinst'>Instrumentation</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="about">About Us</a></li>
                        <li><a href="contact">Contact</a></li>
                        <li><a href="privacy-policy">Privacy Policy</a></li>
                        <li><a href="terms-of-service">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-disclaimer">
                <p>Calculations for educational use. Always verify component datasheets.</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Design Calculators. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data Definitions
        const COLORS = {
            black: { val: 0, mult: 1, tol: null, ppm: 250, hex: '#000000', text: '#fff' },
            brown: { val: 1, mult: 10, tol: 1, ppm: 100, hex: '#8B4513', text: '#fff' },
            red: { val: 2, mult: 100, tol: 2, ppm: 50, hex: '#FF0000', text: '#fff' },
            orange: { val: 3, mult: 1000, tol: null, ppm: 15, hex: '#FFA500', text: '#000' },
            yellow: { val: 4, mult: 10000, tol: null, ppm: 25, hex: '#FFFF00', text: '#000' },
            green: { val: 5, mult: 100000, tol: 0.5, ppm: 20, hex: '#008000', text: '#fff' },
            blue: { val: 6, mult: 1000000, tol: 0.25, ppm: 10, hex: '#0000FF', text: '#fff' },
            violet: { val: 7, mult: 10000000, tol: 0.1, ppm: 5, hex: '#EE82EE', text: '#000' },
            gray: { val: 8, mult: 100000000, tol: 0.05, ppm: 1, hex: '#808080', text: '#fff' },
            white: { val: 9, mult: 1000000000, tol: null, ppm: null, hex: '#FFFFFF', text: '#000' },
            gold: { val: null, mult: 0.1, tol: 5, ppm: null, hex: '#FFD700', text: '#000' },
            silver: { val: null, mult: 0.01, tol: 10, ppm: null, hex: '#C0C0C0', text: '#000' }
        };

        const BAND_OPTIONS = Object.keys(COLORS);
        const DIGIT_COLORS = BAND_OPTIONS.filter(c => COLORS[c].val !== null);
        const MULT_COLORS = BAND_OPTIONS;
        const TOL_COLORS = BAND_OPTIONS.filter(c => COLORS[c].tol !== null);
        const PPM_COLORS = BAND_OPTIONS.filter(c => COLORS[c].ppm !== null);

        // EIA-96 Lookup
        const EIA96_Multipliers = {
            'Z': 0.001, 'Y': 0.01, 'R': 0.01, 'X': 0.1, 'S': 0.1, 
            'A': 1, 'B': 10, 'C': 100, 'D': 1000, 'E': 10000, 'F': 100000
        };
        const EIA96_Codes = {
            '01':100, '02':102, '03':105, '04':107, '05':110, '06':113, '07':115, '08':118, '09':121,
            '10':124, '11':127, '12':130, '13':133, '14':137, '15':140, '16':143, '17':147, '18':150,
            '19':154, '20':158, '21':162, '22':165, '23':169, '24':174, '25':178, '26':182, '27':187,
            '28':191, '29':196, '30':200, '31':205, '32':210, '33':215, '34':221, '35':226, '36':232,
            '37':237, '38':243, '39':249, '40':255, '41':261, '42':267, '43':274, '44':280, '45':287,
            '46':294, '47':301, '48':309, '49':316, '50':324, '51':332, '52':340, '53':348, '54':357,
            '55':365, '56':374, '57':383, '58':392, '59':402, '60':412, '61':422, '62':432, '63':442,
            '64':453, '65':464, '66':475, '67':487, '68':499, '69':511, '70':523, '71':536, '72':549,
            '73':562, '74':576, '75':590, '76':604, '77':619, '78':634, '79':649, '80':665, '81':681,
            '82':698, '83':715, '84':732, '85':750, '86':768, '87':787, '88':806, '89':825, '90':845,
            '91':866, '92':887, '93':909, '94':931, '95':953, '96':976
        };

        // State
        let currentMode = 4;
        let selections = { b1: 'brown', b2: 'black', b3: 'black', mul: 'red', tol: 'gold', ppm: 'brown' };

        // Initialization
        document.addEventListener('DOMContentLoaded', () => {
            // Theme handling
            const themeSwitch = document.getElementById('theme-switch');
            if (themeSwitch && localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark-mode');
                themeSwitch.checked = true;
            }
            if(themeSwitch) {
                themeSwitch.addEventListener('change', function() {
                    document.body.classList.toggle('dark-mode');
                    localStorage.setItem('theme', this.checked ? 'dark' : 'light');
                });
            }
            
            renderControls();
            updateCalculator();
            document.getElementById('pdf-btn').addEventListener('click', generatePDF);
        });

        // --- NAV LOGIC ---
        function switchTool(toolId) {
            // UI Update
            document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            // Show/Hide Modules
            document.querySelectorAll('.tool-module').forEach(m => m.classList.remove('active'));
            document.getElementById('mod-' + toolId).classList.add('active');
        }
        
        // FAQ Toggle
        function toggleFaq(element) {
            const item = element.parentElement;
            item.classList.toggle('active');
        }

        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            if(mode === 3 || mode === 4) selections.b3 = null;
            else if(!selections.b3) selections.b3 = 'black';
            
            renderControls();
            updateCalculator();
        }

        // --- COLOR CODE LOGIC ---
        function renderControls() {
            const container = document.getElementById('control-panel');
            container.innerHTML = '';

            const createSelect = (id, label, options, currentVal) => {
                const grp = document.createElement('div');
                grp.className = 'form-group';
                const lbl = document.createElement('label');
                lbl.innerText = label;
                grp.appendChild(lbl);
                const sel = document.createElement('select');
                sel.className = `color-band-select opt-${currentVal}`;
                sel.id = id;
                sel.onchange = (e) => {
                    selections[id] = e.target.value;
                    sel.className = `color-band-select opt-${e.target.value}`;
                    updateCalculator();
                };
                options.forEach(c => {
                    const opt = document.createElement('option');
                    opt.value = c;
                    opt.innerText = c.charAt(0).toUpperCase() + c.slice(1);
                    if(c === currentVal) opt.selected = true;
                    sel.appendChild(opt);
                });
                grp.appendChild(sel);
                return grp;
            };

            container.appendChild(createSelect('b1', 'Band 1', DIGIT_COLORS, selections.b1));
            container.appendChild(createSelect('b2', 'Band 2', DIGIT_COLORS, selections.b2));
            if(currentMode >= 5) container.appendChild(createSelect('b3', 'Band 3', DIGIT_COLORS, selections.b3));
            container.appendChild(createSelect('mul', 'Multiplier', MULT_COLORS, selections.mul));
            if(currentMode >= 4) container.appendChild(createSelect('tol', 'Tolerance', TOL_COLORS, selections.tol));
            if(currentMode === 6) container.appendChild(createSelect('ppm', 'Temp Coeff.', PPM_COLORS, selections.ppm));
        }

        function updateCalculator() {
            // Colors
            document.getElementById('visual-b1').setAttribute('fill', COLORS[selections.b1].hex);
            document.getElementById('visual-b2').setAttribute('fill', COLORS[selections.b2].hex);
            
            const vB3 = document.getElementById('visual-b3');
            if(currentMode >= 5) { vB3.style.display = 'block'; vB3.setAttribute('fill', COLORS[selections.b3].hex); }
            else vB3.style.display = 'none';

            document.getElementById('visual-mul').setAttribute('fill', COLORS[selections.mul].hex);
            
            const vTol = document.getElementById('visual-tol');
            if(currentMode >= 4) { vTol.style.display = 'block'; vTol.setAttribute('fill', COLORS[selections.tol].hex); }
            else vTol.style.display = 'none';

            const vPPM = document.getElementById('visual-ppm');
            if(currentMode === 6) { vPPM.style.display = 'block'; vPPM.setAttribute('fill', COLORS[selections.ppm].hex); }
            else vPPM.style.display = 'none';

            // Math
            let digits = COLORS[selections.b1].val.toString() + COLORS[selections.b2].val.toString();
            if(currentMode >= 5) digits += COLORS[selections.b3].val.toString();
            
            const baseVal = parseInt(digits);
            const multiplier = COLORS[selections.mul].mult;
            const ohms = baseVal * multiplier;
            let tolVal = currentMode >= 4 ? COLORS[selections.tol].tol : 20;
            let ppmVal = currentMode === 6 ? COLORS[selections.ppm].ppm : null;

            document.getElementById('result-resistance').innerText = formatOhms(ohms);
            
            let details = `±${tolVal}% Tolerance`;
            if(ppmVal) details += ` • ${ppmVal} ppm/°C`;
            document.getElementById('result-details').innerText = details;

            checkStandardSeries(ohms);
        }

        // --- SMD LOGIC ---
        function calculateSMD() {
            const code = document.getElementById('smd-input').value.trim().toUpperCase();
            const resEl = document.getElementById('smd-result');
            const typeEl = document.getElementById('smd-type');
            
            if(!code) return;

            let ohms = 0;
            let type = "Unknown";

            // Case 1: 'R' for decimal (e.g. 4R7, R100)
            if (code.includes('R')) {
                ohms = parseFloat(code.replace('R', '.'));
                type = "Decimal Code (Direct Value)";
            }
            // Case 2: EIA-96 (2 digits + Letter) e.g. 01C
            else if (code.length === 3 && isNaN(code[2])) {
                const valCode = code.substring(0,2);
                const multLetter = code[2];
                if (EIA96_Codes[valCode] && EIA96_Multipliers[multLetter]) {
                    ohms = EIA96_Codes[valCode] * EIA96_Multipliers[multLetter];
                    type = "EIA-96 (1% Precision)";
                } else {
                    resEl.innerHTML = "<span style='color:var(--danger)'>Invalid EIA-96</span>";
                    return;
                }
            }
            // Case 3: 3-Digit Standard (e.g. 103)
            else if (code.length === 3 && !isNaN(code)) {
                const base = parseInt(code.substring(0, 2));
                const mult = parseInt(code[2]);
                ohms = base * Math.pow(10, mult);
                type = "3-Digit Standard (5%)";
            }
            // Case 4: 4-Digit Standard (e.g. 1002)
            else if (code.length === 4 && !isNaN(code)) {
                const base = parseInt(code.substring(0, 3));
                const mult = parseInt(code[3]);
                ohms = base * Math.pow(10, mult);
                type = "4-Digit Precision (1%)";
            } else {
                resEl.innerHTML = "<span style='color:var(--danger)'>Invalid Code</span>";
                return;
            }

            resEl.innerText = formatOhms(ohms);
            typeEl.innerText = type;
        }

        // --- LED LOGIC ---
        function calculateLED() {
            const Vs = parseFloat(document.getElementById('led-vs').value);
            const Vf = parseFloat(document.getElementById('led-vf').value);
            const I_ma = parseFloat(document.getElementById('led-i').value);
            
            if(Vs <= Vf) {
                alert("Source voltage must be higher than LED voltage!");
                return;
            }

            const I_amps = I_ma / 1000;
            const R = (Vs - Vf) / I_amps;
            const Power = (I_amps * I_amps) * R;

            document.getElementById('led-output-box').style.display = 'block';
            document.getElementById('led-res-val').innerText = formatOhms(R);
            document.getElementById('led-res-power').innerHTML = `Dissipates <strong>${(Power * 1000).toFixed(0)} mW</strong>`;
            
            // Find Standard Value
            const e24 = [10,11,12,13,15,16,18,20,22,24,27,30,33,36,39,43,47,51,56,62,68,75,82,91];
            // Normalize
            let mult = 1;
            let tempR = R;
            while (tempR >= 100) { tempR /= 10; mult *= 10; }
            while (tempR < 10) { tempR *= 10; mult /= 10; }
            
            // Find nearest higher (safer)
            let safeVal = 0;
            for(let v of e24) {
                if(v >= tempR) { safeVal = v; break; }
            }
            if(safeVal === 0) { safeVal = 10; mult *= 10; } // wrap to next decade
            
            const finalR = safeVal * mult;
            document.getElementById('led-standard').innerText = `Recommended Standard Value: ${formatOhms(finalR)} (E24)`;
        }

        // --- SHARED HELPERS ---
        function formatOhms(r) {
            if (r >= 1e6) return (r / 1e6).toFixed(r % 1e6 === 0 ? 0 : 2) + " MΩ";
            if (r >= 1e3) return (r / 1e3).toFixed(r % 1e3 === 0 ? 0 : 2) + " kΩ";
            return r.toFixed(r % 1 === 0 ? 0 : 2) + " Ω";
        }

        function checkStandardSeries(ohms) {
            const e24 = [10,11,12,13,15,16,18,20,22,24,27,30,33,36,39,43,47,51,56,62,68,75,82,91];
            let checkVal = ohms;
            while(checkVal >= 100) checkVal /= 10;
            while(checkVal < 10) checkVal *= 10;
            checkVal = parseFloat(checkVal.toFixed(1)); 
            // Simple rounding for float errors
            let match = e24.find(e => Math.abs(e - checkVal) < 0.1);
            
            const stdEl = document.getElementById('result-standard');
            if(match) {
                stdEl.innerText = "Matches Standard E24 Series";
                stdEl.style.color = "var(--success)";
            } else {
                stdEl.innerText = "Non-Standard E24 Value";
                stdEl.style.color = "var(--warning)";
            }
        }

        function performReverseLookup() {
            const input = document.getElementById('reverse-input').value.toLowerCase().trim();
            const resEl = document.getElementById('reverse-result');
            if(!input) return;

            // Handle engineering format: 4k7 -> 4.7k
            let cleanInput = input;
            if(input.match(/^\d+[kkmr]\d+$/)) {
                // Insert decimal
                const unit = input.match(/[kkmr]/)[0];
                cleanInput = input.replace(unit, '.');
                if(unit === 'k') cleanInput += 'k';
                if(unit === 'm') cleanInput += 'm';
                // r is just unitless or ohms
            }

            let valStr = cleanInput.replace('ohm', '').replace('Ω', '');
            let mult = 1;
            if(valStr.includes('k')) { mult = 1000; valStr = valStr.replace('k',''); }
            if(valStr.includes('m')) { mult = 1000000; valStr = valStr.replace('m',''); }
            if(valStr.includes('r')) { valStr = valStr.replace('r','.'); }

            const val = parseFloat(valStr) * mult;
            if(isNaN(val)) {
                resEl.innerHTML = "<span style='color:var(--danger)'>Invalid format</span>";
                return;
            }

            // Map to 4-band colors (Approx)
            // 4700 -> 4, 7, 2 (Red)
            let digits, power;
            if(val < 10) {
               // Special low ohm
               // e.g. 4.7. digits 47, mult -1 (Gold)
               digits = Math.round(val * 10); // 47
               power = -1;
               if(val < 1) { digits = Math.round(val * 100); power = -2; }
            } else {
               let s = val.toExponential(); 
               let mantissa = parseFloat(s.split('e')[0]);
               let exp = parseInt(s.split('e')[1]);
               // e.g. 4.7e3 -> 47, exp-1? No.
               // We need 2 digits. 
               // 4700 -> 47 * 10^2
               // 100 -> 10 * 10^1
               // Get first 2 chars of simplified val
               let str = val.toString().replace('.','');
               let d1 = parseInt(str[0]);
               let d2 = parseInt(str[1] || 0);
               digits = d1*10 + d2;
               
               // Reconstruct magnitude
               let reconstructed = digits;
               let p = 0;
               if (val >= 10) {
                   // 47 vs 4700.
                   while (reconstructed < val) { reconstructed *= 10; p++; }
                   power = p;
               }
            }
            
            let d1 = Math.floor(digits / 10);
            let d2 = digits % 10;
            
            let mColor = Object.keys(COLORS).find(k => Math.abs(COLORS[k].mult - Math.pow(10, power)) < 0.0001);
            let c1 = Object.keys(COLORS).find(k => COLORS[k].val === d1);
            let c2 = Object.keys(COLORS).find(k => COLORS[k].val === d2);

            if (c1 && c2 && mColor) {
                resEl.innerHTML = `
                    Colors (4-Band): 
                    <span class="swatch" style="background:${COLORS[c1].hex}"></span> ${c1} 
                    <span class="swatch" style="background:${COLORS[c2].hex}"></span> ${c2} 
                    <span class="swatch" style="background:${COLORS[mColor].hex}"></span> ${mColor}
                `;
            } else {
                resEl.innerText = "Could not map value to standard colors (Try Standard E24 values).";
            }
        }

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFontSize(18); doc.setTextColor(30, 58, 138);
            doc.text("Resistor Report", 14, 20);
            doc.setFontSize(12); doc.setTextColor(0);
            
            if(document.getElementById('mod-color').classList.contains('active')) {
                const ohms = document.getElementById('result-resistance').innerText;
                doc.text(`Resistance: ${ohms}`, 14, 40);
                // Add table...
            } else if (document.getElementById('mod-smd').classList.contains('active')) {
                doc.text(`SMD Code: ${document.getElementById('smd-input').value}`, 14, 40);
                doc.text(`Result: ${document.getElementById('smd-result').innerText}`, 14, 50);
            }
            
            doc.save('resistor_data.pdf');
        }
    </script>
</body>
</html>
